function AC(A,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in A)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(A,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var EI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C1(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}function hf(A){if(Object.prototype.hasOwnProperty.call(A,"__esModule"))return A;var e=A.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(A).forEach(function(n){var a=Object.getOwnPropertyDescriptor(A,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return A[n]}})}),t}var mg={exports:{}},Qd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function rC(){if(g2)return Qd;g2=1;var A=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var f in a)f!=="key"&&(i[f]=a[f])}else i=a;return a=i.ref,{$$typeof:A,type:n,key:l,ref:a!==void 0?a:null,props:i}}return Qd.Fragment=e,Qd.jsx=t,Qd.jsxs=t,Qd}var m2;function nC(){return m2||(m2=1,mg.exports=rC()),mg.exports}var c=nC(),wg={exports:{}},dA={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function sC(){if(w2)return dA;w2=1;var A=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,U={};function _(H,N,k){this.props=H,this.context=N,this.refs=U,this.updater=k||S}_.prototype.isReactComponent={},_.prototype.setState=function(H,N){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,N,"setState")},_.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function Q(){}Q.prototype=_.prototype;function L(H,N,k){this.props=H,this.context=N,this.refs=U,this.updater=k||S}var W=L.prototype=new Q;W.constructor=L,E(W,_.prototype),W.isPureReactComponent=!0;var X=Array.isArray;function re(){}var J={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function ae(H,N,k){var P=k.ref;return{$$typeof:A,type:H,key:N,ref:P!==void 0?P:null,props:k}}function me(H,N){return ae(H.type,N,H.props)}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===A}function O(H){var N={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(k){return N[k]})}var Y=/\/+/g;function Ae(H,N){return typeof H=="object"&&H!==null&&H.key!=null?O(""+H.key):N.toString(36)}function Ce(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(re,re):(H.status="pending",H.then(function(N){H.status==="pending"&&(H.status="fulfilled",H.value=N)},function(N){H.status==="pending"&&(H.status="rejected",H.reason=N)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ee(H,N,k,P,G){var z=typeof H;(z==="undefined"||z==="boolean")&&(H=null);var ie=!1;if(H===null)ie=!0;else switch(z){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(H.$$typeof){case A:case e:ie=!0;break;case g:return ie=H._init,ee(ie(H._payload),N,k,P,G)}}if(ie)return G=G(H),ie=P===""?"."+Ae(H,0):P,X(G)?(k="",ie!=null&&(k=ie.replace(Y,"$&/")+"/"),ee(G,N,k,"",function(Be){return Be})):G!=null&&(D(G)&&(G=me(G,k+(G.key==null||H&&H.key===G.key?"":(""+G.key).replace(Y,"$&/")+"/")+ie)),N.push(G)),1;ie=0;var he=P===""?".":P+":";if(X(H))for(var ue=0;ue<H.length;ue++)P=H[ue],z=he+Ae(P,ue),ie+=ee(P,N,k,z,G);else if(ue=w(H),typeof ue=="function")for(H=ue.call(H),ue=0;!(P=H.next()).done;)P=P.value,z=he+Ae(P,ue++),ie+=ee(P,N,k,z,G);else if(z==="object"){if(typeof H.then=="function")return ee(Ce(H),N,k,P,G);throw N=String(H),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return ie}function ce(H,N,k){if(H==null)return H;var P=[],G=0;return ee(H,P,"","",function(z){return N.call(k,z,G++)}),P}function le(H){if(H._status===-1){var N=H._result;N=N(),N.then(function(k){(H._status===0||H._status===-1)&&(H._status=1,H._result=k)},function(k){(H._status===0||H._status===-1)&&(H._status=2,H._result=k)}),H._status===-1&&(H._status=0,H._result=N)}if(H._status===1)return H._result.default;throw H._result}var Ne=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},te={map:ce,forEach:function(H,N,k){ce(H,function(){N.apply(this,arguments)},k)},count:function(H){var N=0;return ce(H,function(){N++}),N},toArray:function(H){return ce(H,function(N){return N})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return dA.Activity=b,dA.Children=te,dA.Component=_,dA.Fragment=t,dA.Profiler=a,dA.PureComponent=L,dA.StrictMode=n,dA.Suspense=d,dA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,dA.__COMPILER_RUNTIME={__proto__:null,c:function(H){return J.H.useMemoCache(H)}},dA.cache=function(H){return function(){return H.apply(null,arguments)}},dA.cacheSignal=function(){return null},dA.cloneElement=function(H,N,k){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var P=E({},H.props),G=H.key;if(N!=null)for(z in N.key!==void 0&&(G=""+N.key),N)!V.call(N,z)||z==="key"||z==="__self"||z==="__source"||z==="ref"&&N.ref===void 0||(P[z]=N[z]);var z=arguments.length-2;if(z===1)P.children=k;else if(1<z){for(var ie=Array(z),he=0;he<z;he++)ie[he]=arguments[he+2];P.children=ie}return ae(H.type,G,P)},dA.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:i,_context:H},H},dA.createElement=function(H,N,k){var P,G={},z=null;if(N!=null)for(P in N.key!==void 0&&(z=""+N.key),N)V.call(N,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(G[P]=N[P]);var ie=arguments.length-2;if(ie===1)G.children=k;else if(1<ie){for(var he=Array(ie),ue=0;ue<ie;ue++)he[ue]=arguments[ue+2];G.children=he}if(H&&H.defaultProps)for(P in ie=H.defaultProps,ie)G[P]===void 0&&(G[P]=ie[P]);return ae(H,z,G)},dA.createRef=function(){return{current:null}},dA.forwardRef=function(H){return{$$typeof:f,render:H}},dA.isValidElement=D,dA.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:le}},dA.memo=function(H,N){return{$$typeof:h,type:H,compare:N===void 0?null:N}},dA.startTransition=function(H){var N=J.T,k={};J.T=k;try{var P=H(),G=J.S;G!==null&&G(k,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(re,Ne)}catch(z){Ne(z)}finally{N!==null&&k.types!==null&&(N.types=k.types),J.T=N}},dA.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},dA.use=function(H){return J.H.use(H)},dA.useActionState=function(H,N,k){return J.H.useActionState(H,N,k)},dA.useCallback=function(H,N){return J.H.useCallback(H,N)},dA.useContext=function(H){return J.H.useContext(H)},dA.useDebugValue=function(){},dA.useDeferredValue=function(H,N){return J.H.useDeferredValue(H,N)},dA.useEffect=function(H,N){return J.H.useEffect(H,N)},dA.useEffectEvent=function(H){return J.H.useEffectEvent(H)},dA.useId=function(){return J.H.useId()},dA.useImperativeHandle=function(H,N,k){return J.H.useImperativeHandle(H,N,k)},dA.useInsertionEffect=function(H,N){return J.H.useInsertionEffect(H,N)},dA.useLayoutEffect=function(H,N){return J.H.useLayoutEffect(H,N)},dA.useMemo=function(H,N){return J.H.useMemo(H,N)},dA.useOptimistic=function(H,N){return J.H.useOptimistic(H,N)},dA.useReducer=function(H,N,k){return J.H.useReducer(H,N,k)},dA.useRef=function(H){return J.H.useRef(H)},dA.useState=function(H){return J.H.useState(H)},dA.useSyncExternalStore=function(H,N,k){return J.H.useSyncExternalStore(H,N,k)},dA.useTransition=function(){return J.H.useTransition()},dA.version="19.2.1",dA}var v2;function E1(){return v2||(v2=1,wg.exports=sC()),wg.exports}var Z=E1();const rf=C1(Z);var vg={exports:{}},Fd={},bg={exports:{}},yg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function aC(){return b2||(b2=1,(function(A){function e(ee,ce){var le=ee.length;ee.push(ce);e:for(;0<le;){var Ne=le-1>>>1,te=ee[Ne];if(0<a(te,ce))ee[Ne]=ce,ee[le]=te,le=Ne;else break e}}function t(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var ce=ee[0],le=ee.pop();if(le!==ce){ee[0]=le;e:for(var Ne=0,te=ee.length,H=te>>>1;Ne<H;){var N=2*(Ne+1)-1,k=ee[N],P=N+1,G=ee[P];if(0>a(k,le))P<te&&0>a(G,k)?(ee[Ne]=G,ee[P]=le,Ne=P):(ee[Ne]=k,ee[N]=le,Ne=N);else if(P<te&&0>a(G,le))ee[Ne]=G,ee[P]=le,Ne=P;else break e}}return ce}function a(ee,ce){var le=ee.sortIndex-ce.sortIndex;return le!==0?le:ee.id-ce.id}if(A.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;A.unstable_now=function(){return i.now()}}else{var l=Date,f=l.now();A.unstable_now=function(){return l.now()-f}}var d=[],h=[],g=1,b=null,x=3,w=!1,S=!1,E=!1,U=!1,_=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function W(ee){for(var ce=t(h);ce!==null;){if(ce.callback===null)n(h);else if(ce.startTime<=ee)n(h),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(h)}}function X(ee){if(E=!1,W(ee),!S)if(t(d)!==null)S=!0,re||(re=!0,O());else{var ce=t(h);ce!==null&&Ce(X,ce.startTime-ee)}}var re=!1,J=-1,V=5,ae=-1;function me(){return U?!0:!(A.unstable_now()-ae<V)}function D(){if(U=!1,re){var ee=A.unstable_now();ae=ee;var ce=!0;try{e:{S=!1,E&&(E=!1,Q(J),J=-1),w=!0;var le=x;try{t:{for(W(ee),b=t(d);b!==null&&!(b.expirationTime>ee&&me());){var Ne=b.callback;if(typeof Ne=="function"){b.callback=null,x=b.priorityLevel;var te=Ne(b.expirationTime<=ee);if(ee=A.unstable_now(),typeof te=="function"){b.callback=te,W(ee),ce=!0;break t}b===t(d)&&n(d),W(ee)}else n(d);b=t(d)}if(b!==null)ce=!0;else{var H=t(h);H!==null&&Ce(X,H.startTime-ee),ce=!1}}break e}finally{b=null,x=le,w=!1}ce=void 0}}finally{ce?O():re=!1}}}var O;if(typeof L=="function")O=function(){L(D)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Ae=Y.port2;Y.port1.onmessage=D,O=function(){Ae.postMessage(null)}}else O=function(){_(D,0)};function Ce(ee,ce){J=_(function(){ee(A.unstable_now())},ce)}A.unstable_IdlePriority=5,A.unstable_ImmediatePriority=1,A.unstable_LowPriority=4,A.unstable_NormalPriority=3,A.unstable_Profiling=null,A.unstable_UserBlockingPriority=2,A.unstable_cancelCallback=function(ee){ee.callback=null},A.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ee?Math.floor(1e3/ee):5},A.unstable_getCurrentPriorityLevel=function(){return x},A.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var ce=3;break;default:ce=x}var le=x;x=ce;try{return ee()}finally{x=le}},A.unstable_requestPaint=function(){U=!0},A.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var le=x;x=ee;try{return ce()}finally{x=le}},A.unstable_scheduleCallback=function(ee,ce,le){var Ne=A.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ne+le:Ne):le=Ne,ee){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=le+te,ee={id:g++,callback:ce,priorityLevel:ee,startTime:le,expirationTime:te,sortIndex:-1},le>Ne?(ee.sortIndex=le,e(h,ee),t(d)===null&&ee===t(h)&&(E?(Q(J),J=-1):E=!0,Ce(X,le-Ne))):(ee.sortIndex=te,e(d,ee),S||w||(S=!0,re||(re=!0,O()))),ee},A.unstable_shouldYield=me,A.unstable_wrapCallback=function(ee){var ce=x;return function(){var le=x;x=ce;try{return ee.apply(this,arguments)}finally{x=le}}}})(yg)),yg}var y2;function iC(){return y2||(y2=1,bg.exports=aC()),bg.exports}var xg={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function oC(){if(x2)return Hn;x2=1;var A=E1();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,h,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:h,implementation:g}}var l=A.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Hn.createPortal=function(d,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(d,h,null,g)},Hn.flushSync=function(d){var h=l.T,g=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=h,n.p=g,n.d.f()}},Hn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},Hn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Hn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var g=h.as,b=f(g,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:w}):g==="script"&&n.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Hn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},Hn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,b=f(g,h.crossOrigin);n.d.L(d,g,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Hn.preloadModule=function(d,h){if(typeof d=="string")if(h){var g=f(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},Hn.requestFormReset=function(d){n.d.r(d)},Hn.unstable_batchedUpdates=function(d,h){return d(h)},Hn.useFormState=function(d,h,g){return l.H.useFormState(d,h,g)},Hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Hn.version="19.2.1",Hn}var B2;function lC(){if(B2)return xg.exports;B2=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(e){console.error(e)}}return A(),xg.exports=oC(),xg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function cC(){if(C2)return Fd;C2=1;var A=iC(),e=E1(),t=lC();function n(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function i(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function l(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(i(r)!==r)throw Error(n(188))}function h(r){var s=r.alternate;if(!s){if(s=i(r),s===null)throw Error(n(188));return s!==r?null:r}for(var o=r,u=s;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return d(m),r;if(y===u)return d(m),s;y=y.sibling}throw Error(n(188))}if(o.return!==u.return)o=m,u=y;else{for(var j=!1,q=m.child;q;){if(q===o){j=!0,o=m,u=y;break}if(q===u){j=!0,u=m,o=y;break}q=q.sibling}if(!j){for(q=y.child;q;){if(q===o){j=!0,o=y,u=m;break}if(q===u){j=!0,u=y,o=m;break}q=q.sibling}if(!j)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function O(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Symbol.for("react.client.reference");function Ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Y?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case _:return"Profiler";case U:return"StrictMode";case X:return"Suspense";case re:return"SuspenseList";case ae:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case L:return r.displayName||"Context";case Q:return(r._context.displayName||"Context")+".Consumer";case W:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case J:return s=r.displayName||null,s!==null?s:Ae(r.type)||"Memo";case V:s=r._payload,r=r._init;try{return Ae(r(s))}catch{}}return null}var Ce=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ne=[],te=-1;function H(r){return{current:r}}function N(r){0>te||(r.current=Ne[te],Ne[te]=null,te--)}function k(r,s){te++,Ne[te]=r.current,r.current=s}var P=H(null),G=H(null),z=H(null),ie=H(null);function he(r,s){switch(k(z,s),k(G,r),k(P,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Rv(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Rv(s),r=Hv(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}N(P),k(P,r)}function ue(){N(P),N(G),N(z)}function Be(r){r.memoizedState!==null&&k(ie,r);var s=P.current,o=Hv(s,r.type);s!==o&&(k(G,r),k(P,o))}function Qe(r){G.current===r&&(N(P),N(G)),ie.current===r&&(N(ie),Sd._currentValue=le)}var Pe,ot;function ut(r){if(Pe===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Pe=s&&s[1]||"",ot=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+r+ot}var Te=!1;function se(r,s){if(!r||Te)return"";Te=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(Ke){var Re=Ke}Reflect.construct(r,[],rt)}else{try{rt.call()}catch(Ke){Re=Ke}r.call(rt.prototype)}}else{try{throw Error()}catch(Ke){Re=Ke}(rt=r())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(Ke){if(Ke&&Re&&typeof Ke.stack=="string")return[Ke.stack,Re.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),j=y[0],q=y[1];if(j&&q){var de=j.split(`
`),Oe=q.split(`
`);for(m=u=0;u<de.length&&!de[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Oe.length&&!Oe[m].includes("DetermineComponentFrameRoot");)m++;if(u===de.length||m===Oe.length)for(u=de.length-1,m=Oe.length-1;1<=u&&0<=m&&de[u]!==Oe[m];)m--;for(;1<=u&&0<=m;u--,m--)if(de[u]!==Oe[m]){if(u!==1||m!==1)do if(u--,m--,0>m||de[u]!==Oe[m]){var We=`
`+de[u].replace(" at new "," at ");return r.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",r.displayName)),We}while(1<=u&&0<=m);break}}}finally{Te=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ut(o):""}function Qt(r,s){switch(r.tag){case 26:case 27:case 5:return ut(r.type);case 16:return ut("Lazy");case 13:return r.child!==s&&s!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return se(r.type,!1);case 11:return se(r.type.render,!1);case 1:return se(r.type,!0);case 31:return ut("Activity");default:return""}}function st(r){try{var s="",o=null;do s+=Qt(r,o),o=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Je=Object.prototype.hasOwnProperty,fe=A.unstable_scheduleCallback,He=A.unstable_cancelCallback,Ge=A.unstable_shouldYield,at=A.unstable_requestPaint,ct=A.unstable_now,It=A.unstable_getCurrentPriorityLevel,St=A.unstable_ImmediatePriority,Pt=A.unstable_UserBlockingPriority,ht=A.unstable_NormalPriority,Ct=A.unstable_LowPriority,zt=A.unstable_IdlePriority,ze=A.log,be=A.unstable_setDisableYieldValue,Me=null,dt=null;function xt(r){if(typeof ze=="function"&&be(r),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Me,r)}catch{}}var _t=Math.clz32?Math.clz32:qA,FA=Math.log,Xt=Math.LN2;function qA(r){return r>>>=0,r===0?32:31-(FA(r)/Xt|0)|0}var uA=256,LA=262144,wA=4194304;function wt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ht(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var m=0,y=r.suspendedLanes,j=r.pingedLanes;r=r.warmLanes;var q=u&134217727;return q!==0?(u=q&~y,u!==0?m=wt(u):(j&=q,j!==0?m=wt(j):o||(o=q&~r,o!==0&&(m=wt(o))))):(q=u&~y,q!==0?m=wt(q):j!==0?m=wt(j):o||(o=u&~r,o!==0&&(m=wt(o)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:m}function Ee(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Nt(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var r=wA;return wA<<=1,(wA&62914560)===0&&(wA=4194304),r}function ke(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Se(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function $e(r,s,o,u,m,y){var j=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var q=r.entanglements,de=r.expirationTimes,Oe=r.hiddenUpdates;for(o=j&~o;0<o;){var We=31-_t(o),rt=1<<We;q[We]=0,de[We]=-1;var Re=Oe[We];if(Re!==null)for(Oe[We]=null,We=0;We<Re.length;We++){var Ke=Re[We];Ke!==null&&(Ke.lane&=-536870913)}o&=~rt}u!==0&&Ot(r,u,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(j&~s))}function Ot(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-_t(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function Vt(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-_t(o),m=1<<u;m&s|r[u]&s&&(r[u]|=s),o&=~m}}function bA(r,s){var o=s&-s;return o=(o&42)!==0?1:iA(o),(o&(r.suspendedLanes|s))!==0?0:o}function iA(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Tt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function EA(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:l2(r.type))}function kr(r,s){var o=ce.p;try{return ce.p=r,s()}finally{ce.p=o}}var zA=Math.random().toString(36).slice(2),IA="__reactFiber$"+zA,TA="__reactProps$"+zA,cr="__reactContainer$"+zA,Ur="__reactEvents$"+zA,nn="__reactListeners$"+zA,as="__reactHandles$"+zA,Ls="__reactResources$"+zA,$n="__reactMarker$"+zA;function Is(r){delete r[IA],delete r[TA],delete r[Ur],delete r[nn],delete r[as]}function pe(r){var s=r[IA];if(s)return s;for(var o=r.parentNode;o;){if(s=o[cr]||o[IA]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Vv(r);r!==null;){if(o=r[IA])return o;r=Vv(r)}return s}r=o,o=r.parentNode}return null}function De(r){if(r=r[IA]||r[cr]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function At(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(n(33))}function pt(r){var s=r[Ls];return s||(s=r[Ls]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function it(r){r[$n]=!0}var Ut=new Set,qt={};function Yt(r,s){AA(r,s),AA(r+"Capture",s)}function AA(r,s){for(qt[r]=s,r=0;r<s.length;r++)Ut.add(s[r])}var Mt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),HA={},vr={};function MA(r){return Je.call(vr,r)?!0:Je.call(HA,r)?!1:Mt.test(r)?vr[r]=!0:(HA[r]=!0,!1)}function Yn(r,s,o){if(MA(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function pA(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function hA(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function nA(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function sr(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tn(r,s,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(j){o=""+j,y.call(this,j)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(j){o=""+j},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function is(r){if(!r._valueTracker){var s=sr(r)?"checked":"value";r._valueTracker=Tn(r,s,""+r[s])}}function oA(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=sr(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function JA(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Rr=/[\n"\\]/g;function Hr(r){return r.replace(Rr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function po(r,s,o,u,m,y,j,q){r.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.type=j:r.removeAttribute("type"),s!=null?j==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+nA(s)):r.value!==""+nA(s)&&(r.value=""+nA(s)):j!=="submit"&&j!=="reset"||r.removeAttribute("value"),s!=null?go(r,j,nA(s)):o!=null?go(r,j,nA(o)):u!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?r.name=""+nA(q):r.removeAttribute("name")}function vc(r,s,o,u,m,y,j,q){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){is(r);return}o=o!=null?""+nA(o):"",s=s!=null?""+nA(s):o,q||s===r.value||(r.value=s),r.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=q?r.checked:!!u,r.defaultChecked=!!u,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(r.name=j),is(r)}function go(r,s,o){s==="number"&&JA(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function qa(r,s,o,u){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&u&&(r[o].defaultSelected=!0)}else{for(o=""+nA(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,u&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function bl(r,s,o){if(s!=null&&(s=""+nA(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+nA(o):""}function bc(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(n(92));if(Ce(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=nA(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),is(r)}function Xs(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var $u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||$u.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function xc(r,s,o){if(s!=null&&typeof s!="object")throw Error(n(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&yc(r,m,u)}else for(var y in s)s.hasOwnProperty(y)&&yc(r,y,s[y])}function Ts(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ui(r){return wo.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ur(){}var yl=null;function vo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Wt=null,Ga=null;function Bc(r){var s=De(r);if(s&&(r=s.stateNode)){var o=r[TA]||null;e:switch(r=s.stateNode,s.type){case"input":if(po(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Hr(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var m=u[TA]||null;if(!m)throw Error(n(90));po(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&oA(u)}break e;case"textarea":bl(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&qa(r,!!o.multiple,s,!1)}}}var os=!1;function xl(r,s,o){if(os)return r(s,o);os=!0;try{var u=r(s);return u}finally{if(os=!1,(Wt!==null||Ga!==null)&&(Kf(),Wt&&(s=Wt,r=Ga,Ga=Wt=null,Bc(s),r)))for(s=0;s<r.length;s++)Bc(r[s])}}function za(r,s){var o=r.stateNode;if(o===null)return null;var u=o[TA]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qi=!1;if(Dn)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Qi=!1}var Zs=null,Bl=null,Va=null;function $a(){if(Va)return Va;var r,s=Bl,o=s.length,u,m="value"in Zs?Zs.value:Zs.textContent,y=m.length;for(r=0;r<o&&s[r]===m[r];r++);var j=o-r;for(u=1;u<=j&&s[o-u]===m[y-u];u++);return Va=m.slice(r,1<u?1-u:void 0)}function Ds(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function bo(){return!0}function Ya(){return!1}function $r(r){function s(o,u,m,y,j){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=j,this.currentTarget=null;for(var q in r)r.hasOwnProperty(q)&&(o=r[q],this[q]=o?o(y):y[q]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bo:Ya,this.isPropagationStopped=Ya,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),s}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=$r(ls),Wa=b({},ls,{view:0,detail:0}),Cc=$r(Wa),yo,Os,cs,xo=b({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==cs&&(cs&&r.type==="mousemove"?(yo=r.screenX-cs.screenX,Os=r.screenY-cs.screenY):Os=yo=0,cs=r),yo)},movementY:function(r){return"movementY"in r?r.movementY:Os}}),wa=$r(xo),ks=b({},xo,{dataTransfer:0}),Cl=$r(ks),Li=b({},Wa,{relatedTarget:0}),El=$r(Li),Bo=b({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=$r(Bo),Sl=b({},ls,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),_l=$r(Sl),Ec=b({},ls,{data:0}),Ii=$r(Ec),Nl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ul={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Sc[r])?!!s[r]:!1}function Ja(){return Wu}var Ti=b({},Wa,{key:function(r){if(r.key){var s=Nl[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ds(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ul[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(r){return r.type==="keypress"?Ds(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ds(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ql=$r(Ti),Xa=b({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=$r(Xa),B=b({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),T=$r(B),oe=b({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),ge=$r(oe),Fe=b({},xo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=$r(Fe),lt=b({},ls,{newState:0,oldState:0}),yt=$r(lt),Gt=[9,13,27,32],sA=Dn&&"CompositionEvent"in window,lA=null;Dn&&"documentMode"in document&&(lA=document.documentMode);var SA=Dn&&"TextEvent"in window&&!lA,dr=Dn&&(!sA||lA&&8<lA&&11>=lA),pr=" ",Qr=!1;function sn(r,s){switch(r){case"keyup":return Gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var hn=!1;function Wn(r,s){switch(r){case"compositionend":return Mr(s);case"keypress":return s.which!==32?null:(Qr=!0,pr);case"textInput":return r=s.data,r===pr&&Qr?null:r;default:return null}}function va(r,s){if(hn)return r==="compositionend"||!sA&&sn(r,s)?(r=$a(),Va=Bl=Zs=null,hn=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return dr&&s.locale!=="ko"?null:s.data;default:return null}}var _c={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eo(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!_c[r.type]:s==="textarea"}function So(r,s,o,u){Wt?Ga?Ga.push(u):Ga=[u]:Wt=u,s=Wf(s,"onChange"),0<s.length&&(o=new ji("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var ea=null,ba=null;function Fl(r){Lv(r,0)}function ya(r){var s=At(r);if(oA(s))return r}function Cn(r,s){if(r==="change")return s}var Di=!1;if(Dn){var Za;if(Dn){var ei="oninput"in document;if(!ei){var _o=document.createElement("div");_o.setAttribute("oninput","return;"),ei=typeof _o.oninput=="function"}Za=ei}else Za=!1;Di=Za&&(!document.documentMode||9<document.documentMode)}function En(){ea&&(ea.detachEvent("onpropertychange",Nc),ba=ea=null)}function Nc(r){if(r.propertyName==="value"&&ya(ba)){var s=[];So(s,ba,r,vo(r)),xl(Fl,s)}}function jl(r,s,o){r==="focusin"?(En(),ea=s,ba=o,ea.attachEvent("onpropertychange",Nc)):r==="focusout"&&En()}function Uc(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ya(ba)}function Rs(r,s){if(r==="click")return ya(s)}function Ll(r,s){if(r==="input"||r==="change")return ya(s)}function Ju(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sn=typeof Object.is=="function"?Object.is:Ju;function us(r,s){if(Sn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Je.call(s,m)||!Sn(r[m],s[m]))return!1}return!0}function Jn(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ds(r,s){var o=Jn(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jn(o)}}function xa(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?xa(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Hs(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=JA(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=JA(r.document)}return s}function Ms(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var No=Dn&&"documentMode"in document&&11>=document.documentMode,pn=null,ti=null,Ba=null,ta=!1;function fs(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ta||pn==null||pn!==JA(u)||(u=pn,"selectionStart"in u&&Ms(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ba&&us(Ba,u)||(Ba=u,u=Wf(ti,"onSelect"),0<u.length&&(s=new ji("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=pn)))}function _n(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var hs={animationend:_n("Animation","AnimationEnd"),animationiteration:_n("Animation","AnimationIteration"),animationstart:_n("Animation","AnimationStart"),transitionrun:_n("Transition","TransitionRun"),transitionstart:_n("Transition","TransitionStart"),transitioncancel:_n("Transition","TransitionCancel"),transitionend:_n("Transition","TransitionEnd")},Ai={},ri={};Dn&&(ri=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function On(r){if(Ai[r])return Ai[r];if(!hs[r])return r;var s=hs[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in ri)return Ai[r]=s[o];return r}var Uo=On("animationend"),Xn=On("animationiteration"),Aa=On("animationstart"),XA=On("transitionrun"),ZA=On("transitionstart"),Fr=On("transitioncancel"),Ir=On("transitionend"),ra=new Map,na="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");na.push("scrollEnd");function gn(r,s){ra.set(r,s),Yt(s,[r])}var Oi=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Zn=[],ki=0,Qc=0;function Il(){for(var r=ki,s=Qc=ki=0;s<r;){var o=Zn[s];Zn[s++]=null;var u=Zn[s];Zn[s++]=null;var m=Zn[s];Zn[s++]=null;var y=Zn[s];if(Zn[s++]=null,u!==null&&m!==null){var j=u.pending;j===null?m.next=m:(m.next=j.next,j.next=m),u.pending=m}y!==0&&Dl(o,m,y)}}function Tl(r,s,o,u){Zn[ki++]=r,Zn[ki++]=s,Zn[ki++]=o,Zn[ki++]=u,Qc|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Fc(r,s,o,u){return Tl(r,s,o,u),mn(r)}function Ca(r,s){return Tl(r,null,null,s),mn(r)}function Dl(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=r.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&s!==null&&(m=31-_t(o),r=y.hiddenUpdates,u=r[m],u===null?r[m]=[s]:u.push(s),s.lane=o|536870912),y):null}function mn(r){if(50<vd)throw vd=0,Mp=null,Error(n(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var an={};function jc(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(r,s,o,u){return new jc(r,s,o,u)}function Lc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ps(r,s){var o=r.alternate;return o===null?(o=wn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Ol(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Qo(r,s,o,u,m,y){var j=0;if(u=r,typeof r=="function")Lc(r)&&(j=1);else if(typeof r=="string")j=q4(r,o,P.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case ae:return r=wn(31,o,s,m),r.elementType=ae,r.lanes=y,r;case E:return ni(o.children,m,y,s);case U:j=8,m|=24;break;case _:return r=wn(12,o,s,m|2),r.elementType=_,r.lanes=y,r;case X:return r=wn(13,o,s,m),r.elementType=X,r.lanes=y,r;case re:return r=wn(19,o,s,m),r.elementType=re,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:j=10;break e;case Q:j=9;break e;case W:j=11;break e;case J:j=14;break e;case V:j=16,u=null;break e}j=29,o=Error(n(130,r===null?"null":typeof r,"")),u=null}return s=wn(j,o,s,m),s.elementType=r,s.type=u,s.lanes=y,s}function ni(r,s,o,u){return r=wn(7,r,u,s),r.lanes=o,r}function kl(r,s,o){return r=wn(6,r,null,s),r.lanes=o,r}function Ic(r){var s=wn(18,null,null,0);return s.stateNode=r,s}function Fo(r,s,o){return s=wn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Tc=new WeakMap;function gs(r,s){if(typeof r=="object"&&r!==null){var o=Tc.get(r);return o!==void 0?o:(s={value:r,source:s,stack:st(s)},Tc.set(r,s),s)}return{value:r,source:s,stack:st(s)}}var jo=[],Ri=0,Dc=null,Rl=0,ms=[],ws=0,si=null,vs=1,bs="";function es(r,s){jo[Ri++]=Rl,jo[Ri++]=Dc,Dc=r,Rl=s}function xf(r,s,o){ms[ws++]=vs,ms[ws++]=bs,ms[ws++]=si,si=r;var u=vs;r=bs;var m=32-_t(u)-1;u&=~(1<<m),o+=1;var y=32-_t(s)+m;if(30<y){var j=m-m%5;y=(u&(1<<j)-1).toString(32),u>>=j,m-=j,vs=1<<32-_t(s)+m|o<<m|u,bs=y+r}else vs=1<<y|o<<m|u,bs=r}function Xu(r){r.return!==null&&(es(r,1),xf(r,1,0))}function Oc(r){for(;r===Dc;)Dc=jo[--Ri],jo[Ri]=null,Rl=jo[--Ri],jo[Ri]=null;for(;r===si;)si=ms[--ws],ms[ws]=null,bs=ms[--ws],ms[ws]=null,vs=ms[--ws],ms[ws]=null}function Bf(r,s){ms[ws++]=vs,ms[ws++]=bs,ms[ws++]=si,vs=s.id,bs=s.overflow,si=r}var on=null,ar=null,yA=!1,Nn=null,br=!1,Ps=Error(n(519));function ai(r){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(gs(s,r)),Ps}function Zu(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[IA]=r,s[TA]=u,o){case"dialog":CA("cancel",s),CA("close",s);break;case"iframe":case"object":case"embed":CA("load",s);break;case"video":case"audio":for(o=0;o<yd.length;o++)CA(yd[o],s);break;case"source":CA("error",s);break;case"img":case"image":case"link":CA("error",s),CA("load",s);break;case"details":CA("toggle",s);break;case"input":CA("invalid",s),vc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":CA("invalid",s);break;case"textarea":CA("invalid",s),bc(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Ov(s.textContent,o)?(u.popover!=null&&(CA("beforetoggle",s),CA("toggle",s)),u.onScroll!=null&&CA("scroll",s),u.onScrollEnd!=null&&CA("scrollend",s),u.onClick!=null&&(s.onclick=ur),s=!0):s=!1,s||ai(r,!0)}function Ea(r){for(on=r.return;on;)switch(on.tag){case 5:case 31:case 13:br=!1;return;case 27:case 3:br=!0;return;default:on=on.return}}function ln(r){if(r!==on)return!1;if(!yA)return Ea(r),yA=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ag(r.type,r.memoizedProps)),o=!o),o&&ar&&ai(r),Ea(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));ar=zv(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));ar=zv(r)}else s===27?(s=ar,Vo(r.type)?(r=ig,ig=null,ar=r):ar=s):ar=on?ua(r.stateNode.nextSibling):null;return!0}function Hi(){ar=on=null,yA=!1}function ed(){var r=Nn;return r!==null&&(Ss===null?Ss=r:Ss.push.apply(Ss,r),Nn=null),r}function Lo(r){Nn===null?Nn=[r]:Nn.push(r)}var kc=H(null),ii=null,sa=null;function oi(r,s,o){k(kc,s._currentValue),s._currentValue=o}function ys(r){r._currentValue=kc.current,N(kc)}function Io(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Mi(r,s,o,u){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var j=m.child;y=y.firstContext;e:for(;y!==null;){var q=y;y=m;for(var de=0;de<s.length;de++)if(q.context===s[de]){y.lanes|=o,q=y.alternate,q!==null&&(q.lanes|=o),Io(y.return,o,r),u||(j=null);break e}y=q.next}}else if(m.tag===18){if(j=m.return,j===null)throw Error(n(341));j.lanes|=o,y=j.alternate,y!==null&&(y.lanes|=o),Io(j,o,r),j=null}else j=m.child;if(j!==null)j.return=m;else for(j=m;j!==null;){if(j===r){j=null;break}if(m=j.sibling,m!==null){m.return=j.return,j=m;break}j=j.return}m=j}}function li(r,s,o,u){r=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var j=m.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var q=m.type;Sn(m.pendingProps.value,j.value)||(r!==null?r.push(q):r=[q])}}else if(m===ie.current){if(j=m.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Sd):r=[Sd])}m=m.return}r!==null&&Mi(s,r,o,u),s.flags|=262144}function Rc(r){for(r=r.firstContext;r!==null;){if(!Sn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ci(r){ii=r,sa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function cn(r){return Cf(ii,r)}function Hc(r,s){return ii===null&&ci(r),Cf(r,s)}function Cf(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},sa===null){if(r===null)throw Error(n(308));sa=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else sa=sa.next=s;return o}var ap=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},ip=A.unstable_scheduleCallback,op=A.unstable_NormalPriority,jr={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function To(){return{controller:new ap,data:new Map,refCount:0}}function Hl(r){r.refCount--,r.refCount===0&&ip(op,function(){r.controller.abort()})}var Ml=null,Mc=0,p=0,v=null;function C(r,s){if(Ml===null){var o=Ml=[];Mc=0,p=Vp(),v={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Mc++,s.then(F,F),s}function F(){if(--Mc===0&&Ml!==null){v!==null&&(v.status="fulfilled");var r=Ml;Ml=null,p=0,v=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function I(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var R=ee.S;ee.S=function(r,s){iv=ct(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&C(r,s),R!==null&&R(r,s)};var M=H(null);function K(){var r=M.current;return r!==null?r:or.pooledCache}function $(r,s){s===null?k(M,M.current):k(M,s.pool)}function ne(){var r=K();return r===null?null:{parent:jr._currentValue,pool:r}}var we=Error(n(460)),Le=Error(n(474)),je=Error(n(542)),_e={then:function(){}};function tt(r){return r=r.status,r==="fulfilled"||r==="rejected"}function qe(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ur,ur),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,nt(r),r;default:if(typeof s.status=="string")s.then(ur,ur);else{if(r=or,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,nt(r),r}throw xe=s,we}}function ve(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(xe=o,we):o}}var xe=null;function Ze(){if(xe===null)throw Error(n(459));var r=xe;return xe=null,r}function nt(r){if(r===we||r===je)throw Error(n(483))}var Xe=null,bt=0;function ft(r){var s=bt;return bt+=1,Xe===null&&(Xe=[]),qe(Xe,r,s)}function Kt(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function gt(r,s){throw s.$$typeof===x?Error(n(525)):(r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function DA(r){function s(Ue,ye){if(r){var Ie=Ue.deletions;Ie===null?(Ue.deletions=[ye],Ue.flags|=16):Ie.push(ye)}}function o(Ue,ye){if(!r)return null;for(;ye!==null;)s(Ue,ye),ye=ye.sibling;return null}function u(Ue){for(var ye=new Map;Ue!==null;)Ue.key!==null?ye.set(Ue.key,Ue):ye.set(Ue.index,Ue),Ue=Ue.sibling;return ye}function m(Ue,ye){return Ue=ps(Ue,ye),Ue.index=0,Ue.sibling=null,Ue}function y(Ue,ye,Ie){return Ue.index=Ie,r?(Ie=Ue.alternate,Ie!==null?(Ie=Ie.index,Ie<ye?(Ue.flags|=67108866,ye):Ie):(Ue.flags|=67108866,ye)):(Ue.flags|=1048576,ye)}function j(Ue){return r&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function q(Ue,ye,Ie,et){return ye===null||ye.tag!==6?(ye=kl(Ie,Ue.mode,et),ye.return=Ue,ye):(ye=m(ye,Ie),ye.return=Ue,ye)}function de(Ue,ye,Ie,et){var $t=Ie.type;return $t===E?We(Ue,ye,Ie.props.children,et,Ie.key):ye!==null&&(ye.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===V&&ve($t)===ye.type)?(ye=m(ye,Ie.props),Kt(ye,Ie),ye.return=Ue,ye):(ye=Qo(Ie.type,Ie.key,Ie.props,null,Ue.mode,et),Kt(ye,Ie),ye.return=Ue,ye)}function Oe(Ue,ye,Ie,et){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ie.containerInfo||ye.stateNode.implementation!==Ie.implementation?(ye=Fo(Ie,Ue.mode,et),ye.return=Ue,ye):(ye=m(ye,Ie.children||[]),ye.return=Ue,ye)}function We(Ue,ye,Ie,et,$t){return ye===null||ye.tag!==7?(ye=ni(Ie,Ue.mode,et,$t),ye.return=Ue,ye):(ye=m(ye,Ie),ye.return=Ue,ye)}function rt(Ue,ye,Ie){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=kl(""+ye,Ue.mode,Ie),ye.return=Ue,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case w:return Ie=Qo(ye.type,ye.key,ye.props,null,Ue.mode,Ie),Kt(Ie,ye),Ie.return=Ue,Ie;case S:return ye=Fo(ye,Ue.mode,Ie),ye.return=Ue,ye;case V:return ye=ve(ye),rt(Ue,ye,Ie)}if(Ce(ye)||O(ye))return ye=ni(ye,Ue.mode,Ie,null),ye.return=Ue,ye;if(typeof ye.then=="function")return rt(Ue,ft(ye),Ie);if(ye.$$typeof===L)return rt(Ue,Hc(Ue,ye),Ie);gt(Ue,ye)}return null}function Re(Ue,ye,Ie,et){var $t=ye!==null?ye.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return $t!==null?null:q(Ue,ye,""+Ie,et);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case w:return Ie.key===$t?de(Ue,ye,Ie,et):null;case S:return Ie.key===$t?Oe(Ue,ye,Ie,et):null;case V:return Ie=ve(Ie),Re(Ue,ye,Ie,et)}if(Ce(Ie)||O(Ie))return $t!==null?null:We(Ue,ye,Ie,et,null);if(typeof Ie.then=="function")return Re(Ue,ye,ft(Ie),et);if(Ie.$$typeof===L)return Re(Ue,ye,Hc(Ue,Ie),et);gt(Ue,Ie)}return null}function Ke(Ue,ye,Ie,et,$t){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Ue=Ue.get(Ie)||null,q(ye,Ue,""+et,$t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case w:return Ue=Ue.get(et.key===null?Ie:et.key)||null,de(ye,Ue,et,$t);case S:return Ue=Ue.get(et.key===null?Ie:et.key)||null,Oe(ye,Ue,et,$t);case V:return et=ve(et),Ke(Ue,ye,Ie,et,$t)}if(Ce(et)||O(et))return Ue=Ue.get(Ie)||null,We(ye,Ue,et,$t,null);if(typeof et.then=="function")return Ke(Ue,ye,Ie,ft(et),$t);if(et.$$typeof===L)return Ke(Ue,ye,Ie,Hc(ye,et),$t);gt(ye,et)}return null}function Ft(Ue,ye,Ie,et){for(var $t=null,kA=null,kt=ye,gA=ye=0,UA=null;kt!==null&&gA<Ie.length;gA++){kt.index>gA?(UA=kt,kt=null):UA=kt.sibling;var RA=Re(Ue,kt,Ie[gA],et);if(RA===null){kt===null&&(kt=UA);break}r&&kt&&RA.alternate===null&&s(Ue,kt),ye=y(RA,ye,gA),kA===null?$t=RA:kA.sibling=RA,kA=RA,kt=UA}if(gA===Ie.length)return o(Ue,kt),yA&&es(Ue,gA),$t;if(kt===null){for(;gA<Ie.length;gA++)kt=rt(Ue,Ie[gA],et),kt!==null&&(ye=y(kt,ye,gA),kA===null?$t=kt:kA.sibling=kt,kA=kt);return yA&&es(Ue,gA),$t}for(kt=u(kt);gA<Ie.length;gA++)UA=Ke(kt,Ue,gA,Ie[gA],et),UA!==null&&(r&&UA.alternate!==null&&kt.delete(UA.key===null?gA:UA.key),ye=y(UA,ye,gA),kA===null?$t=UA:kA.sibling=UA,kA=UA);return r&&kt.forEach(function(Xo){return s(Ue,Xo)}),yA&&es(Ue,gA),$t}function eA(Ue,ye,Ie,et){if(Ie==null)throw Error(n(151));for(var $t=null,kA=null,kt=ye,gA=ye=0,UA=null,RA=Ie.next();kt!==null&&!RA.done;gA++,RA=Ie.next()){kt.index>gA?(UA=kt,kt=null):UA=kt.sibling;var Xo=Re(Ue,kt,RA.value,et);if(Xo===null){kt===null&&(kt=UA);break}r&&kt&&Xo.alternate===null&&s(Ue,kt),ye=y(Xo,ye,gA),kA===null?$t=Xo:kA.sibling=Xo,kA=Xo,kt=UA}if(RA.done)return o(Ue,kt),yA&&es(Ue,gA),$t;if(kt===null){for(;!RA.done;gA++,RA=Ie.next())RA=rt(Ue,RA.value,et),RA!==null&&(ye=y(RA,ye,gA),kA===null?$t=RA:kA.sibling=RA,kA=RA);return yA&&es(Ue,gA),$t}for(kt=u(kt);!RA.done;gA++,RA=Ie.next())RA=Ke(kt,Ue,gA,RA.value,et),RA!==null&&(r&&RA.alternate!==null&&kt.delete(RA.key===null?gA:RA.key),ye=y(RA,ye,gA),kA===null?$t=RA:kA.sibling=RA,kA=RA);return r&&kt.forEach(function(tC){return s(Ue,tC)}),yA&&es(Ue,gA),$t}function Ar(Ue,ye,Ie,et){if(typeof Ie=="object"&&Ie!==null&&Ie.type===E&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case w:e:{for(var $t=Ie.key;ye!==null;){if(ye.key===$t){if($t=Ie.type,$t===E){if(ye.tag===7){o(Ue,ye.sibling),et=m(ye,Ie.props.children),et.return=Ue,Ue=et;break e}}else if(ye.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===V&&ve($t)===ye.type){o(Ue,ye.sibling),et=m(ye,Ie.props),Kt(et,Ie),et.return=Ue,Ue=et;break e}o(Ue,ye);break}else s(Ue,ye);ye=ye.sibling}Ie.type===E?(et=ni(Ie.props.children,Ue.mode,et,Ie.key),et.return=Ue,Ue=et):(et=Qo(Ie.type,Ie.key,Ie.props,null,Ue.mode,et),Kt(et,Ie),et.return=Ue,Ue=et)}return j(Ue);case S:e:{for($t=Ie.key;ye!==null;){if(ye.key===$t)if(ye.tag===4&&ye.stateNode.containerInfo===Ie.containerInfo&&ye.stateNode.implementation===Ie.implementation){o(Ue,ye.sibling),et=m(ye,Ie.children||[]),et.return=Ue,Ue=et;break e}else{o(Ue,ye);break}else s(Ue,ye);ye=ye.sibling}et=Fo(Ie,Ue.mode,et),et.return=Ue,Ue=et}return j(Ue);case V:return Ie=ve(Ie),Ar(Ue,ye,Ie,et)}if(Ce(Ie))return Ft(Ue,ye,Ie,et);if(O(Ie)){if($t=O(Ie),typeof $t!="function")throw Error(n(150));return Ie=$t.call(Ie),eA(Ue,ye,Ie,et)}if(typeof Ie.then=="function")return Ar(Ue,ye,ft(Ie),et);if(Ie.$$typeof===L)return Ar(Ue,ye,Hc(Ue,Ie),et);gt(Ue,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,ye!==null&&ye.tag===6?(o(Ue,ye.sibling),et=m(ye,Ie),et.return=Ue,Ue=et):(o(Ue,ye),et=kl(Ie,Ue.mode,et),et.return=Ue,Ue=et),j(Ue)):o(Ue,ye)}return function(Ue,ye,Ie,et){try{bt=0;var $t=Ar(Ue,ye,Ie,et);return Xe=null,$t}catch(kt){if(kt===we||kt===je)throw kt;var kA=wn(29,kt,null,Ue.mode);return kA.lanes=et,kA.return=Ue,kA}finally{}}}var xA=DA(!0),_A=DA(!1),cA=!1;function PA(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function OA(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Zt(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function VA(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(KA&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=mn(r),Dl(r,null,o),s}return Tl(r,u,s,o),mn(r)}function Yr(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Vt(r,o)}}function yr(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var j={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=j:y=y.next=j,o=o.next}while(o!==null);y===null?m=y=s:y=y.next=s}else m=y=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var vn=!1;function jA(){if(vn){var r=v;if(r!==null)throw r}}function un(r,s,o,u){vn=!1;var m=r.updateQueue;cA=!1;var y=m.firstBaseUpdate,j=m.lastBaseUpdate,q=m.shared.pending;if(q!==null){m.shared.pending=null;var de=q,Oe=de.next;de.next=null,j===null?y=Oe:j.next=Oe,j=de;var We=r.alternate;We!==null&&(We=We.updateQueue,q=We.lastBaseUpdate,q!==j&&(q===null?We.firstBaseUpdate=Oe:q.next=Oe,We.lastBaseUpdate=de))}if(y!==null){var rt=m.baseState;j=0,We=Oe=de=null,q=y;do{var Re=q.lane&-536870913,Ke=Re!==q.lane;if(Ke?(NA&Re)===Re:(u&Re)===Re){Re!==0&&Re===p&&(vn=!0),We!==null&&(We=We.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ft=r,eA=q;Re=s;var Ar=o;switch(eA.tag){case 1:if(Ft=eA.payload,typeof Ft=="function"){rt=Ft.call(Ar,rt,Re);break e}rt=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=eA.payload,Re=typeof Ft=="function"?Ft.call(Ar,rt,Re):Ft,Re==null)break e;rt=b({},rt,Re);break e;case 2:cA=!0}}Re=q.callback,Re!==null&&(r.flags|=64,Ke&&(r.flags|=8192),Ke=m.callbacks,Ke===null?m.callbacks=[Re]:Ke.push(Re))}else Ke={lane:Re,tag:q.tag,payload:q.payload,callback:q.callback,next:null},We===null?(Oe=We=Ke,de=rt):We=We.next=Ke,j|=Re;if(q=q.next,q===null){if(q=m.shared.pending,q===null)break;Ke=q,q=Ke.next,Ke.next=null,m.lastBaseUpdate=Ke,m.shared.pending=null}}while(!0);We===null&&(de=rt),m.baseState=de,m.firstBaseUpdate=Oe,m.lastBaseUpdate=We,y===null&&(m.shared.lanes=0),Po|=j,r.lanes=j,r.memoizedState=rt}}function kn(r,s){if(typeof r!="function")throw Error(n(191,r));r.call(s)}function Pr(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)kn(o[r],s)}var xr=H(null),Wr=H(0);function ts(r,s){r=Zi,k(Wr,r),k(xr,s),Zi=r|s.baseLanes}function xs(){k(Wr,Zi),k(xr,xr.current)}function Tr(){Zi=Wr.current,N(xr),N(Wr)}var Lr=H(null),Jr=null;function As(r){var s=r.alternate;k(Br,Br.current&1),k(Lr,r),Jr===null&&(s===null||xr.current!==null||s.memoizedState!==null)&&(Jr=r)}function aa(r){k(Br,Br.current),k(Lr,r),Jr===null&&(Jr=r)}function gr(r){r.tag===22?(k(Br,Br.current),k(Lr,r),Jr===null&&(Jr=r)):ia()}function ia(){k(Br,Br.current),k(Lr,Lr.current)}function Rn(r){N(Lr),Jr===r&&(Jr=null),N(Br)}var Br=H(0);function Pi(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||sg(o)||ag(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rs=0,aA=null,mA=null,ir=null,Sa=!1,Ki=!1,oa=!1,Pl=0,ui=0,di=null,Pc=0;function er(){throw Error(n(321))}function td(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Sn(r[o],s[o]))return!1;return!0}function Ad(r,s,o,u,m,y){return rs=y,aA=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=r===null||r.memoizedState===null?ww:gp,oa=!1,y=o(u,m),oa=!1,Ki&&(y=_a(s,o,u,m)),Kc(r),y}function Kc(r){ee.H=cd;var s=mA!==null&&mA.next!==null;if(rs=0,ir=mA=aA=null,Sa=!1,ui=0,di=null,s)throw Error(n(300));r===null||Zr||(r=r.dependencies,r!==null&&Rc(r)&&(Zr=!0))}function _a(r,s,o,u){aA=r;var m=0;do{if(Ki&&(di=null),ui=0,Ki=!1,25<=m)throw Error(n(301));if(m+=1,ir=mA=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=vw,y=s(o,u)}while(Ki);return y}function lp(){var r=ee.H,s=r.useState()[0];return s=typeof s.then=="function"?fi(s):s,r=r.useState()[0],(mA!==null?mA.memoizedState:null)!==r&&(aA.flags|=1024),s}function rd(){var r=Pl!==0;return Pl=0,r}function nd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function qc(r){if(Sa){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sa=!1}rs=0,ir=mA=aA=null,Ki=!1,ui=Pl=0,di=null}function Xr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?aA.memoizedState=ir=r:ir=ir.next=r,ir}function Cr(){if(mA===null){var r=aA.alternate;r=r!==null?r.memoizedState:null}else r=mA.next;var s=ir===null?aA.memoizedState:ir.next;if(s!==null)ir=s,mA=r;else{if(r===null)throw aA.alternate===null?Error(n(467)):Error(n(310));mA=r,r={memoizedState:mA.memoizedState,baseState:mA.baseState,baseQueue:mA.baseQueue,queue:mA.queue,next:null},ir===null?aA.memoizedState=ir=r:ir=ir.next=r}return ir}function Kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fi(r){var s=ui;return ui+=1,di===null&&(di=[]),r=qe(di,r,s),s=aA,(ir===null?s.memoizedState:ir.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?ww:gp),r}function Do(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fi(r);if(r.$$typeof===L)return cn(r)}throw Error(n(438,String(r)))}function qi(r){var s=null,o=aA.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=aA.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Kl(),aA.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=me;return s.index++,o}function la(r,s){return typeof s=="function"?s(r):s}function Gc(r){var s=Cr();return Oo(s,mA,r)}function Oo(r,s,o){var u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var m=r.baseQueue,y=u.pending;if(y!==null){if(m!==null){var j=m.next;m.next=y.next,y.next=j}s.baseQueue=m=y,u.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{s=m.next;var q=j=null,de=null,Oe=s,We=!1;do{var rt=Oe.lane&-536870913;if(rt!==Oe.lane?(NA&rt)===rt:(rs&rt)===rt){var Re=Oe.revertLane;if(Re===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),rt===p&&(We=!0);else if((rs&Re)===Re){Oe=Oe.next,Re===p&&(We=!0);continue}else rt={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},de===null?(q=de=rt,j=y):de=de.next=rt,aA.lanes|=Re,Po|=Re;rt=Oe.action,oa&&o(y,rt),y=Oe.hasEagerState?Oe.eagerState:o(y,rt)}else Re={lane:rt,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},de===null?(q=de=Re,j=y):de=de.next=Re,aA.lanes|=rt,Po|=rt;Oe=Oe.next}while(Oe!==null&&Oe!==s);if(de===null?j=y:de.next=q,!Sn(y,r.memoizedState)&&(Zr=!0,We&&(o=v,o!==null)))throw o;r.memoizedState=y,r.baseState=j,r.baseQueue=de,u.lastRenderedState=y}return m===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function zc(r){var s=Cr(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=r;var u=o.dispatch,m=o.pending,y=s.memoizedState;if(m!==null){o.pending=null;var j=m=m.next;do y=r(y,j.action),j=j.next;while(j!==m);Sn(y,s.memoizedState)||(Zr=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function Vc(r,s,o){var u=aA,m=Cr(),y=yA;if(y){if(o===void 0)throw Error(n(407));o=o()}else o=s();var j=!Sn((mA||m).memoizedState,o);if(j&&(m.memoizedState=o,Zr=!0),m=m.queue,cp(ad.bind(null,u,m,r),[r]),m.getSnapshot!==s||j||ir!==null&&ir.memoizedState.tag&1){if(u.flags|=2048,zi(9,{destroy:void 0},sd.bind(null,u,m,o,s),null),or===null)throw Error(n(349));y||(rs&127)!==0||Na(u,s,o)}return o}function Na(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=aA.updateQueue,s===null?(s=Kl(),aA.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function sd(r,s,o,u){s.value=o,s.getSnapshot=u,Ef(s)&&id(r)}function ad(r,s,o){return o(function(){Ef(s)&&id(r)})}function Ef(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Sn(r,o)}catch{return!0}}function id(r){var s=Ca(r,2);s!==null&&_s(s,r,2)}function hi(r){var s=Xr();if(typeof r=="function"){var o=r;if(r=o(),oa){xt(!0);try{o()}finally{xt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:r},s}function Sf(r,s,o,u){return r.baseState=o,Oo(r,mA,typeof u=="function"?u:la)}function _f(r,s,o,u,m){if(Ff(r))throw Error(n(485));if(r=s.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){y.listeners.push(j)}};ee.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,Nf(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Nf(r,s){var o=s.action,u=s.payload,m=r.state;if(s.isTransition){var y=ee.T,j={};ee.T=j;try{var q=o(m,u),de=ee.S;de!==null&&de(j,q),od(r,s,q)}catch(Oe){Gi(r,s,Oe)}finally{y!==null&&j.types!==null&&(y.types=j.types),ee.T=y}}else try{y=o(m,u),od(r,s,y)}catch(Oe){Gi(r,s,Oe)}}function od(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Uf(r,s,u)},function(u){return Gi(r,s,u)}):Uf(r,s,o)}function Uf(r,s,o){s.status="fulfilled",s.value=o,$c(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Nf(r,o)))}function Gi(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,$c(s),s=s.next;while(s!==u)}r.action=null}function $c(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function ql(r,s){return s}function ca(r,s){if(yA){var o=or.formState;if(o!==null){e:{var u=aA;if(yA){if(ar){t:{for(var m=ar,y=br;m.nodeType!==8;){if(!y){m=null;break t}if(m=ua(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ar=ua(m.nextSibling),u=m.data==="F!";break e}}ai(u)}u=!1}u&&(s=o[0])}}return o=Xr(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:s},o.queue=u,o=pw.bind(null,aA,u),u.dispatch=o,u=hi(!1),y=pp.bind(null,aA,!1,u.queue),u=Xr(),m={state:s,dispatch:null,action:r,pending:null},u.queue=m,o=_f.bind(null,aA,m,y,o),m.dispatch=o,u.memoizedState=r,[s,o,!1]}function Ua(r){var s=Cr();return Qa(s,mA,r)}function Qa(r,s,o){if(s=Oo(r,s,ql)[0],r=Gc(la)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=fi(s)}catch(j){throw j===we?je:j}else u=s;s=Cr();var m=s.queue,y=m.dispatch;return o!==s.memoizedState&&(aA.flags|=2048,zi(9,{destroy:void 0},Yc.bind(null,m,o),null)),[u,y,r]}function Yc(r,s){r.action=s}function Wc(r){var s=Cr(),o=mA;if(o!==null)return Qa(s,o,r);Cr(),s=s.memoizedState,o=Cr();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function zi(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=aA.updateQueue,s===null&&(s=Kl(),aA.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Qf(){return Cr().memoizedState}function ko(r,s,o,u){var m=Xr();aA.flags|=r,m.memoizedState=zi(1|s,{destroy:void 0},o,u===void 0?null:u)}function Ro(r,s,o,u){var m=Cr();u=u===void 0?null:u;var y=m.memoizedState.inst;mA!==null&&u!==null&&td(u,mA.memoizedState.deps)?m.memoizedState=zi(s,y,o,u):(aA.flags|=r,m.memoizedState=zi(1|s,y,o,u))}function tw(r,s){ko(8390656,8,r,s)}function cp(r,s){Ro(2048,8,r,s)}function Y5(r){aA.flags|=4;var s=aA.updateQueue;if(s===null)s=Kl(),aA.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function Aw(r){var s=Cr().memoizedState;return Y5({ref:s,nextImpl:r}),function(){if((KA&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function rw(r,s){return Ro(4,2,r,s)}function nw(r,s){return Ro(4,4,r,s)}function sw(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function aw(r,s,o){o=o!=null?o.concat([r]):null,Ro(4,4,sw.bind(null,s,r),o)}function up(){}function iw(r,s){var o=Cr();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&td(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function ow(r,s){var o=Cr();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&td(s,u[1]))return u[0];if(u=r(),oa){xt(!0);try{r()}finally{xt(!1)}}return o.memoizedState=[u,s],u}function dp(r,s,o){return o===void 0||(rs&1073741824)!==0&&(NA&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=lv(),aA.lanes|=r,Po|=r,o)}function lw(r,s,o,u){return Sn(o,s)?o:xr.current!==null?(r=dp(r,o,u),Sn(r,s)||(Zr=!0),r):(rs&42)===0||(rs&1073741824)!==0&&(NA&261930)===0?(Zr=!0,r.memoizedState=o):(r=lv(),aA.lanes|=r,Po|=r,s)}function cw(r,s,o,u,m){var y=ce.p;ce.p=y!==0&&8>y?y:8;var j=ee.T,q={};ee.T=q,pp(r,!1,s,o);try{var de=m(),Oe=ee.S;if(Oe!==null&&Oe(q,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var We=I(de,u);ld(r,s,We,Gs(r))}else ld(r,s,u,Gs(r))}catch(rt){ld(r,s,{then:function(){},status:"rejected",reason:rt},Gs())}finally{ce.p=y,j!==null&&q.types!==null&&(j.types=q.types),ee.T=j}}function W5(){}function fp(r,s,o,u){if(r.tag!==5)throw Error(n(476));var m=uw(r).queue;cw(r,m,s,le,o===null?W5:function(){return dw(r),o(u)})}function uw(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:le},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function dw(r){var s=uw(r);s.next===null&&(s=r.alternate.memoizedState),ld(r,s.next.queue,{},Gs())}function hp(){return cn(Sd)}function fw(){return Cr().memoizedState}function hw(){return Cr().memoizedState}function J5(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Gs();r=Zt(o);var u=VA(s,r,o);u!==null&&(_s(u,s,o),Yr(u,s,o)),s={cache:To()},r.payload=s;return}s=s.return}}function X5(r,s,o){var u=Gs();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ff(r)?gw(s,o):(o=Fc(r,s,o,u),o!==null&&(_s(o,r,u),mw(o,s,u)))}function pw(r,s,o){var u=Gs();ld(r,s,o,u)}function ld(r,s,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ff(r))gw(s,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var j=s.lastRenderedState,q=y(j,o);if(m.hasEagerState=!0,m.eagerState=q,Sn(q,j))return Tl(r,s,m,0),or===null&&Il(),!1}catch{}finally{}if(o=Fc(r,s,m,u),o!==null)return _s(o,r,u),mw(o,s,u),!0}return!1}function pp(r,s,o,u){if(u={lane:2,revertLane:Vp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ff(r)){if(s)throw Error(n(479))}else s=Fc(r,o,u,2),s!==null&&_s(s,r,2)}function Ff(r){var s=r.alternate;return r===aA||s!==null&&s===aA}function gw(r,s){Ki=Sa=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function mw(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Vt(r,o)}}var cd={readContext:cn,use:Do,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useLayoutEffect:er,useInsertionEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useSyncExternalStore:er,useId:er,useHostTransitionStatus:er,useFormState:er,useActionState:er,useOptimistic:er,useMemoCache:er,useCacheRefresh:er};cd.useEffectEvent=er;var ww={readContext:cn,use:Do,useCallback:function(r,s){return Xr().memoizedState=[r,s===void 0?null:s],r},useContext:cn,useEffect:tw,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,ko(4194308,4,sw.bind(null,s,r),o)},useLayoutEffect:function(r,s){return ko(4194308,4,r,s)},useInsertionEffect:function(r,s){ko(4,2,r,s)},useMemo:function(r,s){var o=Xr();s=s===void 0?null:s;var u=r();if(oa){xt(!0);try{r()}finally{xt(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Xr();if(o!==void 0){var m=o(s);if(oa){xt(!0);try{o(s)}finally{xt(!1)}}}else m=s;return u.memoizedState=u.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},u.queue=r,r=r.dispatch=X5.bind(null,aA,r),[u.memoizedState,r]},useRef:function(r){var s=Xr();return r={current:r},s.memoizedState=r},useState:function(r){r=hi(r);var s=r.queue,o=pw.bind(null,aA,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:up,useDeferredValue:function(r,s){var o=Xr();return dp(o,r,s)},useTransition:function(){var r=hi(!1);return r=cw.bind(null,aA,r.queue,!0,!1),Xr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=aA,m=Xr();if(yA){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),or===null)throw Error(n(349));(NA&127)!==0||Na(u,s,o)}m.memoizedState=o;var y={value:o,getSnapshot:s};return m.queue=y,tw(ad.bind(null,u,y,r),[r]),u.flags|=2048,zi(9,{destroy:void 0},sd.bind(null,u,y,o,s),null),o},useId:function(){var r=Xr(),s=or.identifierPrefix;if(yA){var o=bs,u=vs;o=(u&~(1<<32-_t(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Pl++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=Pc++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:hp,useFormState:ca,useActionState:ca,useOptimistic:function(r){var s=Xr();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=pp.bind(null,aA,!0,o),o.dispatch=s,[r,s]},useMemoCache:qi,useCacheRefresh:function(){return Xr().memoizedState=J5.bind(null,aA)},useEffectEvent:function(r){var s=Xr(),o={impl:r};return s.memoizedState=o,function(){if((KA&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}},gp={readContext:cn,use:Do,useCallback:iw,useContext:cn,useEffect:cp,useImperativeHandle:aw,useInsertionEffect:rw,useLayoutEffect:nw,useMemo:ow,useReducer:Gc,useRef:Qf,useState:function(){return Gc(la)},useDebugValue:up,useDeferredValue:function(r,s){var o=Cr();return lw(o,mA.memoizedState,r,s)},useTransition:function(){var r=Gc(la)[0],s=Cr().memoizedState;return[typeof r=="boolean"?r:fi(r),s]},useSyncExternalStore:Vc,useId:fw,useHostTransitionStatus:hp,useFormState:Ua,useActionState:Ua,useOptimistic:function(r,s){var o=Cr();return Sf(o,mA,r,s)},useMemoCache:qi,useCacheRefresh:hw};gp.useEffectEvent=Aw;var vw={readContext:cn,use:Do,useCallback:iw,useContext:cn,useEffect:cp,useImperativeHandle:aw,useInsertionEffect:rw,useLayoutEffect:nw,useMemo:ow,useReducer:zc,useRef:Qf,useState:function(){return zc(la)},useDebugValue:up,useDeferredValue:function(r,s){var o=Cr();return mA===null?dp(o,r,s):lw(o,mA.memoizedState,r,s)},useTransition:function(){var r=zc(la)[0],s=Cr().memoizedState;return[typeof r=="boolean"?r:fi(r),s]},useSyncExternalStore:Vc,useId:fw,useHostTransitionStatus:hp,useFormState:Wc,useActionState:Wc,useOptimistic:function(r,s){var o=Cr();return mA!==null?Sf(o,mA,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:qi,useCacheRefresh:hw};vw.useEffectEvent=Aw;function mp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var wp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Gs(),m=Zt(u);m.payload=s,o!=null&&(m.callback=o),s=VA(r,m,u),s!==null&&(_s(s,r,u),Yr(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Gs(),m=Zt(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=VA(r,m,u),s!==null&&(_s(s,r,u),Yr(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Gs(),u=Zt(o);u.tag=2,s!=null&&(u.callback=s),s=VA(r,u,o),s!==null&&(_s(s,r,o),Yr(s,r,o))}};function bw(r,s,o,u,m,y,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,j):s.prototype&&s.prototype.isPureReactComponent?!us(o,u)||!us(m,y):!0}function yw(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&wp.enqueueReplaceState(s,s.state,null)}function Gl(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=b({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}function xw(r){Oi(r)}function Bw(r){console.error(r)}function Cw(r){Oi(r)}function jf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Ew(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function vp(r,s,o){return o=Zt(o),o.tag=3,o.payload={element:null},o.callback=function(){jf(r,s)},o}function Sw(r){return r=Zt(r),r.tag=3,r}function _w(r,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;r.payload=function(){return m(y)},r.callback=function(){Ew(s,o,u)}}var j=o.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(r.callback=function(){Ew(s,o,u),typeof m!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var q=u.stack;this.componentDidCatch(u.value,{componentStack:q!==null?q:""})})}function Z5(r,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&li(s,o,m,!0),o=Lr.current,o!==null){switch(o.tag){case 31:case 13:return Jr===null?qf():o.alternate===null&&Dr===0&&(Dr=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===_e?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),qp(r,u,m)),!1;case 22:return o.flags|=65536,u===_e?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),qp(r,u,m)),!1}throw Error(n(435,o.tag))}return qp(r,u,m),qf(),!1}if(yA)return s=Lr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Ps&&(r=Error(n(422),{cause:u}),Lo(gs(r,o)))):(u!==Ps&&(s=Error(n(423),{cause:u}),Lo(gs(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,u=gs(u,o),m=vp(r.stateNode,u,m),yr(r,m),Dr!==4&&(Dr=2)),!1;var y=Error(n(520),{cause:u});if(y=gs(y,o),wd===null?wd=[y]:wd.push(y),Dr!==4&&(Dr=2),s===null)return!0;u=gs(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=vp(o.stateNode,u,r),yr(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ko===null||!Ko.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Sw(m),_w(m,r,o,u),yr(o,m),!1}o=o.return}while(o!==null);return!1}var bp=Error(n(461)),Zr=!1;function Un(r,s,o,u){s.child=r===null?_A(s,null,o,u):xA(s,r.child,o,u)}function Nw(r,s,o,u,m){o=o.render;var y=s.ref;if("ref"in u){var j={};for(var q in u)q!=="ref"&&(j[q]=u[q])}else j=u;return ci(s),u=Ad(r,s,o,j,y,m),q=rd(),r!==null&&!Zr?(nd(r,s,m),Vi(r,s,m)):(yA&&q&&Xu(s),s.flags|=1,Un(r,s,u,m),s.child)}function Uw(r,s,o,u,m){if(r===null){var y=o.type;return typeof y=="function"&&!Lc(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Qw(r,s,y,u,m)):(r=Qo(o.type,null,u,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Np(r,m)){var j=y.memoizedProps;if(o=o.compare,o=o!==null?o:us,o(j,u)&&r.ref===s.ref)return Vi(r,s,m)}return s.flags|=1,r=ps(y,u),r.ref=s.ref,r.return=s,s.child=r}function Qw(r,s,o,u,m){if(r!==null){var y=r.memoizedProps;if(us(y,u)&&r.ref===s.ref)if(Zr=!1,s.pendingProps=u=y,Np(r,m))(r.flags&131072)!==0&&(Zr=!0);else return s.lanes=r.lanes,Vi(r,s,m)}return yp(r,s,o,u,m)}function Fw(r,s,o,u){var m=u.children,y=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,r!==null){for(u=s.child=r.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,s.child=null;return jw(r,s,y,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&$(s,y!==null?y.cachePool:null),y!==null?ts(s,y):xs(),gr(s);else return u=s.lanes=536870912,jw(r,s,y!==null?y.baseLanes|o:o,o,u)}else y!==null?($(s,y.cachePool),ts(s,y),ia(),s.memoizedState=null):(r!==null&&$(s,null),xs(),ia());return Un(r,s,m,o),s.child}function ud(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function jw(r,s,o,u,m){var y=K();return y=y===null?null:{parent:jr._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},r!==null&&$(s,null),xs(),gr(s),r!==null&&li(r,s,u,!0),s.childLanes=m,null}function Lf(r,s){return s=Tf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Lw(r,s,o){return xA(s,r.child,null,o),r=Lf(s,s.pendingProps),r.flags|=2,Rn(s),s.memoizedState=null,r}function e4(r,s,o){var u=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(yA){if(u.mode==="hidden")return r=Lf(s,u),s.lanes=536870912,ud(null,r);if(aa(s),(r=ar)?(r=Gv(r,br),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:si!==null?{id:vs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},o=Ic(r),o.return=s,s.child=o,on=s,ar=null)):r=null,r===null)throw ai(s);return s.lanes=536870912,null}return Lf(s,u)}var y=r.memoizedState;if(y!==null){var j=y.dehydrated;if(aa(s),m)if(s.flags&256)s.flags&=-257,s=Lw(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(n(558));else if(Zr||li(r,s,o,!1),m=(o&r.childLanes)!==0,Zr||m){if(u=or,u!==null&&(j=bA(u,o),j!==0&&j!==y.retryLane))throw y.retryLane=j,Ca(r,j),_s(u,r,j),bp;qf(),s=Lw(r,s,o)}else r=y.treeContext,ar=ua(j.nextSibling),on=s,yA=!0,Nn=null,br=!1,r!==null&&Bf(s,r),s=Lf(s,u),s.flags|=4096;return s}return r=ps(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function If(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function yp(r,s,o,u,m){return ci(s),o=Ad(r,s,o,u,void 0,m),u=rd(),r!==null&&!Zr?(nd(r,s,m),Vi(r,s,m)):(yA&&u&&Xu(s),s.flags|=1,Un(r,s,o,m),s.child)}function Iw(r,s,o,u,m,y){return ci(s),s.updateQueue=null,o=_a(s,u,o,m),Kc(r),u=rd(),r!==null&&!Zr?(nd(r,s,y),Vi(r,s,y)):(yA&&u&&Xu(s),s.flags|=1,Un(r,s,o,y),s.child)}function Tw(r,s,o,u,m){if(ci(s),s.stateNode===null){var y=an,j=o.contextType;typeof j=="object"&&j!==null&&(y=cn(j)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=wp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},PA(s),j=o.contextType,y.context=typeof j=="object"&&j!==null?cn(j):an,y.state=s.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(mp(s,o,j,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(j=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),j!==y.state&&wp.enqueueReplaceState(y,y.state,null),un(s,u,y,m),jA(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){y=s.stateNode;var q=s.memoizedProps,de=Gl(o,q);y.props=de;var Oe=y.context,We=o.contextType;j=an,typeof We=="object"&&We!==null&&(j=cn(We));var rt=o.getDerivedStateFromProps;We=typeof rt=="function"||typeof y.getSnapshotBeforeUpdate=="function",q=s.pendingProps!==q,We||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(q||Oe!==j)&&yw(s,y,u,j),cA=!1;var Re=s.memoizedState;y.state=Re,un(s,u,y,m),jA(),Oe=s.memoizedState,q||Re!==Oe||cA?(typeof rt=="function"&&(mp(s,o,rt,u),Oe=s.memoizedState),(de=cA||bw(s,o,de,u,Re,Oe,j))?(We||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Oe),y.props=u,y.state=Oe,y.context=j,u=de):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,OA(r,s),j=s.memoizedProps,We=Gl(o,j),y.props=We,rt=s.pendingProps,Re=y.context,Oe=o.contextType,de=an,typeof Oe=="object"&&Oe!==null&&(de=cn(Oe)),q=o.getDerivedStateFromProps,(Oe=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j!==rt||Re!==de)&&yw(s,y,u,de),cA=!1,Re=s.memoizedState,y.state=Re,un(s,u,y,m),jA();var Ke=s.memoizedState;j!==rt||Re!==Ke||cA||r!==null&&r.dependencies!==null&&Rc(r.dependencies)?(typeof q=="function"&&(mp(s,o,q,u),Ke=s.memoizedState),(We=cA||bw(s,o,We,u,Re,Ke,de)||r!==null&&r.dependencies!==null&&Rc(r.dependencies))?(Oe||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Ke,de),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Ke,de)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||j===r.memoizedProps&&Re===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&Re===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Ke),y.props=u,y.state=Ke,y.context=de,u=We):(typeof y.componentDidUpdate!="function"||j===r.memoizedProps&&Re===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&Re===r.memoizedState||(s.flags|=1024),u=!1)}return y=u,If(r,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&u?(s.child=xA(s,r.child,null,m),s.child=xA(s,null,o,m)):Un(r,s,o,m),s.memoizedState=y.state,r=s.child):r=Vi(r,s,m),r}function Dw(r,s,o,u){return Hi(),s.flags|=256,Un(r,s,o,u),s.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bp(r){return{baseLanes:r,cachePool:ne()}}function Cp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=qs),r}function Ow(r,s,o){var u=s.pendingProps,m=!1,y=(s.flags&128)!==0,j;if((j=y)||(j=r!==null&&r.memoizedState===null?!1:(Br.current&2)!==0),j&&(m=!0,s.flags&=-129),j=(s.flags&32)!==0,s.flags&=-33,r===null){if(yA){if(m?As(s):ia(),(r=ar)?(r=Gv(r,br),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:si!==null?{id:vs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},o=Ic(r),o.return=s,s.child=o,on=s,ar=null)):r=null,r===null)throw ai(s);return ag(r)?s.lanes=32:s.lanes=536870912,null}var q=u.children;return u=u.fallback,m?(ia(),m=s.mode,q=Tf({mode:"hidden",children:q},m),u=ni(u,m,o,null),q.return=s,u.return=s,q.sibling=u,s.child=q,u=s.child,u.memoizedState=Bp(o),u.childLanes=Cp(r,j,o),s.memoizedState=xp,ud(null,u)):(As(s),Ep(s,q))}var de=r.memoizedState;if(de!==null&&(q=de.dehydrated,q!==null)){if(y)s.flags&256?(As(s),s.flags&=-257,s=Sp(r,s,o)):s.memoizedState!==null?(ia(),s.child=r.child,s.flags|=128,s=null):(ia(),q=u.fallback,m=s.mode,u=Tf({mode:"visible",children:u.children},m),q=ni(q,m,o,null),q.flags|=2,u.return=s,q.return=s,u.sibling=q,s.child=u,xA(s,r.child,null,o),u=s.child,u.memoizedState=Bp(o),u.childLanes=Cp(r,j,o),s.memoizedState=xp,s=ud(null,u));else if(As(s),ag(q)){if(j=q.nextSibling&&q.nextSibling.dataset,j)var Oe=j.dgst;j=Oe,u=Error(n(419)),u.stack="",u.digest=j,Lo({value:u,source:null,stack:null}),s=Sp(r,s,o)}else if(Zr||li(r,s,o,!1),j=(o&r.childLanes)!==0,Zr||j){if(j=or,j!==null&&(u=bA(j,o),u!==0&&u!==de.retryLane))throw de.retryLane=u,Ca(r,u),_s(j,r,u),bp;sg(q)||qf(),s=Sp(r,s,o)}else sg(q)?(s.flags|=192,s.child=r.child,s=null):(r=de.treeContext,ar=ua(q.nextSibling),on=s,yA=!0,Nn=null,br=!1,r!==null&&Bf(s,r),s=Ep(s,u.children),s.flags|=4096);return s}return m?(ia(),q=u.fallback,m=s.mode,de=r.child,Oe=de.sibling,u=ps(de,{mode:"hidden",children:u.children}),u.subtreeFlags=de.subtreeFlags&65011712,Oe!==null?q=ps(Oe,q):(q=ni(q,m,o,null),q.flags|=2),q.return=s,u.return=s,u.sibling=q,s.child=u,ud(null,u),u=s.child,q=r.child.memoizedState,q===null?q=Bp(o):(m=q.cachePool,m!==null?(de=jr._currentValue,m=m.parent!==de?{parent:de,pool:de}:m):m=ne(),q={baseLanes:q.baseLanes|o,cachePool:m}),u.memoizedState=q,u.childLanes=Cp(r,j,o),s.memoizedState=xp,ud(r.child,u)):(As(s),o=r.child,r=o.sibling,o=ps(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(j=s.deletions,j===null?(s.deletions=[r],s.flags|=16):j.push(r)),s.child=o,s.memoizedState=null,o)}function Ep(r,s){return s=Tf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Tf(r,s){return r=wn(22,r,null,s),r.lanes=0,r}function Sp(r,s,o){return xA(s,r.child,null,o),r=Ep(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function kw(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Io(r.return,s,o)}function _p(r,s,o,u,m,y){var j=r.memoizedState;j===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:y}:(j.isBackwards=s,j.rendering=null,j.renderingStartTime=0,j.last=u,j.tail=o,j.tailMode=m,j.treeForkCount=y)}function Rw(r,s,o){var u=s.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var j=Br.current,q=(j&2)!==0;if(q?(j=j&1|2,s.flags|=128):j&=1,k(Br,j),Un(r,s,u,o),u=yA?Rl:0,!q&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kw(r,o,s);else if(r.tag===19)kw(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&Pi(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),_p(s,!1,m,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Pi(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}_p(s,!0,o,null,y,u);break;case"together":_p(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Vi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Po|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(li(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,o=ps(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ps(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Np(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Rc(r)))}function t4(r,s,o){switch(s.tag){case 3:he(s,s.stateNode.containerInfo),oi(s,jr,r.memoizedState.cache),Hi();break;case 27:case 5:Be(s);break;case 4:he(s,s.stateNode.containerInfo);break;case 10:oi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,aa(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(As(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Ow(r,s,o):(As(s),r=Vi(r,s,o),r!==null?r.sibling:null);As(s);break;case 19:var m=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(li(r,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return Rw(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),k(Br,Br.current),u)break;return null;case 22:return s.lanes=0,Fw(r,s,o,s.pendingProps);case 24:oi(s,jr,r.memoizedState.cache)}return Vi(r,s,o)}function Hw(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Zr=!0;else{if(!Np(r,o)&&(s.flags&128)===0)return Zr=!1,t4(r,s,o);Zr=(r.flags&131072)!==0}else Zr=!1,yA&&(s.flags&1048576)!==0&&xf(s,Rl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(r=ve(s.elementType),s.type=r,typeof r=="function")Lc(r)?(u=Gl(r,u),s.tag=1,s=Tw(null,s,r,u,o)):(s.tag=0,s=yp(null,s,r,u,o));else{if(r!=null){var m=r.$$typeof;if(m===W){s.tag=11,s=Nw(null,s,r,u,o);break e}else if(m===J){s.tag=14,s=Uw(null,s,r,u,o);break e}}throw s=Ae(r)||r,Error(n(306,s,""))}}return s;case 0:return yp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=Gl(u,s.pendingProps),Tw(r,s,u,m,o);case 3:e:{if(he(s,s.stateNode.containerInfo),r===null)throw Error(n(387));u=s.pendingProps;var y=s.memoizedState;m=y.element,OA(r,s),un(s,u,null,o);var j=s.memoizedState;if(u=j.cache,oi(s,jr,u),u!==y.cache&&Mi(s,[jr],o,!0),jA(),u=j.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:j.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Dw(r,s,u,o);break e}else if(u!==m){m=gs(Error(n(424)),s),Lo(m),s=Dw(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ar=ua(r.firstChild),on=s,yA=!0,Nn=null,br=!0,o=_A(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Hi(),u===m){s=Vi(r,s,o);break e}Un(r,s,u,o)}s=s.child}return s;case 26:return If(r,s),r===null?(o=Jv(s.type,null,s.pendingProps,null))?s.memoizedState=o:yA||(o=s.type,r=s.pendingProps,u=Jf(z.current).createElement(o),u[IA]=s,u[TA]=r,Qn(u,o,r),it(u),s.stateNode=u):s.memoizedState=Jv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Be(s),r===null&&yA&&(u=s.stateNode=$v(s.type,s.pendingProps,z.current),on=s,br=!0,m=ar,Vo(s.type)?(ig=m,ar=ua(u.firstChild)):ar=m),Un(r,s,s.pendingProps.children,o),If(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&yA&&((m=u=ar)&&(u=F4(u,s.type,s.pendingProps,br),u!==null?(s.stateNode=u,on=s,ar=ua(u.firstChild),br=!1,m=!0):m=!1),m||ai(s)),Be(s),m=s.type,y=s.pendingProps,j=r!==null?r.memoizedProps:null,u=y.children,Ag(m,y)?u=null:j!==null&&Ag(m,j)&&(s.flags|=32),s.memoizedState!==null&&(m=Ad(r,s,lp,null,null,o),Sd._currentValue=m),If(r,s),Un(r,s,u,o),s.child;case 6:return r===null&&yA&&((r=o=ar)&&(o=j4(o,s.pendingProps,br),o!==null?(s.stateNode=o,on=s,ar=null,r=!0):r=!1),r||ai(s)),null;case 13:return Ow(r,s,o);case 4:return he(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=xA(s,null,u,o):Un(r,s,u,o),s.child;case 11:return Nw(r,s,s.type,s.pendingProps,o);case 7:return Un(r,s,s.pendingProps,o),s.child;case 8:return Un(r,s,s.pendingProps.children,o),s.child;case 12:return Un(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,oi(s,s.type,u.value),Un(r,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,ci(s),m=cn(m),u=u(m),s.flags|=1,Un(r,s,u,o),s.child;case 14:return Uw(r,s,s.type,s.pendingProps,o);case 15:return Qw(r,s,s.type,s.pendingProps,o);case 19:return Rw(r,s,o);case 31:return e4(r,s,o);case 22:return Fw(r,s,o,s.pendingProps);case 24:return ci(s),u=cn(jr),r===null?(m=K(),m===null&&(m=or,y=To(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),s.memoizedState={parent:u,cache:m},PA(s),oi(s,jr,m)):((r.lanes&o)!==0&&(OA(r,s),un(s,null,null,o),jA()),m=r.memoizedState,y=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),oi(s,jr,u)):(u=y.cache,oi(s,jr,u),u!==m.cache&&Mi(s,[jr],o,!0))),Un(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function $i(r){r.flags|=4}function Up(r,s,o,u,m){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(fv())r.flags|=8192;else throw xe=_e,Le}else r.flags&=-16777217}function Mw(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!A2(s))if(fv())r.flags|=8192;else throw xe=_e,Le}function Df(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ye():536870912,r.lanes|=s,eu|=s)}function dd(r,s){if(!yA)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function mr(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function A4(r,s,o){var u=s.pendingProps;switch(Oc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(s),null;case 1:return mr(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ys(jr),ue(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ln(s)?$i(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ed())),mr(s),null;case 26:var m=s.type,y=s.memoizedState;return r===null?($i(s),y!==null?(mr(s),Mw(s,y)):(mr(s),Up(s,m,null,u,o))):y?y!==r.memoizedState?($i(s),mr(s),Mw(s,y)):(mr(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&$i(s),mr(s),Up(s,m,r,u,o)),null;case 27:if(Qe(s),o=z.current,m=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&$i(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return mr(s),null}r=P.current,ln(s)?Zu(s):(r=$v(m,u,o),s.stateNode=r,$i(s))}return mr(s),null;case 5:if(Qe(s),m=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&$i(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return mr(s),null}if(y=P.current,ln(s))Zu(s);else{var j=Jf(z.current);switch(y){case 1:y=j.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=j.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=j.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=j.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=j.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?j.createElement("select",{is:u.is}):j.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?j.createElement(m,{is:u.is}):j.createElement(m)}}y[IA]=s,y[TA]=u;e:for(j=s.child;j!==null;){if(j.tag===5||j.tag===6)y.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===s)break e;for(;j.sibling===null;){if(j.return===null||j.return===s)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}s.stateNode=y;e:switch(Qn(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&$i(s)}}return mr(s),Up(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&$i(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(r=z.current,ln(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,m=on,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}r[IA]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Ov(r.nodeValue,o)),r||ai(s,!0)}else r=Jf(r).createTextNode(u),r[IA]=s,s.stateNode=r}return mr(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(u=ln(s),o!==null){if(r===null){if(!u)throw Error(n(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(557));r[IA]=s}else Hi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mr(s),r=!1}else o=ed(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(Rn(s),s):(Rn(s),null);if((s.flags&128)!==0)throw Error(n(558))}return mr(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=ln(s),u!==null&&u.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[IA]=s}else Hi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mr(s),m=!1}else m=ed(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Rn(s),s):(Rn(s),null)}return Rn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),Df(s,s.updateQueue),mr(s),null);case 4:return ue(),r===null&&Jp(s.stateNode.containerInfo),mr(s),null;case 10:return ys(s.type),mr(s),null;case 19:if(N(Br),u=s.memoizedState,u===null)return mr(s),null;if(m=(s.flags&128)!==0,y=u.rendering,y===null)if(m)dd(u,!1);else{if(Dr!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Pi(r),y!==null){for(s.flags|=128,dd(u,!1),r=y.updateQueue,s.updateQueue=r,Df(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Ol(o,r),o=o.sibling;return k(Br,Br.current&1|2),yA&&es(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&ct()>Mf&&(s.flags|=128,m=!0,dd(u,!1),s.lanes=4194304)}else{if(!m)if(r=Pi(y),r!==null){if(s.flags|=128,m=!0,r=r.updateQueue,s.updateQueue=r,Df(s,r),dd(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!yA)return mr(s),null}else 2*ct()-u.renderingStartTime>Mf&&o!==536870912&&(s.flags|=128,m=!0,dd(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(r=u.last,r!==null?r.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=ct(),r.sibling=null,o=Br.current,k(Br,m?o&1|2:o&1),yA&&es(s,u.treeForkCount),r):(mr(s),null);case 22:case 23:return Rn(s),Tr(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(mr(s),s.subtreeFlags&6&&(s.flags|=8192)):mr(s),o=s.updateQueue,o!==null&&Df(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&N(M),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ys(jr),mr(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function r4(r,s){switch(Oc(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ys(jr),ue(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Qe(s),null;case 31:if(s.memoizedState!==null){if(Rn(s),s.alternate===null)throw Error(n(340));Hi()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Rn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Hi()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return N(Br),null;case 4:return ue(),null;case 10:return ys(s.type),null;case 22:case 23:return Rn(s),Tr(),r!==null&&N(M),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ys(jr),null;case 25:return null;default:return null}}function Pw(r,s){switch(Oc(s),s.tag){case 3:ys(jr),ue();break;case 26:case 27:case 5:Qe(s);break;case 4:ue();break;case 31:s.memoizedState!==null&&Rn(s);break;case 13:Rn(s);break;case 19:N(Br);break;case 10:ys(s.type);break;case 22:case 23:Rn(s),Tr(),r!==null&&N(M);break;case 24:ys(jr)}}function fd(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&r)===r){u=void 0;var y=o.create,j=o.inst;u=y(),j.destroy=u}o=o.next}while(o!==m)}}catch(q){YA(s,s.return,q)}}function Ho(r,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&r)===r){var j=u.inst,q=j.destroy;if(q!==void 0){j.destroy=void 0,m=s;var de=o,Oe=q;try{Oe()}catch(We){YA(m,de,We)}}}u=u.next}while(u!==y)}}catch(We){YA(s,s.return,We)}}function Kw(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Pr(s,o)}catch(u){YA(r,r.return,u)}}}function qw(r,s,o){o.props=Gl(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){YA(r,s,u)}}function hd(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(m){YA(r,s,m)}}function pi(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){YA(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){YA(r,s,m)}else o.current=null}function Gw(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){YA(r,r.return,m)}}function Qp(r,s,o){try{var u=r.stateNode;E4(u,r.type,o,s),u[TA]=s}catch(m){YA(r,r.return,m)}}function zw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Vo(r.type)||r.tag===4}function Fp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||zw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Vo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ur));else if(u!==4&&(u===27&&Vo(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(jp(r,s,o),r=r.sibling;r!==null;)jp(r,s,o),r=r.sibling}function Of(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Vo(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Of(r,s,o),r=r.sibling;r!==null;)Of(r,s,o),r=r.sibling}function Vw(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Qn(s,u,o),s[IA]=r,s[TA]=o}catch(y){YA(r,r.return,y)}}var Yi=!1,en=!1,Lp=!1,$w=typeof WeakSet=="function"?WeakSet:Set,bn=null;function n4(r,s){if(r=r.containerInfo,eg=nh,r=Hs(r),Ms(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var j=0,q=-1,de=-1,Oe=0,We=0,rt=r,Re=null;t:for(;;){for(var Ke;rt!==o||m!==0&&rt.nodeType!==3||(q=j+m),rt!==y||u!==0&&rt.nodeType!==3||(de=j+u),rt.nodeType===3&&(j+=rt.nodeValue.length),(Ke=rt.firstChild)!==null;)Re=rt,rt=Ke;for(;;){if(rt===r)break t;if(Re===o&&++Oe===m&&(q=j),Re===y&&++We===u&&(de=j),(Ke=rt.nextSibling)!==null)break;rt=Re,Re=rt.parentNode}rt=Ke}o=q===-1||de===-1?null:{start:q,end:de}}else o=null}o=o||{start:0,end:0}}else o=null;for(tg={focusedElem:r,selectionRange:o},nh=!1,bn=s;bn!==null;)if(s=bn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,bn=r;else for(;bn!==null;){switch(s=bn,y=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)m=r[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Ft=Gl(o.type,m);r=u.getSnapshotBeforeUpdate(Ft,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(eA){YA(o,o.return,eA)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)ng(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ng(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=s.sibling,r!==null){r.return=s.return,bn=r;break}bn=s.return}}function Yw(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ji(r,o),u&4&&fd(5,o);break;case 1:if(Ji(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(j){YA(o,o.return,j)}else{var m=Gl(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(j){YA(o,o.return,j)}}u&64&&Kw(o),u&512&&hd(o,o.return);break;case 3:if(Ji(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Pr(r,s)}catch(j){YA(o,o.return,j)}}break;case 27:s===null&&u&4&&Vw(o);case 26:case 5:Ji(r,o),s===null&&u&4&&Gw(o),u&512&&hd(o,o.return);break;case 12:Ji(r,o);break;case 31:Ji(r,o),u&4&&Xw(r,o);break;case 13:Ji(r,o),u&4&&Zw(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=f4.bind(null,o),L4(r,o))));break;case 22:if(u=o.memoizedState!==null||Yi,!u){s=s!==null&&s.memoizedState!==null||en,m=Yi;var y=en;Yi=u,(en=s)&&!y?Xi(r,o,(o.subtreeFlags&8772)!==0):Ji(r,o),Yi=m,en=y}break;case 30:break;default:Ji(r,o)}}function Ww(r){var s=r.alternate;s!==null&&(r.alternate=null,Ww(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Is(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Er=null,Bs=!1;function Wi(r,s,o){for(o=o.child;o!==null;)Jw(r,s,o),o=o.sibling}function Jw(r,s,o){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Me,o)}catch{}switch(o.tag){case 26:en||pi(o,s),Wi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:en||pi(o,s);var u=Er,m=Bs;Vo(o.type)&&(Er=o.stateNode,Bs=!1),Wi(r,s,o),Bd(o.stateNode),Er=u,Bs=m;break;case 5:en||pi(o,s);case 6:if(u=Er,m=Bs,Er=null,Wi(r,s,o),Er=u,Bs=m,Er!==null)if(Bs)try{(Er.nodeType===9?Er.body:Er.nodeName==="HTML"?Er.ownerDocument.body:Er).removeChild(o.stateNode)}catch(y){YA(o,s,y)}else try{Er.removeChild(o.stateNode)}catch(y){YA(o,s,y)}break;case 18:Er!==null&&(Bs?(r=Er,Kv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),ou(r)):Kv(Er,o.stateNode));break;case 4:u=Er,m=Bs,Er=o.stateNode.containerInfo,Bs=!0,Wi(r,s,o),Er=u,Bs=m;break;case 0:case 11:case 14:case 15:Ho(2,o,s),en||Ho(4,o,s),Wi(r,s,o);break;case 1:en||(pi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&qw(o,s,u)),Wi(r,s,o);break;case 21:Wi(r,s,o);break;case 22:en=(u=en)||o.memoizedState!==null,Wi(r,s,o),en=u;break;default:Wi(r,s,o)}}function Xw(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{ou(r)}catch(o){YA(s,s.return,o)}}}function Zw(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ou(r)}catch(o){YA(s,s.return,o)}}function s4(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new $w),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new $w),s;default:throw Error(n(435,r.tag))}}function kf(r,s){var o=s4(r);s.forEach(function(u){if(!o.has(u)){o.add(u);var m=h4.bind(null,r,u);u.then(m,m)}})}function Cs(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=r,j=s,q=j;e:for(;q!==null;){switch(q.tag){case 27:if(Vo(q.type)){Er=q.stateNode,Bs=!1;break e}break;case 5:Er=q.stateNode,Bs=!1;break e;case 3:case 4:Er=q.stateNode.containerInfo,Bs=!0;break e}q=q.return}if(Er===null)throw Error(n(160));Jw(y,j,m),Er=null,Bs=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ev(s,r),s=s.sibling}var Fa=null;function ev(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Cs(s,r),Es(r),u&4&&(Ho(3,r,r.return),fd(3,r),Ho(5,r,r.return));break;case 1:Cs(s,r),Es(r),u&512&&(en||o===null||pi(o,o.return)),u&64&&Yi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Fa;if(Cs(s,r),Es(r),u&512&&(en||o===null||pi(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[$n]||y[IA]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),Qn(y,u,o),y[IA]=r,it(y),u=y;break e;case"link":var j=e2("link","href",m).get(u+(o.href||""));if(j){for(var q=0;q<j.length;q++)if(y=j[q],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){j.splice(q,1);break t}}y=m.createElement(u),Qn(y,u,o),m.head.appendChild(y);break;case"meta":if(j=e2("meta","content",m).get(u+(o.content||""))){for(q=0;q<j.length;q++)if(y=j[q],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){j.splice(q,1);break t}}y=m.createElement(u),Qn(y,u,o),m.head.appendChild(y);break;default:throw Error(n(468,u))}y[IA]=r,it(y),u=y}r.stateNode=u}else t2(m,r.type,r.stateNode);else r.stateNode=Zv(m,u,r.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?t2(m,r.type,r.stateNode):Zv(m,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Qp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Cs(s,r),Es(r),u&512&&(en||o===null||pi(o,o.return)),o!==null&&u&4&&Qp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Cs(s,r),Es(r),u&512&&(en||o===null||pi(o,o.return)),r.flags&32){m=r.stateNode;try{Xs(m,"")}catch(Ft){YA(r,r.return,Ft)}}u&4&&r.stateNode!=null&&(m=r.memoizedProps,Qp(r,m,o!==null?o.memoizedProps:m)),u&1024&&(Lp=!0);break;case 6:if(Cs(s,r),Es(r),u&4){if(r.stateNode===null)throw Error(n(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Ft){YA(r,r.return,Ft)}}break;case 3:if(eh=null,m=Fa,Fa=Xf(s.containerInfo),Cs(s,r),Fa=m,Es(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ou(s.containerInfo)}catch(Ft){YA(r,r.return,Ft)}Lp&&(Lp=!1,tv(r));break;case 4:u=Fa,Fa=Xf(r.stateNode.containerInfo),Cs(s,r),Es(r),Fa=u;break;case 12:Cs(s,r),Es(r);break;case 31:Cs(s,r),Es(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,kf(r,u)));break;case 13:Cs(s,r),Es(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hf=ct()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,kf(r,u)));break;case 22:m=r.memoizedState!==null;var de=o!==null&&o.memoizedState!==null,Oe=Yi,We=en;if(Yi=Oe||m,en=We||de,Cs(s,r),en=We,Yi=Oe,Es(r),u&8192)e:for(s=r.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||de||Yi||en||zl(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){de=o=s;try{if(y=de.stateNode,m)j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{q=de.stateNode;var rt=de.memoizedProps.style,Re=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;q.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(Ft){YA(de,de.return,Ft)}}}else if(s.tag===6){if(o===null){de=s;try{de.stateNode.nodeValue=m?"":de.memoizedProps}catch(Ft){YA(de,de.return,Ft)}}}else if(s.tag===18){if(o===null){de=s;try{var Ke=de.stateNode;m?qv(Ke,!0):qv(de.stateNode,!1)}catch(Ft){YA(de,de.return,Ft)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,kf(r,o))));break;case 19:Cs(s,r),Es(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,kf(r,u)));break;case 30:break;case 21:break;default:Cs(s,r),Es(r)}}function Es(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(zw(u)){o=u;break}u=u.return}if(o==null)throw Error(n(160));switch(o.tag){case 27:var m=o.stateNode,y=Fp(r);Of(r,y,m);break;case 5:var j=o.stateNode;o.flags&32&&(Xs(j,""),o.flags&=-33);var q=Fp(r);Of(r,q,j);break;case 3:case 4:var de=o.stateNode.containerInfo,Oe=Fp(r);jp(r,Oe,de);break;default:throw Error(n(161))}}catch(We){YA(r,r.return,We)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function tv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;tv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ji(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Yw(r,s.alternate,s),s=s.sibling}function zl(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ho(4,s,s.return),zl(s);break;case 1:pi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&qw(s,s.return,o),zl(s);break;case 27:Bd(s.stateNode);case 26:case 5:pi(s,s.return),zl(s);break;case 22:s.memoizedState===null&&zl(s);break;case 30:zl(s);break;default:zl(s)}r=r.sibling}}function Xi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=r,y=s,j=y.flags;switch(y.tag){case 0:case 11:case 15:Xi(m,y,o),fd(4,y);break;case 1:if(Xi(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Oe){YA(u,u.return,Oe)}if(u=y,m=u.updateQueue,m!==null){var q=u.stateNode;try{var de=m.shared.hiddenCallbacks;if(de!==null)for(m.shared.hiddenCallbacks=null,m=0;m<de.length;m++)kn(de[m],q)}catch(Oe){YA(u,u.return,Oe)}}o&&j&64&&Kw(y),hd(y,y.return);break;case 27:Vw(y);case 26:case 5:Xi(m,y,o),o&&u===null&&j&4&&Gw(y),hd(y,y.return);break;case 12:Xi(m,y,o);break;case 31:Xi(m,y,o),o&&j&4&&Xw(m,y);break;case 13:Xi(m,y,o),o&&j&4&&Zw(m,y);break;case 22:y.memoizedState===null&&Xi(m,y,o),hd(y,y.return);break;case 30:break;default:Xi(m,y,o)}s=s.sibling}}function Ip(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Hl(o))}function Tp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Hl(r))}function ja(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Av(r,s,o,u),s=s.sibling}function Av(r,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ja(r,s,o,u),m&2048&&fd(9,s);break;case 1:ja(r,s,o,u);break;case 3:ja(r,s,o,u),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Hl(r)));break;case 12:if(m&2048){ja(r,s,o,u),r=s.stateNode;try{var y=s.memoizedProps,j=y.id,q=y.onPostCommit;typeof q=="function"&&q(j,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(de){YA(s,s.return,de)}}else ja(r,s,o,u);break;case 31:ja(r,s,o,u);break;case 13:ja(r,s,o,u);break;case 23:break;case 22:y=s.stateNode,j=s.alternate,s.memoizedState!==null?y._visibility&2?ja(r,s,o,u):pd(r,s):y._visibility&2?ja(r,s,o,u):(y._visibility|=2,Jc(r,s,o,u,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Ip(j,s);break;case 24:ja(r,s,o,u),m&2048&&Tp(s.alternate,s);break;default:ja(r,s,o,u)}}function Jc(r,s,o,u,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=r,j=s,q=o,de=u,Oe=j.flags;switch(j.tag){case 0:case 11:case 15:Jc(y,j,q,de,m),fd(8,j);break;case 23:break;case 22:var We=j.stateNode;j.memoizedState!==null?We._visibility&2?Jc(y,j,q,de,m):pd(y,j):(We._visibility|=2,Jc(y,j,q,de,m)),m&&Oe&2048&&Ip(j.alternate,j);break;case 24:Jc(y,j,q,de,m),m&&Oe&2048&&Tp(j.alternate,j);break;default:Jc(y,j,q,de,m)}s=s.sibling}}function pd(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,m=u.flags;switch(u.tag){case 22:pd(o,u),m&2048&&Ip(u.alternate,u);break;case 24:pd(o,u),m&2048&&Tp(u.alternate,u);break;default:pd(o,u)}s=s.sibling}}var gd=8192;function Xc(r,s,o){if(r.subtreeFlags&gd)for(r=r.child;r!==null;)rv(r,s,o),r=r.sibling}function rv(r,s,o){switch(r.tag){case 26:Xc(r,s,o),r.flags&gd&&r.memoizedState!==null&&G4(o,Fa,r.memoizedState,r.memoizedProps);break;case 5:Xc(r,s,o);break;case 3:case 4:var u=Fa;Fa=Xf(r.stateNode.containerInfo),Xc(r,s,o),Fa=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=gd,gd=16777216,Xc(r,s,o),gd=u):Xc(r,s,o));break;default:Xc(r,s,o)}}function nv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function md(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];bn=u,av(u,r)}nv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)sv(r),r=r.sibling}function sv(r){switch(r.tag){case 0:case 11:case 15:md(r),r.flags&2048&&Ho(9,r,r.return);break;case 3:md(r);break;case 12:md(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Rf(r)):md(r);break;default:md(r)}}function Rf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];bn=u,av(u,r)}nv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ho(8,s,s.return),Rf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Rf(s));break;default:Rf(s)}r=r.sibling}}function av(r,s){for(;bn!==null;){var o=bn;switch(o.tag){case 0:case 11:case 15:Ho(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,bn=u;else e:for(o=r;bn!==null;){u=bn;var m=u.sibling,y=u.return;if(Ww(u),u===o){bn=null;break e}if(m!==null){m.return=y,bn=m;break e}bn=y}}}var a4={getCacheForType:function(r){var s=cn(jr),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return cn(jr).controller.signal}},i4=typeof WeakMap=="function"?WeakMap:Map,KA=0,or=null,BA=null,NA=0,$A=0,Ks=null,Mo=!1,Zc=!1,Dp=!1,Zi=0,Dr=0,Po=0,Vl=0,Op=0,qs=0,eu=0,wd=null,Ss=null,kp=!1,Hf=0,iv=0,Mf=1/0,Pf=null,Ko=null,dn=0,qo=null,tu=null,eo=0,Rp=0,Hp=null,ov=null,vd=0,Mp=null;function Gs(){return(KA&2)!==0&&NA!==0?NA&-NA:ee.T!==null?Vp():EA()}function lv(){if(qs===0)if((NA&536870912)===0||yA){var r=LA;LA<<=1,(LA&3932160)===0&&(LA=262144),qs=r}else qs=536870912;return r=Lr.current,r!==null&&(r.flags|=32),qs}function _s(r,s,o){(r===or&&($A===2||$A===9)||r.cancelPendingCommit!==null)&&(Au(r,0),Go(r,NA,qs,!1)),Se(r,o),((KA&2)===0||r!==or)&&(r===or&&((KA&2)===0&&(Vl|=o),Dr===4&&Go(r,NA,qs,!1)),gi(r))}function cv(r,s,o){if((KA&6)!==0)throw Error(n(327));var u=!o&&(s&127)===0&&(s&r.expiredLanes)===0||Ee(r,s),m=u?c4(r,s):Kp(r,s,!0),y=u;do{if(m===0){Zc&&!u&&Go(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!o4(o)){m=Kp(r,s,!1),y=!1;continue}if(m===2){if(y=s,r.errorRecoveryDisabledLanes&y)var j=0;else j=r.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){s=j;e:{var q=r;m=wd;var de=q.current.memoizedState.isDehydrated;if(de&&(Au(q,j).flags|=256),j=Kp(q,j,!1),j!==2){if(Dp&&!de){q.errorRecoveryDisabledLanes|=y,Vl|=y,m=4;break e}y=Ss,Ss=m,y!==null&&(Ss===null?Ss=y:Ss.push.apply(Ss,y))}m=j}if(y=!1,m!==2)continue}}if(m===1){Au(r,0),Go(r,s,0,!0);break}e:{switch(u=r,y=m,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Go(u,s,qs,!Mo);break e;case 2:Ss=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(m=Hf+300-ct(),10<m)){if(Go(u,s,qs,!Mo),Ht(u,0,!0)!==0)break e;eo=s,u.timeoutHandle=Mv(uv.bind(null,u,o,Ss,Pf,kp,s,qs,Vl,eu,Mo,y,"Throttled",-0,0),m);break e}uv(u,o,Ss,Pf,kp,s,qs,Vl,eu,Mo,y,null,-0,0)}}break}while(!0);gi(r)}function uv(r,s,o,u,m,y,j,q,de,Oe,We,rt,Re,Ke){if(r.timeoutHandle=-1,rt=s.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ur},rv(s,y,rt);var Ft=(y&62914560)===y?Hf-ct():(y&4194048)===y?iv-ct():0;if(Ft=z4(rt,Ft),Ft!==null){eo=y,r.cancelPendingCommit=Ft(vv.bind(null,r,s,y,o,u,m,j,q,de,We,rt,null,Re,Ke)),Go(r,y,j,!Oe);return}}vv(r,s,y,o,u,m,j,q,de)}function o4(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!Sn(y(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Go(r,s,o,u){s&=~Op,s&=~Vl,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var m=s;0<m;){var y=31-_t(m),j=1<<y;u[y]=-1,m&=~j}o!==0&&Ot(r,o,s)}function Kf(){return(KA&6)===0?(bd(0),!1):!0}function Pp(){if(BA!==null){if($A===0)var r=BA.return;else r=BA,sa=ii=null,qc(r),Xe=null,bt=0,r=BA;for(;r!==null;)Pw(r.alternate,r),r=r.return;BA=null}}function Au(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,N4(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),eo=0,Pp(),or=r,BA=o=ps(r.current,null),NA=s,$A=0,Ks=null,Mo=!1,Zc=Ee(r,s),Dp=!1,eu=qs=Op=Vl=Po=Dr=0,Ss=wd=null,kp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var m=31-_t(u),y=1<<m;s|=r[m],u&=~y}return Zi=s,Il(),o}function dv(r,s){aA=null,ee.H=cd,s===we||s===je?(s=Ze(),$A=3):s===Le?(s=Ze(),$A=4):$A=s===bp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ks=s,BA===null&&(Dr=1,jf(r,gs(s,r.current)))}function fv(){var r=Lr.current;return r===null?!0:(NA&4194048)===NA?Jr===null:(NA&62914560)===NA||(NA&536870912)!==0?r===Jr:!1}function hv(){var r=ee.H;return ee.H=cd,r===null?cd:r}function pv(){var r=ee.A;return ee.A=a4,r}function qf(){Dr=4,Mo||(NA&4194048)!==NA&&Lr.current!==null||(Zc=!0),(Po&134217727)===0&&(Vl&134217727)===0||or===null||Go(or,NA,qs,!1)}function Kp(r,s,o){var u=KA;KA|=2;var m=hv(),y=pv();(or!==r||NA!==s)&&(Pf=null,Au(r,s)),s=!1;var j=Dr;e:do try{if($A!==0&&BA!==null){var q=BA,de=Ks;switch($A){case 8:Pp(),j=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(s=!0);var Oe=$A;if($A=0,Ks=null,ru(r,q,de,Oe),o&&Zc){j=0;break e}break;default:Oe=$A,$A=0,Ks=null,ru(r,q,de,Oe)}}l4(),j=Dr;break}catch(We){dv(r,We)}while(!0);return s&&r.shellSuspendCounter++,sa=ii=null,KA=u,ee.H=m,ee.A=y,BA===null&&(or=null,NA=0,Il()),j}function l4(){for(;BA!==null;)gv(BA)}function c4(r,s){var o=KA;KA|=2;var u=hv(),m=pv();or!==r||NA!==s?(Pf=null,Mf=ct()+500,Au(r,s)):Zc=Ee(r,s);e:do try{if($A!==0&&BA!==null){s=BA;var y=Ks;t:switch($A){case 1:$A=0,Ks=null,ru(r,s,y,1);break;case 2:case 9:if(tt(y)){$A=0,Ks=null,mv(s);break}s=function(){$A!==2&&$A!==9||or!==r||($A=7),gi(r)},y.then(s,s);break e;case 3:$A=7;break e;case 4:$A=5;break e;case 7:tt(y)?($A=0,Ks=null,mv(s)):($A=0,Ks=null,ru(r,s,y,7));break;case 5:var j=null;switch(BA.tag){case 26:j=BA.memoizedState;case 5:case 27:var q=BA;if(j?A2(j):q.stateNode.complete){$A=0,Ks=null;var de=q.sibling;if(de!==null)BA=de;else{var Oe=q.return;Oe!==null?(BA=Oe,Gf(Oe)):BA=null}break t}}$A=0,Ks=null,ru(r,s,y,5);break;case 6:$A=0,Ks=null,ru(r,s,y,6);break;case 8:Pp(),Dr=6;break e;default:throw Error(n(462))}}u4();break}catch(We){dv(r,We)}while(!0);return sa=ii=null,ee.H=u,ee.A=m,KA=o,BA!==null?0:(or=null,NA=0,Il(),Dr)}function u4(){for(;BA!==null&&!Ge();)gv(BA)}function gv(r){var s=Hw(r.alternate,r,Zi);r.memoizedProps=r.pendingProps,s===null?Gf(r):BA=s}function mv(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Iw(o,s,s.pendingProps,s.type,void 0,NA);break;case 11:s=Iw(o,s,s.pendingProps,s.type.render,s.ref,NA);break;case 5:qc(s);default:Pw(o,s),s=BA=Ol(s,Zi),s=Hw(o,s,Zi)}r.memoizedProps=r.pendingProps,s===null?Gf(r):BA=s}function ru(r,s,o,u){sa=ii=null,qc(s),Xe=null,bt=0;var m=s.return;try{if(Z5(r,m,s,o,NA)){Dr=1,jf(r,gs(o,r.current)),BA=null;return}}catch(y){if(m!==null)throw BA=m,y;Dr=1,jf(r,gs(o,r.current)),BA=null;return}s.flags&32768?(yA||u===1?r=!0:Zc||(NA&536870912)!==0?r=!1:(Mo=r=!0,(u===2||u===9||u===3||u===6)&&(u=Lr.current,u!==null&&u.tag===13&&(u.flags|=16384))),wv(s,r)):Gf(s)}function Gf(r){var s=r;do{if((s.flags&32768)!==0){wv(s,Mo);return}r=s.return;var o=A4(s.alternate,s,Zi);if(o!==null){BA=o;return}if(s=s.sibling,s!==null){BA=s;return}BA=s=r}while(s!==null);Dr===0&&(Dr=5)}function wv(r,s){do{var o=r4(r.alternate,r);if(o!==null){o.flags&=32767,BA=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){BA=r;return}BA=r=o}while(r!==null);Dr=6,BA=null}function vv(r,s,o,u,m,y,j,q,de){r.cancelPendingCommit=null;do zf();while(dn!==0);if((KA&6)!==0)throw Error(n(327));if(s!==null){if(s===r.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=Qc,$e(r,o,y,j,q,de),r===or&&(BA=or=null,NA=0),tu=s,qo=r,eo=o,Rp=y,Hp=m,ov=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,p4(ht,function(){return Cv(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,m=ce.p,ce.p=2,j=KA,KA|=4;try{n4(r,s,o)}finally{KA=j,ce.p=m,ee.T=u}}dn=1,bv(),yv(),xv()}}function bv(){if(dn===1){dn=0;var r=qo,s=tu,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var u=ce.p;ce.p=2;var m=KA;KA|=4;try{ev(s,r);var y=tg,j=Hs(r.containerInfo),q=y.focusedElem,de=y.selectionRange;if(j!==q&&q&&q.ownerDocument&&xa(q.ownerDocument.documentElement,q)){if(de!==null&&Ms(q)){var Oe=de.start,We=de.end;if(We===void 0&&(We=Oe),"selectionStart"in q)q.selectionStart=Oe,q.selectionEnd=Math.min(We,q.value.length);else{var rt=q.ownerDocument||document,Re=rt&&rt.defaultView||window;if(Re.getSelection){var Ke=Re.getSelection(),Ft=q.textContent.length,eA=Math.min(de.start,Ft),Ar=de.end===void 0?eA:Math.min(de.end,Ft);!Ke.extend&&eA>Ar&&(j=Ar,Ar=eA,eA=j);var Ue=ds(q,eA),ye=ds(q,Ar);if(Ue&&ye&&(Ke.rangeCount!==1||Ke.anchorNode!==Ue.node||Ke.anchorOffset!==Ue.offset||Ke.focusNode!==ye.node||Ke.focusOffset!==ye.offset)){var Ie=rt.createRange();Ie.setStart(Ue.node,Ue.offset),Ke.removeAllRanges(),eA>Ar?(Ke.addRange(Ie),Ke.extend(ye.node,ye.offset)):(Ie.setEnd(ye.node,ye.offset),Ke.addRange(Ie))}}}}for(rt=[],Ke=q;Ke=Ke.parentNode;)Ke.nodeType===1&&rt.push({element:Ke,left:Ke.scrollLeft,top:Ke.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<rt.length;q++){var et=rt[q];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}nh=!!eg,tg=eg=null}finally{KA=m,ce.p=u,ee.T=o}}r.current=s,dn=2}}function yv(){if(dn===2){dn=0;var r=qo,s=tu,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var u=ce.p;ce.p=2;var m=KA;KA|=4;try{Yw(r,s.alternate,s)}finally{KA=m,ce.p=u,ee.T=o}}dn=3}}function xv(){if(dn===4||dn===3){dn=0,at();var r=qo,s=tu,o=eo,u=ov;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dn=5:(dn=0,tu=qo=null,Bv(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Ko=null),Tt(o),s=s.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Me,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ee.T,m=ce.p,ce.p=2,ee.T=null;try{for(var y=r.onRecoverableError,j=0;j<u.length;j++){var q=u[j];y(q.value,{componentStack:q.stack})}}finally{ee.T=s,ce.p=m}}(eo&3)!==0&&zf(),gi(r),m=r.pendingLanes,(o&261930)!==0&&(m&42)!==0?r===Mp?vd++:(vd=0,Mp=r):vd=0,bd(0)}}function Bv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Hl(s)))}function zf(){return bv(),yv(),xv(),Cv()}function Cv(){if(dn!==5)return!1;var r=qo,s=Rp;Rp=0;var o=Tt(eo),u=ee.T,m=ce.p;try{ce.p=32>o?32:o,ee.T=null,o=Hp,Hp=null;var y=qo,j=eo;if(dn=0,tu=qo=null,eo=0,(KA&6)!==0)throw Error(n(331));var q=KA;if(KA|=4,sv(y.current),Av(y,y.current,j,o),KA=q,bd(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Me,y)}catch{}return!0}finally{ce.p=m,ee.T=u,Bv(r,s)}}function Ev(r,s,o){s=gs(o,s),s=vp(r.stateNode,s,2),r=VA(r,s,2),r!==null&&(Se(r,2),gi(r))}function YA(r,s,o){if(r.tag===3)Ev(r,r,o);else for(;s!==null;){if(s.tag===3){Ev(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ko===null||!Ko.has(u))){r=gs(o,r),o=Sw(2),u=VA(s,o,2),u!==null&&(_w(o,u,s,r),Se(u,2),gi(u));break}}s=s.return}}function qp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new i4;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(Dp=!0,m.add(o),r=d4.bind(null,r,s,o),s.then(r,r))}function d4(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,or===r&&(NA&o)===o&&(Dr===4||Dr===3&&(NA&62914560)===NA&&300>ct()-Hf?(KA&2)===0&&Au(r,0):Op|=o,eu===NA&&(eu=0)),gi(r)}function Sv(r,s){s===0&&(s=Ye()),r=Ca(r,s),r!==null&&(Se(r,s),gi(r))}function f4(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Sv(r,o)}function h4(r,s){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),Sv(r,o)}function p4(r,s){return fe(r,s)}var Vf=null,nu=null,Gp=!1,$f=!1,zp=!1,zo=0;function gi(r){r!==nu&&r.next===null&&(nu===null?Vf=nu=r:nu=nu.next=r),$f=!0,Gp||(Gp=!0,m4())}function bd(r,s){if(!zp&&$f){zp=!0;do for(var o=!1,u=Vf;u!==null;){if(r!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var j=u.suspendedLanes,q=u.pingedLanes;y=(1<<31-_t(42|r)+1)-1,y&=m&~(j&~q),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Qv(u,y))}else y=NA,y=Ht(u,u===or?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Ee(u,y)||(o=!0,Qv(u,y));u=u.next}while(o);zp=!1}}function g4(){_v()}function _v(){$f=Gp=!1;var r=0;zo!==0&&_4()&&(r=zo);for(var s=ct(),o=null,u=Vf;u!==null;){var m=u.next,y=Nv(u,s);y===0?(u.next=null,o===null?Vf=m:o.next=m,m===null&&(nu=o)):(o=u,(r!==0||(y&3)!==0)&&($f=!0)),u=m}dn!==0&&dn!==5||bd(r),zo!==0&&(zo=0)}function Nv(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var j=31-_t(y),q=1<<j,de=m[j];de===-1?((q&o)===0||(q&u)!==0)&&(m[j]=Nt(q,s)):de<=s&&(r.expiredLanes|=q),y&=~q}if(s=or,o=NA,o=Ht(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&($A===2||$A===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&He(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ee(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&He(u),Tt(o)){case 2:case 8:o=Pt;break;case 32:o=ht;break;case 268435456:o=zt;break;default:o=ht}return u=Uv.bind(null,r),o=fe(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&He(u),r.callbackPriority=2,r.callbackNode=null,2}function Uv(r,s){if(dn!==0&&dn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(zf()&&r.callbackNode!==o)return null;var u=NA;return u=Ht(r,r===or?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(cv(r,u,s),Nv(r,ct()),r.callbackNode!=null&&r.callbackNode===o?Uv.bind(null,r):null)}function Qv(r,s){if(zf())return null;cv(r,s,!0)}function m4(){U4(function(){(KA&6)!==0?fe(St,g4):_v()})}function Vp(){if(zo===0){var r=p;r===0&&(r=uA,uA<<=1,(uA&261888)===0&&(uA=256)),zo=r}return zo}function Fv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ui(""+r)}function jv(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function w4(r,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var y=Fv((m[TA]||null).action),j=u.submitter;j&&(s=(s=j[TA]||null)?Fv(s.formAction):j.getAttribute("formAction"),s!==null&&(y=s,j=null));var q=new ji("action","action",null,u,m);r.push({event:q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(zo!==0){var de=j?jv(m,j):new FormData(m);fp(o,{pending:!0,data:de,method:m.method,action:y},null,de)}}else typeof y=="function"&&(q.preventDefault(),de=j?jv(m,j):new FormData(m),fp(o,{pending:!0,data:de,method:m.method,action:y},y,de))},currentTarget:m}]})}}for(var $p=0;$p<na.length;$p++){var Yp=na[$p],v4=Yp.toLowerCase(),b4=Yp[0].toUpperCase()+Yp.slice(1);gn(v4,"on"+b4)}gn(Uo,"onAnimationEnd"),gn(Xn,"onAnimationIteration"),gn(Aa,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(XA,"onTransitionRun"),gn(ZA,"onTransitionStart"),gn(Fr,"onTransitionCancel"),gn(Ir,"onTransitionEnd"),AA("onMouseEnter",["mouseout","mouseover"]),AA("onMouseLeave",["mouseout","mouseover"]),AA("onPointerEnter",["pointerout","pointerover"]),AA("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yd));function Lv(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],m=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var j=u.length-1;0<=j;j--){var q=u[j],de=q.instance,Oe=q.currentTarget;if(q=q.listener,de!==y&&m.isPropagationStopped())break e;y=q,m.currentTarget=Oe;try{y(m)}catch(We){Oi(We)}m.currentTarget=null,y=de}else for(j=0;j<u.length;j++){if(q=u[j],de=q.instance,Oe=q.currentTarget,q=q.listener,de!==y&&m.isPropagationStopped())break e;y=q,m.currentTarget=Oe;try{y(m)}catch(We){Oi(We)}m.currentTarget=null,y=de}}}}function CA(r,s){var o=s[Ur];o===void 0&&(o=s[Ur]=new Set);var u=r+"__bubble";o.has(u)||(Iv(s,r,2,!1),o.add(u))}function Wp(r,s,o){var u=0;s&&(u|=4),Iv(o,r,u,s)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function Jp(r){if(!r[Yf]){r[Yf]=!0,Ut.forEach(function(o){o!=="selectionchange"&&(y4.has(o)||Wp(o,!1,r),Wp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Yf]||(s[Yf]=!0,Wp("selectionchange",!1,s))}}function Iv(r,s,o,u){switch(l2(s)){case 2:var m=Y4;break;case 8:m=W4;break;default:m=dg}o=m.bind(null,s,o,r),m=void 0,!Qi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function Xp(r,s,o,u,m){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var j=u.tag;if(j===3||j===4){var q=u.stateNode.containerInfo;if(q===m)break;if(j===4)for(j=u.return;j!==null;){var de=j.tag;if((de===3||de===4)&&j.stateNode.containerInfo===m)return;j=j.return}for(;q!==null;){if(j=pe(q),j===null)return;if(de=j.tag,de===5||de===6||de===26||de===27){u=y=j;continue e}q=q.parentNode}}u=u.return}xl(function(){var Oe=y,We=vo(o),rt=[];e:{var Re=ra.get(r);if(Re!==void 0){var Ke=ji,Ft=r;switch(r){case"keypress":if(Ds(o)===0)break e;case"keydown":case"keyup":Ke=Ql;break;case"focusin":Ft="focus",Ke=El;break;case"focusout":Ft="blur",Ke=El;break;case"beforeblur":case"afterblur":Ke=El;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=Cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=T;break;case Uo:case Xn:case Aa:Ke=Yu;break;case Ir:Ke=ge;break;case"scroll":case"scrollend":Ke=Cc;break;case"wheel":Ke=Ve;break;case"copy":case"cut":case"paste":Ke=_l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=Co;break;case"toggle":case"beforetoggle":Ke=yt}var eA=(s&4)!==0,Ar=!eA&&(r==="scroll"||r==="scrollend"),Ue=eA?Re!==null?Re+"Capture":null:Re;eA=[];for(var ye=Oe,Ie;ye!==null;){var et=ye;if(Ie=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||Ie===null||Ue===null||(et=za(ye,Ue),et!=null&&eA.push(xd(ye,et,Ie))),Ar)break;ye=ye.return}0<eA.length&&(Re=new Ke(Re,Ft,null,o,We),rt.push({event:Re,listeners:eA}))}}if((s&7)===0){e:{if(Re=r==="mouseover"||r==="pointerover",Ke=r==="mouseout"||r==="pointerout",Re&&o!==yl&&(Ft=o.relatedTarget||o.fromElement)&&(pe(Ft)||Ft[cr]))break e;if((Ke||Re)&&(Re=We.window===We?We:(Re=We.ownerDocument)?Re.defaultView||Re.parentWindow:window,Ke?(Ft=o.relatedTarget||o.toElement,Ke=Oe,Ft=Ft?pe(Ft):null,Ft!==null&&(Ar=i(Ft),eA=Ft.tag,Ft!==Ar||eA!==5&&eA!==27&&eA!==6)&&(Ft=null)):(Ke=null,Ft=Oe),Ke!==Ft)){if(eA=wa,et="onMouseLeave",Ue="onMouseEnter",ye="mouse",(r==="pointerout"||r==="pointerover")&&(eA=Co,et="onPointerLeave",Ue="onPointerEnter",ye="pointer"),Ar=Ke==null?Re:At(Ke),Ie=Ft==null?Re:At(Ft),Re=new eA(et,ye+"leave",Ke,o,We),Re.target=Ar,Re.relatedTarget=Ie,et=null,pe(We)===Oe&&(eA=new eA(Ue,ye+"enter",Ft,o,We),eA.target=Ie,eA.relatedTarget=Ar,et=eA),Ar=et,Ke&&Ft)t:{for(eA=x4,Ue=Ke,ye=Ft,Ie=0,et=Ue;et;et=eA(et))Ie++;et=0;for(var $t=ye;$t;$t=eA($t))et++;for(;0<Ie-et;)Ue=eA(Ue),Ie--;for(;0<et-Ie;)ye=eA(ye),et--;for(;Ie--;){if(Ue===ye||ye!==null&&Ue===ye.alternate){eA=Ue;break t}Ue=eA(Ue),ye=eA(ye)}eA=null}else eA=null;Ke!==null&&Tv(rt,Re,Ke,eA,!1),Ft!==null&&Ar!==null&&Tv(rt,Ar,Ft,eA,!0)}}e:{if(Re=Oe?At(Oe):window,Ke=Re.nodeName&&Re.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Re.type==="file")var kA=Cn;else if(Eo(Re))if(Di)kA=Ll;else{kA=Uc;var kt=jl}else Ke=Re.nodeName,!Ke||Ke.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Oe&&Ts(Oe.elementType)&&(kA=Cn):kA=Rs;if(kA&&(kA=kA(r,Oe))){So(rt,kA,o,We);break e}kt&&kt(r,Re,Oe),r==="focusout"&&Oe&&Re.type==="number"&&Oe.memoizedProps.value!=null&&go(Re,"number",Re.value)}switch(kt=Oe?At(Oe):window,r){case"focusin":(Eo(kt)||kt.contentEditable==="true")&&(pn=kt,ti=Oe,Ba=null);break;case"focusout":Ba=ti=pn=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,fs(rt,o,We);break;case"selectionchange":if(No)break;case"keydown":case"keyup":fs(rt,o,We)}var gA;if(sA)e:{switch(r){case"compositionstart":var UA="onCompositionStart";break e;case"compositionend":UA="onCompositionEnd";break e;case"compositionupdate":UA="onCompositionUpdate";break e}UA=void 0}else hn?sn(r,o)&&(UA="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(UA="onCompositionStart");UA&&(dr&&o.locale!=="ko"&&(hn||UA!=="onCompositionStart"?UA==="onCompositionEnd"&&hn&&(gA=$a()):(Zs=We,Bl="value"in Zs?Zs.value:Zs.textContent,hn=!0)),kt=Wf(Oe,UA),0<kt.length&&(UA=new Ii(UA,r,null,o,We),rt.push({event:UA,listeners:kt}),gA?UA.data=gA:(gA=Mr(o),gA!==null&&(UA.data=gA)))),(gA=SA?Wn(r,o):va(r,o))&&(UA=Wf(Oe,"onBeforeInput"),0<UA.length&&(kt=new Ii("onBeforeInput","beforeinput",null,o,We),rt.push({event:kt,listeners:UA}),kt.data=gA)),w4(rt,r,Oe,o,We)}Lv(rt,s)})}function xd(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Wf(r,s){for(var o=s+"Capture",u=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=za(r,o),m!=null&&u.unshift(xd(r,m,y)),m=za(r,s),m!=null&&u.push(xd(r,m,y))),r.tag===3)return u;r=r.return}return[]}function x4(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Tv(r,s,o,u,m){for(var y=s._reactName,j=[];o!==null&&o!==u;){var q=o,de=q.alternate,Oe=q.stateNode;if(q=q.tag,de!==null&&de===u)break;q!==5&&q!==26&&q!==27||Oe===null||(de=Oe,m?(Oe=za(o,y),Oe!=null&&j.unshift(xd(o,Oe,de))):m||(Oe=za(o,y),Oe!=null&&j.push(xd(o,Oe,de)))),o=o.return}j.length!==0&&r.push({event:s,listeners:j})}var B4=/\r\n?/g,C4=/\u0000|\uFFFD/g;function Dv(r){return(typeof r=="string"?r:""+r).replace(B4,`
`).replace(C4,"")}function Ov(r,s){return s=Dv(s),Dv(r)===s}function tr(r,s,o,u,m,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Xs(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Xs(r,""+u);break;case"className":pA(r,"class",u);break;case"tabIndex":pA(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":pA(r,o,u);break;case"style":xc(r,u,y);break;case"data":if(s!=="object"){pA(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ui(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&tr(r,s,"name",m.name,m,null),tr(r,s,"formEncType",m.formEncType,m,null),tr(r,s,"formMethod",m.formMethod,m,null),tr(r,s,"formTarget",m.formTarget,m,null)):(tr(r,s,"encType",m.encType,m,null),tr(r,s,"method",m.method,m,null),tr(r,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ui(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ur);break;case"onScroll":u!=null&&CA("scroll",r);break;case"onScrollEnd":u!=null&&CA("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(n(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Ui(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":CA("beforetoggle",r),CA("toggle",r),Yn(r,"popover",u);break;case"xlinkActuate":hA(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":hA(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":hA(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":hA(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":hA(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":hA(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":hA(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":hA(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":hA(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yn(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=mo.get(o)||o,Yn(r,o,u))}}function Zp(r,s,o,u,m,y){switch(o){case"style":xc(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(n(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Xs(r,u):(typeof u=="number"||typeof u=="bigint")&&Xs(r,""+u);break;case"onScroll":u!=null&&CA("scroll",r);break;case"onScrollEnd":u!=null&&CA("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qt.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),y=r[TA]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,m);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Yn(r,o,u)}}}function Qn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":CA("error",r),CA("load",r);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var j=o[y];if(j!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:tr(r,s,y,j,o,null)}}m&&tr(r,s,"srcSet",o.srcSet,o,null),u&&tr(r,s,"src",o.src,o,null);return;case"input":CA("invalid",r);var q=y=j=m=null,de=null,Oe=null;for(u in o)if(o.hasOwnProperty(u)){var We=o[u];if(We!=null)switch(u){case"name":m=We;break;case"type":j=We;break;case"checked":de=We;break;case"defaultChecked":Oe=We;break;case"value":y=We;break;case"defaultValue":q=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(n(137,s));break;default:tr(r,s,u,We,o,null)}}vc(r,y,q,de,Oe,j,m,!1);return;case"select":CA("invalid",r),u=j=y=null;for(m in o)if(o.hasOwnProperty(m)&&(q=o[m],q!=null))switch(m){case"value":y=q;break;case"defaultValue":j=q;break;case"multiple":u=q;default:tr(r,s,m,q,o,null)}s=y,o=j,r.multiple=!!u,s!=null?qa(r,!!u,s,!1):o!=null&&qa(r,!!u,o,!0);return;case"textarea":CA("invalid",r),y=m=u=null;for(j in o)if(o.hasOwnProperty(j)&&(q=o[j],q!=null))switch(j){case"value":u=q;break;case"defaultValue":m=q;break;case"children":y=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(91));break;default:tr(r,s,j,q,o,null)}bc(r,u,m,y);return;case"option":for(de in o)if(o.hasOwnProperty(de)&&(u=o[de],u!=null))switch(de){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tr(r,s,de,u,o,null)}return;case"dialog":CA("beforetoggle",r),CA("toggle",r),CA("cancel",r),CA("close",r);break;case"iframe":case"object":CA("load",r);break;case"video":case"audio":for(u=0;u<yd.length;u++)CA(yd[u],r);break;case"image":CA("error",r),CA("load",r);break;case"details":CA("toggle",r);break;case"embed":case"source":case"link":CA("error",r),CA("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in o)if(o.hasOwnProperty(Oe)&&(u=o[Oe],u!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:tr(r,s,Oe,u,o,null)}return;default:if(Ts(s)){for(We in o)o.hasOwnProperty(We)&&(u=o[We],u!==void 0&&Zp(r,s,We,u,o,void 0));return}}for(q in o)o.hasOwnProperty(q)&&(u=o[q],u!=null&&tr(r,s,q,u,o,null))}function E4(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,j=null,q=null,de=null,Oe=null,We=null;for(Ke in o){var rt=o[Ke];if(o.hasOwnProperty(Ke)&&rt!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":de=rt;default:u.hasOwnProperty(Ke)||tr(r,s,Ke,null,u,rt)}}for(var Re in u){var Ke=u[Re];if(rt=o[Re],u.hasOwnProperty(Re)&&(Ke!=null||rt!=null))switch(Re){case"type":y=Ke;break;case"name":m=Ke;break;case"checked":Oe=Ke;break;case"defaultChecked":We=Ke;break;case"value":j=Ke;break;case"defaultValue":q=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,s));break;default:Ke!==rt&&tr(r,s,Re,Ke,u,rt)}}po(r,j,q,de,Oe,We,y,m);return;case"select":Ke=j=q=Re=null;for(y in o)if(de=o[y],o.hasOwnProperty(y)&&de!=null)switch(y){case"value":break;case"multiple":Ke=de;default:u.hasOwnProperty(y)||tr(r,s,y,null,u,de)}for(m in u)if(y=u[m],de=o[m],u.hasOwnProperty(m)&&(y!=null||de!=null))switch(m){case"value":Re=y;break;case"defaultValue":q=y;break;case"multiple":j=y;default:y!==de&&tr(r,s,m,y,u,de)}s=q,o=j,u=Ke,Re!=null?qa(r,!!o,Re,!1):!!u!=!!o&&(s!=null?qa(r,!!o,s,!0):qa(r,!!o,o?[]:"",!1));return;case"textarea":Ke=Re=null;for(q in o)if(m=o[q],o.hasOwnProperty(q)&&m!=null&&!u.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:tr(r,s,q,null,u,m)}for(j in u)if(m=u[j],y=o[j],u.hasOwnProperty(j)&&(m!=null||y!=null))switch(j){case"value":Re=m;break;case"defaultValue":Ke=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==y&&tr(r,s,j,m,u,y)}bl(r,Re,Ke);return;case"option":for(var Ft in o)if(Re=o[Ft],o.hasOwnProperty(Ft)&&Re!=null&&!u.hasOwnProperty(Ft))switch(Ft){case"selected":r.selected=!1;break;default:tr(r,s,Ft,null,u,Re)}for(de in u)if(Re=u[de],Ke=o[de],u.hasOwnProperty(de)&&Re!==Ke&&(Re!=null||Ke!=null))switch(de){case"selected":r.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:tr(r,s,de,Re,u,Ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var eA in o)Re=o[eA],o.hasOwnProperty(eA)&&Re!=null&&!u.hasOwnProperty(eA)&&tr(r,s,eA,null,u,Re);for(Oe in u)if(Re=u[Oe],Ke=o[Oe],u.hasOwnProperty(Oe)&&Re!==Ke&&(Re!=null||Ke!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,s));break;default:tr(r,s,Oe,Re,u,Ke)}return;default:if(Ts(s)){for(var Ar in o)Re=o[Ar],o.hasOwnProperty(Ar)&&Re!==void 0&&!u.hasOwnProperty(Ar)&&Zp(r,s,Ar,void 0,u,Re);for(We in u)Re=u[We],Ke=o[We],!u.hasOwnProperty(We)||Re===Ke||Re===void 0&&Ke===void 0||Zp(r,s,We,Re,u,Ke);return}}for(var Ue in o)Re=o[Ue],o.hasOwnProperty(Ue)&&Re!=null&&!u.hasOwnProperty(Ue)&&tr(r,s,Ue,null,u,Re);for(rt in u)Re=u[rt],Ke=o[rt],!u.hasOwnProperty(rt)||Re===Ke||Re==null&&Ke==null||tr(r,s,rt,Re,u,Ke)}function kv(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S4(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],y=m.transferSize,j=m.initiatorType,q=m.duration;if(y&&q&&kv(j)){for(j=0,q=m.responseEnd,u+=1;u<o.length;u++){var de=o[u],Oe=de.startTime;if(Oe>q)break;var We=de.transferSize,rt=de.initiatorType;We&&kv(rt)&&(de=de.responseEnd,j+=We*(de<q?1:(q-Oe)/(de-Oe)))}if(--u,s+=8*(y+j)/(m.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var eg=null,tg=null;function Jf(r){return r.nodeType===9?r:r.ownerDocument}function Rv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hv(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Ag(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rg=null;function _4(){var r=window.event;return r&&r.type==="popstate"?r===rg?!1:(rg=r,!0):(rg=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,N4=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,U4=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(r){return Pv.resolve(null).then(r).catch(Q4)}:Mv;function Q4(r){setTimeout(function(){throw r})}function Vo(r){return r==="head"}function Kv(r,s){var o=s,u=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(m),ou(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Bd(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Bd(o);for(var y=o.firstChild;y;){var j=y.nextSibling,q=y.nodeName;y[$n]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=j}}else o==="body"&&Bd(r.ownerDocument.body);o=m}while(o);ou(s)}function qv(r,s){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function ng(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ng(o),Is(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function F4(r,s,o,u){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[$n])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=ua(r.nextSibling),r===null)break}return null}function j4(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ua(r.nextSibling),r===null))return null;return r}function Gv(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=ua(r.nextSibling),r===null))return null;return r}function sg(r){return r.data==="$?"||r.data==="$~"}function ag(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function L4(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ua(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var ig=null;function zv(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return ua(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function Vv(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function $v(r,s,o){switch(s=Jf(o),r){case"html":if(r=s.documentElement,!r)throw Error(n(452));return r;case"head":if(r=s.head,!r)throw Error(n(453));return r;case"body":if(r=s.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Bd(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Is(r)}var da=new Map,Yv=new Set;function Xf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var to=ce.d;ce.d={f:I4,r:T4,D:D4,C:O4,L:k4,m:R4,X:M4,S:H4,M:P4};function I4(){var r=to.f(),s=Kf();return r||s}function T4(r){var s=De(r);s!==null&&s.tag===5&&s.type==="form"?dw(s):to.r(r)}var su=typeof document>"u"?null:document;function Wv(r,s,o){var u=su;if(u&&typeof s=="string"&&s){var m=Hr(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Yv.has(m)||(Yv.add(m),r={rel:r,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Qn(s,"link",r),it(s),u.head.appendChild(s)))}}function D4(r){to.D(r),Wv("dns-prefetch",r,null)}function O4(r,s){to.C(r,s),Wv("preconnect",r,s)}function k4(r,s,o){to.L(r,s,o);var u=su;if(u&&r&&s){var m='link[rel="preload"][as="'+Hr(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Hr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Hr(o.imageSizes)+'"]')):m+='[href="'+Hr(r)+'"]';var y=m;switch(s){case"style":y=au(r);break;case"script":y=iu(r)}da.has(y)||(r=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),da.set(y,r),u.querySelector(m)!==null||s==="style"&&u.querySelector(Cd(y))||s==="script"&&u.querySelector(Ed(y))||(s=u.createElement("link"),Qn(s,"link",r),it(s),u.head.appendChild(s)))}}function R4(r,s){to.m(r,s);var o=su;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Hr(u)+'"][href="'+Hr(r)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=iu(r)}if(!da.has(y)&&(r=b({rel:"modulepreload",href:r},s),da.set(y,r),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ed(y)))return}u=o.createElement("link"),Qn(u,"link",r),it(u),o.head.appendChild(u)}}}function H4(r,s,o){to.S(r,s,o);var u=su;if(u&&r){var m=pt(u).hoistableStyles,y=au(r);s=s||"default";var j=m.get(y);if(!j){var q={loading:0,preload:null};if(j=u.querySelector(Cd(y)))q.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":s},o),(o=da.get(y))&&og(r,o);var de=j=u.createElement("link");it(de),Qn(de,"link",r),de._p=new Promise(function(Oe,We){de.onload=Oe,de.onerror=We}),de.addEventListener("load",function(){q.loading|=1}),de.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Zf(j,s,u)}j={type:"stylesheet",instance:j,count:1,state:q},m.set(y,j)}}}function M4(r,s){to.X(r,s);var o=su;if(o&&r){var u=pt(o).hoistableScripts,m=iu(r),y=u.get(m);y||(y=o.querySelector(Ed(m)),y||(r=b({src:r,async:!0},s),(s=da.get(m))&&lg(r,s),y=o.createElement("script"),it(y),Qn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function P4(r,s){to.M(r,s);var o=su;if(o&&r){var u=pt(o).hoistableScripts,m=iu(r),y=u.get(m);y||(y=o.querySelector(Ed(m)),y||(r=b({src:r,async:!0,type:"module"},s),(s=da.get(m))&&lg(r,s),y=o.createElement("script"),it(y),Qn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function Jv(r,s,o,u){var m=(m=z.current)?Xf(m):null;if(!m)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=au(o.href),o=pt(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=au(o.href);var y=pt(m).hoistableStyles,j=y.get(r);if(j||(m=m.ownerDocument||m,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,j),(y=m.querySelector(Cd(r)))&&!y._p&&(j.instance=y,j.state.loading=5),da.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},da.set(r,o),y||K4(m,r,o,j.state))),s&&u===null)throw Error(n(528,""));return j}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=iu(o),o=pt(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function au(r){return'href="'+Hr(r)+'"'}function Cd(r){return'link[rel="stylesheet"]['+r+"]"}function Xv(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function K4(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Qn(s,"link",o),it(s),r.head.appendChild(s))}function iu(r){return'[src="'+Hr(r)+'"]'}function Ed(r){return"script[async]"+r}function Zv(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Hr(o.href)+'"]');if(u)return s.instance=u,it(u),u;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),it(u),Qn(u,"style",m),Zf(u,o.precedence,r),s.instance=u;case"stylesheet":m=au(o.href);var y=r.querySelector(Cd(m));if(y)return s.state.loading|=4,s.instance=y,it(y),y;u=Xv(o),(m=da.get(m))&&og(u,m),y=(r.ownerDocument||r).createElement("link"),it(y);var j=y;return j._p=new Promise(function(q,de){j.onload=q,j.onerror=de}),Qn(y,"link",u),s.state.loading|=4,Zf(y,o.precedence,r),s.instance=y;case"script":return y=iu(o.src),(m=r.querySelector(Ed(y)))?(s.instance=m,it(m),m):(u=o,(m=da.get(y))&&(u=b({},o),lg(u,m)),r=r.ownerDocument||r,m=r.createElement("script"),it(m),Qn(m,"link",u),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Zf(u,o.precedence,r));return s.instance}function Zf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,j=0;j<u.length;j++){var q=u[j];if(q.dataset.precedence===s)y=q;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function og(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function lg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var eh=null;function e2(r,s,o){if(eh===null){var u=new Map,m=eh=new Map;m.set(o,u)}else m=eh,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var y=o[m];if(!(y[$n]||y[IA]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var j=y.getAttribute(s)||"";j=r+j;var q=u.get(j);q?q.push(y):u.set(j,[y])}}return u}function t2(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function q4(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function A2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function G4(r,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=au(u.href),y=s.querySelector(Cd(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=th.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=y,it(y);return}y=s.ownerDocument||s,u=Xv(u),(m=da.get(m))&&og(u,m),y=y.createElement("link"),it(y);var j=y;j._p=new Promise(function(q,de){j.onload=q,j.onerror=de}),Qn(y,"link",u),o.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=th.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var cg=0;function z4(r,s){return r.stylesheets&&r.count===0&&rh(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&rh(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+s);0<r.imgBytes&&cg===0&&(cg=62500*S4());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&rh(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>cg?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function th(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ah=null;function rh(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ah=new Map,s.forEach(V4,r),Ah=null,th.call(r))}function V4(r,s){if(!(s.state.loading&4)){var o=Ah.get(r);if(o)var u=o.get(null);else{o=new Map,Ah.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var j=m[y];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(o.set(j.dataset.precedence,j),u=j)}u&&o.set(null,u)}m=s.instance,j=m.getAttribute("data-precedence"),y=o.get(j)||u,y===u&&o.set(null,m),o.set(j,m),this.count++,u=th.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var Sd={$$typeof:L,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function $4(r,s,o,u,m,y,j,q,de){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function r2(r,s,o,u,m,y,j,q,de,Oe,We,rt){return r=new $4(r,s,o,j,de,Oe,We,rt,q),s=1,y===!0&&(s|=24),y=wn(3,null,null,s),r.current=y,y.stateNode=r,s=To(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},PA(y),r}function n2(r){return r?(r=an,r):an}function s2(r,s,o,u,m,y){m=n2(m),u.context===null?u.context=m:u.pendingContext=m,u=Zt(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=VA(r,u,s),o!==null&&(_s(o,r,s),Yr(o,r,s))}function a2(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function ug(r,s){a2(r,s),(r=r.alternate)&&a2(r,s)}function i2(r){if(r.tag===13||r.tag===31){var s=Ca(r,67108864);s!==null&&_s(s,r,67108864),ug(r,67108864)}}function o2(r){if(r.tag===13||r.tag===31){var s=Gs();s=iA(s);var o=Ca(r,s);o!==null&&_s(o,r,s),ug(r,s)}}var nh=!0;function Y4(r,s,o,u){var m=ee.T;ee.T=null;var y=ce.p;try{ce.p=2,dg(r,s,o,u)}finally{ce.p=y,ee.T=m}}function W4(r,s,o,u){var m=ee.T;ee.T=null;var y=ce.p;try{ce.p=8,dg(r,s,o,u)}finally{ce.p=y,ee.T=m}}function dg(r,s,o,u){if(nh){var m=fg(u);if(m===null)Xp(r,s,u,sh,o),c2(r,u);else if(X4(m,r,s,o,u))u.stopPropagation();else if(c2(r,u),s&4&&-1<J4.indexOf(r)){for(;m!==null;){var y=De(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var j=wt(y.pendingLanes);if(j!==0){var q=y;for(q.pendingLanes|=2,q.entangledLanes|=2;j;){var de=1<<31-_t(j);q.entanglements[1]|=de,j&=~de}gi(y),(KA&6)===0&&(Mf=ct()+500,bd(0))}}break;case 31:case 13:q=Ca(y,2),q!==null&&_s(q,y,2),Kf(),ug(y,2)}if(y=fg(u),y===null&&Xp(r,s,u,sh,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else Xp(r,s,u,null,o)}}function fg(r){return r=vo(r),hg(r)}var sh=null;function hg(r){if(sh=null,r=pe(r),r!==null){var s=i(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=l(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return sh=r,null}function l2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case St:return 2;case Pt:return 8;case ht:case Ct:return 32;case zt:return 268435456;default:return 32}default:return 32}}var pg=!1,$o=null,Yo=null,Wo=null,_d=new Map,Nd=new Map,Jo=[],J4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c2(r,s){switch(r){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":_d.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nd.delete(s.pointerId)}}function Ud(r,s,o,u,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},s!==null&&(s=De(s),s!==null&&i2(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function X4(r,s,o,u,m){switch(s){case"focusin":return $o=Ud($o,r,s,o,u,m),!0;case"dragenter":return Yo=Ud(Yo,r,s,o,u,m),!0;case"mouseover":return Wo=Ud(Wo,r,s,o,u,m),!0;case"pointerover":var y=m.pointerId;return _d.set(y,Ud(_d.get(y)||null,r,s,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Nd.set(y,Ud(Nd.get(y)||null,r,s,o,u,m)),!0}return!1}function u2(r){var s=pe(r.target);if(s!==null){var o=i(s);if(o!==null){if(s=o.tag,s===13){if(s=l(o),s!==null){r.blockedOn=s,kr(r.priority,function(){o2(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,kr(r.priority,function(){o2(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ah(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=fg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);yl=u,o.target.dispatchEvent(u),yl=null}else return s=De(o),s!==null&&i2(s),r.blockedOn=o,!1;s.shift()}return!0}function d2(r,s,o){ah(r)&&o.delete(s)}function Z4(){pg=!1,$o!==null&&ah($o)&&($o=null),Yo!==null&&ah(Yo)&&(Yo=null),Wo!==null&&ah(Wo)&&(Wo=null),_d.forEach(d2),Nd.forEach(d2)}function ih(r,s){r.blockedOn===s&&(r.blockedOn=null,pg||(pg=!0,A.unstable_scheduleCallback(A.unstable_NormalPriority,Z4)))}var oh=null;function f2(r){oh!==r&&(oh=r,A.unstable_scheduleCallback(A.unstable_NormalPriority,function(){oh===r&&(oh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],m=r[s+2];if(typeof u!="function"){if(hg(u||o)===null)continue;break}var y=De(o);y!==null&&(r.splice(s,3),s-=3,fp(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function ou(r){function s(de){return ih(de,r)}$o!==null&&ih($o,r),Yo!==null&&ih(Yo,r),Wo!==null&&ih(Wo,r),_d.forEach(s),Nd.forEach(s);for(var o=0;o<Jo.length;o++){var u=Jo[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Jo.length&&(o=Jo[0],o.blockedOn===null);)u2(o),o.blockedOn===null&&Jo.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],j=m[TA]||null;if(typeof y=="function")j||f2(o);else if(j){var q=null;if(y&&y.hasAttribute("formAction")){if(m=y,j=y[TA]||null)q=j.formAction;else if(hg(m)!==null)continue}else q=j.action;typeof q=="function"?o[u+1]=q:(o.splice(u,3),u-=3),f2(o)}}}function h2(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(j){return m=j})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function gg(r){this._internalRoot=r}lh.prototype.render=gg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));var o=s.current,u=Gs();s2(o,u,r,s,null,null)},lh.prototype.unmount=gg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;s2(r.current,2,null,r,null,null),Kf(),s[cr]=null}};function lh(r){this._internalRoot=r}lh.prototype.unstable_scheduleHydration=function(r){if(r){var s=EA();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Jo.length&&s!==0&&s<Jo[o].priority;o++);Jo.splice(o,0,r),o===0&&u2(r)}};var p2=e.version;if(p2!=="19.2.1")throw Error(n(527,p2,"19.2.1"));ce.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var eC={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Me=ch.inject(eC),dt=ch}catch{}}return Fd.createRoot=function(r,s){if(!a(r))throw Error(n(299));var o=!1,u="",m=xw,y=Bw,j=Cw;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError)),s=r2(r,1,!1,null,null,o,u,null,m,y,j,h2),r[cr]=s.current,Jp(r),new gg(s)},Fd.hydrateRoot=function(r,s,o){if(!a(r))throw Error(n(299));var u=!1,m="",y=xw,j=Bw,q=Cw,de=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(q=o.onRecoverableError),o.formState!==void 0&&(de=o.formState)),s=r2(r,1,!0,s,o??null,u,m,de,y,j,q,h2),s.context=n2(null),o=s.current,u=Gs(),u=iA(u),m=Zt(u),m.callback=null,VA(o,m,u),o=u,s.current.lanes=o,Se(s,o),gi(s),r[cr]=s.current,Jp(r),new lh(s)},Fd.version="19.2.1",Fd}var E2;function uC(){if(E2)return vg.exports;E2=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(e){console.error(e)}}return A(),vg.exports=cC(),vg.exports}var dC=uC();const fC=C1(dC);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S2="popstate";function hC(A={}){function e(a,i){let{pathname:l="/",search:f="",hash:d=""}=mc(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),gm("",{pathname:l,search:f,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(a,i){let l=a.document.querySelector("base"),f="";if(l&&l.getAttribute("href")){let d=a.location.href,h=d.indexOf("#");f=h===-1?d:d.slice(0,h)}return f+"#"+(typeof i=="string"?i:nf(i))}function n(a,i){Js(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return gC(e,t,n,A)}function Nr(A,e){if(A===!1||A===null||typeof A>"u")throw new Error(e)}function Js(A,e){if(!A){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pC(){return Math.random().toString(36).substring(2,10)}function _2(A,e){return{usr:A.state,key:A.key,idx:e}}function gm(A,e,t=null,n){return{pathname:typeof A=="string"?A:A.pathname,search:"",hash:"",...typeof e=="string"?mc(e):e,state:t,key:e&&e.key||n||pC()}}function nf({pathname:A="/",search:e="",hash:t=""}){return e&&e!=="?"&&(A+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(A+=t.charAt(0)==="#"?t:"#"+t),A}function mc(A){let e={};if(A){let t=A.indexOf("#");t>=0&&(e.hash=A.substring(t),A=A.substring(0,t));let n=A.indexOf("?");n>=0&&(e.search=A.substring(n),A=A.substring(0,n)),A&&(e.pathname=A)}return e}function gC(A,e,t,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,f="POP",d=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function b(){f="POP";let U=g(),_=U==null?null:U-h;h=U,d&&d({action:f,location:E.location,delta:_})}function x(U,_){f="PUSH";let Q=gm(E.location,U,_);t&&t(Q,U),h=g()+1;let L=_2(Q,h),W=E.createHref(Q);try{l.pushState(L,"",W)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(W)}i&&d&&d({action:f,location:E.location,delta:1})}function w(U,_){f="REPLACE";let Q=gm(E.location,U,_);t&&t(Q,U),h=g();let L=_2(Q,h),W=E.createHref(Q);l.replaceState(L,"",W),i&&d&&d({action:f,location:E.location,delta:0})}function S(U){return mC(U)}let E={get action(){return f},get location(){return A(a,l)},listen(U){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(S2,b),d=U,()=>{a.removeEventListener(S2,b),d=null}},createHref(U){return e(a,U)},createURL:S,encodeLocation(U){let _=S(U);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:x,replace:w,go(U){return l.go(U)}};return E}function mC(A,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nr(t,"No window.location.(origin|href) available to create URL");let n=typeof A=="string"?A:nf(A);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function My(A,e,t="/"){return wC(A,e,t,!1)}function wC(A,e,t,n){let a=typeof e=="string"?mc(e):e,i=uo(a.pathname||"/",t);if(i==null)return null;let l=Py(A);vC(l);let f=null;for(let d=0;f==null&&d<l.length;++d){let h=QC(i);f=NC(l[d],h,n)}return f}function Py(A,e=[],t=[],n="",a=!1){let i=(l,f,d=a,h)=>{let g={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&d)return;Nr(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let b=io([n,g.relativePath]),x=t.concat(g);l.children&&l.children.length>0&&(Nr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Py(l.children,e,x,b,d)),!(l.path==null&&!l.index)&&e.push({path:b,score:SC(b,l.index),routesMeta:x})};return A.forEach((l,f)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,f);else for(let h of Ky(l.path))i(l,f,!0,h)}),e}function Ky(A){let e=A.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=Ky(n.join("/")),f=[];return f.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&f.push(...l),f.map(d=>A.startsWith("/")&&d===""?"/":d)}function vC(A){A.sort((e,t)=>e.score!==t.score?t.score-e.score:_C(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var bC=/^:[\w-]+$/,yC=3,xC=2,BC=1,CC=10,EC=-2,N2=A=>A==="*";function SC(A,e){let t=A.split("/"),n=t.length;return t.some(N2)&&(n+=EC),e&&(n+=xC),t.filter(a=>!N2(a)).reduce((a,i)=>a+(bC.test(i)?yC:i===""?BC:CC),n)}function _C(A,e){return A.length===e.length&&A.slice(0,-1).every((n,a)=>n===e[a])?A[A.length-1]-e[e.length-1]:0}function NC(A,e,t=!1){let{routesMeta:n}=A,a={},i="/",l=[];for(let f=0;f<n.length;++f){let d=n[f],h=f===n.length-1,g=i==="/"?e:e.slice(i.length)||"/",b=h0({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},g),x=d.route;if(!b&&h&&t&&!n[n.length-1].route.index&&(b=h0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!b)return null;Object.assign(a,b.params),l.push({params:a,pathname:io([i,b.pathname]),pathnameBase:TC(io([i,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(i=io([i,b.pathnameBase]))}return l}function h0(A,e){typeof A=="string"&&(A={path:A,caseSensitive:!1,end:!0});let[t,n]=UC(A.path,A.caseSensitive,A.end),a=e.match(t);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:n.reduce((h,{paramName:g,isOptional:b},x)=>{if(g==="*"){let S=f[x]||"";l=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[x];return b&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:A}}function UC(A,e=!1,t=!0){Js(A==="*"||!A.endsWith("*")||A.endsWith("/*"),`Route path "${A}" will be treated as if it were "${A.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${A.replace(/\*$/,"/*")}".`);let n=[],a="^"+A.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,d)=>(n.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return A.endsWith("*")?(n.push({paramName:"*"}),a+=A==="*"||A==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":A!==""&&A!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function QC(A){try{return A.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Js(!1,`The URL path "${A}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),A}}function uo(A,e){if(e==="/")return A;if(!A.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=A.charAt(t);return n&&n!=="/"?null:A.slice(t)||"/"}var FC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jC=A=>FC.test(A);function LC(A,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof A=="string"?mc(A):A,i;if(t)if(jC(t))i=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Js(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?i=U2(t.substring(1),"/"):i=U2(t,e)}else i=e;return{pathname:i,search:DC(n),hash:OC(a)}}function U2(A,e){let t=e.replace(/\/+$/,"").split("/");return A.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Bg(A,e,t,n){return`Cannot include a '${A}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IC(A){return A.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function S1(A){let e=IC(A);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function _1(A,e,t,n=!1){let a;typeof A=="string"?a=mc(A):(a={...A},Nr(!a.pathname||!a.pathname.includes("?"),Bg("?","pathname","search",a)),Nr(!a.pathname||!a.pathname.includes("#"),Bg("#","pathname","hash",a)),Nr(!a.search||!a.search.includes("#"),Bg("#","search","hash",a)));let i=A===""||a.pathname==="",l=i?"/":a.pathname,f;if(l==null)f=t;else{let b=e.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}f=b>=0?e[b]:"/"}let d=LC(a,f),h=l&&l!=="/"&&l.endsWith("/"),g=(i||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}var io=A=>A.join("/").replace(/\/\/+/g,"/"),TC=A=>A.replace(/\/+$/,"").replace(/^\/*/,"/"),DC=A=>!A||A==="?"?"":A.startsWith("?")?A:"?"+A,OC=A=>!A||A==="#"?"":A.startsWith("#")?A:"#"+A;function kC(A){return A!=null&&typeof A.status=="number"&&typeof A.statusText=="string"&&typeof A.internal=="boolean"&&"data"in A}function RC(A){return A.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qy=["POST","PUT","PATCH","DELETE"];new Set(qy);var HC=["GET",...qy];new Set(HC);var Ku=Z.createContext(null);Ku.displayName="DataRouter";var k0=Z.createContext(null);k0.displayName="DataRouterState";Z.createContext(!1);var Gy=Z.createContext({isTransitioning:!1});Gy.displayName="ViewTransition";var MC=Z.createContext(new Map);MC.displayName="Fetchers";var PC=Z.createContext(null);PC.displayName="Await";var ma=Z.createContext(null);ma.displayName="Navigation";var pf=Z.createContext(null);pf.displayName="Location";var Ci=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var N1=Z.createContext(null);N1.displayName="RouteError";function KC(A,{relative:e}={}){Nr(qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=Z.useContext(ma),{hash:a,pathname:i,search:l}=mf(A,{relative:e}),f=i;return t!=="/"&&(f=i==="/"?t:io([t,i])),n.createHref({pathname:f,search:l,hash:a})}function qu(){return Z.useContext(pf)!=null}function vl(){return Nr(qu(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(pf).location}var zy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vy(A){Z.useContext(ma).static||Z.useLayoutEffect(A)}function gf(){let{isDataRoute:A}=Z.useContext(Ci);return A?AE():qC()}function qC(){Nr(qu(),"useNavigate() may be used only in the context of a <Router> component.");let A=Z.useContext(Ku),{basename:e,navigator:t}=Z.useContext(ma),{matches:n}=Z.useContext(Ci),{pathname:a}=vl(),i=JSON.stringify(S1(n)),l=Z.useRef(!1);return Vy(()=>{l.current=!0}),Z.useCallback((d,h={})=>{if(Js(l.current,zy),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=_1(d,JSON.parse(i),a,h.relative==="path");A==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:io([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,i,a,A])}Z.createContext(null);function mf(A,{relative:e}={}){let{matches:t}=Z.useContext(Ci),{pathname:n}=vl(),a=JSON.stringify(S1(t));return Z.useMemo(()=>_1(A,JSON.parse(a),n,e==="path"),[A,a,n,e])}function GC(A,e){return $y(A,e)}function $y(A,e,t,n,a){var Q;Nr(qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=Z.useContext(ma),{matches:l}=Z.useContext(Ci),f=l[l.length-1],d=f?f.params:{},h=f?f.pathname:"/",g=f?f.pathnameBase:"/",b=f&&f.route;{let L=b&&b.path||"";Yy(h,!b||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let x=vl(),w;if(e){let L=typeof e=="string"?mc(e):e;Nr(g==="/"||((Q=L.pathname)==null?void 0:Q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),w=L}else w=x;let S=w.pathname||"/",E=S;if(g!=="/"){let L=g.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let U=My(A,{pathname:E});Js(b||U!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Js(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=WC(U&&U.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:io([g,i.encodeLocation?i.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:io([g,i.encodeLocation?i.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),l,t,n,a);return e&&_?Z.createElement(pf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},_):_}function zC(){let A=tE(),e=kC(A)?`${A.status} ${A.statusText}`:A instanceof Error?A.message:JSON.stringify(A),t=A instanceof Error?A.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",A),l=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:i},"ErrorBoundary")," or"," ",Z.createElement("code",{style:i},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:a},t):null,l)}var VC=Z.createElement(zC,null),$C=class extends Z.Component{constructor(A){super(A),this.state={location:A.location,revalidation:A.revalidation,error:A.error}}static getDerivedStateFromError(A){return{error:A}}static getDerivedStateFromProps(A,e){return e.location!==A.location||e.revalidation!=="idle"&&A.revalidation==="idle"?{error:A.error,location:A.location,revalidation:A.revalidation}:{error:A.error!==void 0?A.error:e.error,location:e.location,revalidation:A.revalidation||e.revalidation}}componentDidCatch(A,e){this.props.onError?this.props.onError(A,e):console.error("React Router caught the following error during render",A)}render(){return this.state.error!==void 0?Z.createElement(Ci.Provider,{value:this.props.routeContext},Z.createElement(N1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YC({routeContext:A,match:e,children:t}){let n=Z.useContext(Ku);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(Ci.Provider,{value:A},t)}function WC(A,e=[],t=null,n=null,a=null){if(A==null){if(!t)return null;if(t.errors)A=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)A=t.matches;else return null}let i=A,l=t==null?void 0:t.errors;if(l!=null){let g=i.findIndex(b=>b.route.id&&(l==null?void 0:l[b.route.id])!==void 0);Nr(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,g+1))}let f=!1,d=-1;if(t)for(let g=0;g<i.length;g++){let b=i[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=g),b.route.id){let{loaderData:x,errors:w}=t,S=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||S){f=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let h=t&&n?(g,b)=>{var x,w;n(g,{location:t.location,params:((w=(x=t.matches)==null?void 0:x[0])==null?void 0:w.params)??{},unstable_pattern:RC(t.matches),errorInfo:b})}:void 0;return i.reduceRight((g,b,x)=>{let w,S=!1,E=null,U=null;t&&(w=l&&b.route.id?l[b.route.id]:void 0,E=b.route.errorElement||VC,f&&(d<0&&x===0?(Yy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,U=null):d===x&&(S=!0,U=b.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,x+1)),Q=()=>{let L;return w?L=E:S?L=U:b.route.Component?L=Z.createElement(b.route.Component,null):b.route.element?L=b.route.element:L=g,Z.createElement(YC,{match:b,routeContext:{outlet:g,matches:_,isDataRoute:t!=null},children:L})};return t&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?Z.createElement($C,{location:t.location,revalidation:t.revalidation,component:E,error:w,children:Q(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):Q()},null)}function U1(A){return`${A} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JC(A){let e=Z.useContext(Ku);return Nr(e,U1(A)),e}function XC(A){let e=Z.useContext(k0);return Nr(e,U1(A)),e}function ZC(A){let e=Z.useContext(Ci);return Nr(e,U1(A)),e}function Q1(A){let e=ZC(A),t=e.matches[e.matches.length-1];return Nr(t.route.id,`${A} can only be used on routes that contain a unique "id"`),t.route.id}function eE(){return Q1("useRouteId")}function tE(){var n;let A=Z.useContext(N1),e=XC("useRouteError"),t=Q1("useRouteError");return A!==void 0?A:(n=e.errors)==null?void 0:n[t]}function AE(){let{router:A}=JC("useNavigate"),e=Q1("useNavigate"),t=Z.useRef(!1);return Vy(()=>{t.current=!0}),Z.useCallback(async(a,i={})=>{Js(t.current,zy),t.current&&(typeof a=="number"?await A.navigate(a):await A.navigate(a,{fromRouteId:e,...i}))},[A,e])}var Q2={};function Yy(A,e,t){!e&&!Q2[A]&&(Q2[A]=!0,Js(!1,t))}Z.memo(rE);function rE({routes:A,future:e,state:t,unstable_onError:n}){return $y(A,void 0,t,n,e)}function F1({to:A,replace:e,state:t,relative:n}){Nr(qu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=Z.useContext(ma);Js(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=Z.useContext(Ci),{pathname:l}=vl(),f=gf(),d=_1(A,S1(i),l,n==="path"),h=JSON.stringify(d);return Z.useEffect(()=>{f(JSON.parse(h),{replace:e,state:t,relative:n})},[f,h,n,e,t]),null}function Ta(A){Nr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nE({basename:A="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:l}){Nr(!qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=A.replace(/^\/*/,"/"),d=Z.useMemo(()=>({basename:f,navigator:a,static:i,unstable_useTransitions:l,future:{}}),[f,a,i,l]);typeof t=="string"&&(t=mc(t));let{pathname:h="/",search:g="",hash:b="",state:x=null,key:w="default"}=t,S=Z.useMemo(()=>{let E=uo(h,f);return E==null?null:{location:{pathname:E,search:g,hash:b,state:x,key:w},navigationType:n}},[f,h,g,b,x,w,n]);return Js(S!=null,`<Router basename="${f}"> is not able to match the URL "${h}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:Z.createElement(ma.Provider,{value:d},Z.createElement(pf.Provider,{children:e,value:S}))}function sE({children:A,location:e}){return GC(mm(A),e)}function mm(A,e=[]){let t=[];return Z.Children.forEach(A,(n,a)=>{if(!Z.isValidElement(n))return;let i=[...e,a];if(n.type===Z.Fragment){t.push.apply(t,mm(n.props.children,i));return}Nr(n.type===Ta,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=mm(n.props.children,i)),t.push(l)}),t}var Xh="get",Zh="application/x-www-form-urlencoded";function R0(A){return typeof HTMLElement<"u"&&A instanceof HTMLElement}function aE(A){return R0(A)&&A.tagName.toLowerCase()==="button"}function iE(A){return R0(A)&&A.tagName.toLowerCase()==="form"}function oE(A){return R0(A)&&A.tagName.toLowerCase()==="input"}function lE(A){return!!(A.metaKey||A.altKey||A.ctrlKey||A.shiftKey)}function cE(A,e){return A.button===0&&(!e||e==="_self")&&!lE(A)}var uh=null;function uE(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var dE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cg(A){return A!=null&&!dE.has(A)?(Js(!1,`"${A}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zh}"`),null):A}function fE(A,e){let t,n,a,i,l;if(iE(A)){let f=A.getAttribute("action");n=f?uo(f,e):null,t=A.getAttribute("method")||Xh,a=Cg(A.getAttribute("enctype"))||Zh,i=new FormData(A)}else if(aE(A)||oE(A)&&(A.type==="submit"||A.type==="image")){let f=A.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=A.getAttribute("formaction")||f.getAttribute("action");if(n=d?uo(d,e):null,t=A.getAttribute("formmethod")||f.getAttribute("method")||Xh,a=Cg(A.getAttribute("formenctype"))||Cg(f.getAttribute("enctype"))||Zh,i=new FormData(f,A),!uE()){let{name:h,type:g,value:b}=A;if(g==="image"){let x=h?`${h}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else h&&i.append(h,b)}}else{if(R0(A))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xh,n=null,a=Zh,l=A}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function j1(A,e){if(A===!1||A===null||typeof A>"u")throw new Error(e)}function hE(A,e,t){let n=typeof A=="string"?new URL(A,typeof window>"u"?"server://singlefetch/":window.location.origin):A;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&uo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function pE(A,e){if(A.id in e)return e[A.id];try{let t=await import(A.module);return e[A.id]=t,t}catch(t){return console.error(`Error loading route module \`${A.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gE(A){return A==null?!1:A.href==null?A.rel==="preload"&&typeof A.imageSrcSet=="string"&&typeof A.imageSizes=="string":typeof A.rel=="string"&&typeof A.href=="string"}async function mE(A,e,t){let n=await Promise.all(A.map(async a=>{let i=e.routes[a.route.id];if(i){let l=await pE(i,t);return l.links?l.links():[]}return[]}));return yE(n.flat(1).filter(gE).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function F2(A,e,t,n,a,i){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,f=(d,h)=>{var g;return t[h].pathname!==d.pathname||((g=t[h].route.path)==null?void 0:g.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return i==="assets"?e.filter((d,h)=>l(d,h)||f(d,h)):i==="data"?e.filter((d,h)=>{var b;let g=n.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,h)||f(d,h))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(A,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function wE(A,e,{includeHydrateFallback:t}={}){return vE(A.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function vE(A){return[...new Set(A)]}function bE(A){let e={},t=Object.keys(A).sort();for(let n of t)e[n]=A[n];return e}function yE(A,e){let t=new Set;return new Set(e),A.reduce((n,a)=>{let i=JSON.stringify(bE(a));return t.has(i)||(t.add(i),n.push({key:i,link:a})),n},[])}function Wy(){let A=Z.useContext(Ku);return j1(A,"You must render this element inside a <DataRouterContext.Provider> element"),A}function xE(){let A=Z.useContext(k0);return j1(A,"You must render this element inside a <DataRouterStateContext.Provider> element"),A}var L1=Z.createContext(void 0);L1.displayName="FrameworkContext";function Jy(){let A=Z.useContext(L1);return j1(A,"You must render this element inside a <HydratedRouter> element"),A}function BE(A,e){let t=Z.useContext(L1),[n,a]=Z.useState(!1),[i,l]=Z.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:h,onMouseLeave:g,onTouchStart:b}=e,x=Z.useRef(null);Z.useEffect(()=>{if(A==="render"&&l(!0),A==="viewport"){let E=_=>{_.forEach(Q=>{l(Q.isIntersecting)})},U=new IntersectionObserver(E,{threshold:.5});return x.current&&U.observe(x.current),()=>{U.disconnect()}}},[A]),Z.useEffect(()=>{if(n){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[n]);let w=()=>{a(!0)},S=()=>{a(!1),l(!1)};return t?A!=="intent"?[i,x,{}]:[i,x,{onFocus:jd(f,w),onBlur:jd(d,S),onMouseEnter:jd(h,w),onMouseLeave:jd(g,S),onTouchStart:jd(b,w)}]:[!1,x,{}]}function jd(A,e){return t=>{A&&A(t),t.defaultPrevented||e(t)}}function CE({page:A,...e}){let{router:t}=Wy(),n=Z.useMemo(()=>My(t.routes,A,t.basename),[t.routes,A,t.basename]);return n?Z.createElement(SE,{page:A,matches:n,...e}):null}function EE(A){let{manifest:e,routeModules:t}=Jy(),[n,a]=Z.useState([]);return Z.useEffect(()=>{let i=!1;return mE(A,e,t).then(l=>{i||a(l)}),()=>{i=!0}},[A,e,t]),n}function SE({page:A,matches:e,...t}){let n=vl(),{manifest:a,routeModules:i}=Jy(),{basename:l}=Wy(),{loaderData:f,matches:d}=xE(),h=Z.useMemo(()=>F2(A,e,d,a,n,"data"),[A,e,d,a,n]),g=Z.useMemo(()=>F2(A,e,d,a,n,"assets"),[A,e,d,a,n]),b=Z.useMemo(()=>{if(A===n.pathname+n.search+n.hash)return[];let S=new Set,E=!1;if(e.forEach(_=>{var L;let Q=a.routes[_.route.id];!Q||!Q.hasLoader||(!h.some(W=>W.route.id===_.route.id)&&_.route.id in f&&((L=i[_.route.id])!=null&&L.shouldRevalidate)||Q.hasClientLoader?E=!0:S.add(_.route.id))}),S.size===0)return[];let U=hE(A,l,"data");return E&&S.size>0&&U.searchParams.set("_routes",e.filter(_=>S.has(_.route.id)).map(_=>_.route.id).join(",")),[U.pathname+U.search]},[l,f,n,a,h,e,A,i]),x=Z.useMemo(()=>wE(g,a),[g,a]),w=EE(g);return Z.createElement(Z.Fragment,null,b.map(S=>Z.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),x.map(S=>Z.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),w.map(({key:S,link:E})=>Z.createElement("link",{key:S,nonce:t.nonce,...E})))}function _E(...A){return e=>{A.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Xy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xy&&(window.__reactRouterVersion="7.10.1")}catch{}function NE({basename:A,children:e,unstable_useTransitions:t,window:n}){let a=Z.useRef();a.current==null&&(a.current=hC({window:n,v5Compat:!0}));let i=a.current,[l,f]=Z.useState({action:i.action,location:i.location}),d=Z.useCallback(h=>{t===!1?f(h):Z.startTransition(()=>f(h))},[t]);return Z.useLayoutEffect(()=>i.listen(d),[i,d]),Z.createElement(nE,{basename:A,children:e,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:t===!0})}var Zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ex=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:f,target:d,to:h,preventScrollReset:g,viewTransition:b,...x},w){let{basename:S,unstable_useTransitions:E}=Z.useContext(ma),U=typeof h=="string"&&Zy.test(h),_,Q=!1;if(typeof h=="string"&&U&&(_=h,Xy))try{let me=new URL(window.location.href),D=h.startsWith("//")?new URL(me.protocol+h):new URL(h),O=uo(D.pathname,S);D.origin===me.origin&&O!=null?h=O+D.search+D.hash:Q=!0}catch{Js(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=KC(h,{relative:a}),[W,X,re]=BE(n,x),J=FE(h,{replace:l,state:f,target:d,preventScrollReset:g,relative:a,viewTransition:b,unstable_useTransitions:E});function V(me){e&&e(me),me.defaultPrevented||J(me)}let ae=Z.createElement("a",{...x,...re,href:_||L,onClick:Q||i?e:V,ref:_E(w,X),target:d,"data-discover":!U&&t==="render"?"true":void 0});return W&&!U?Z.createElement(Z.Fragment,null,ae,Z.createElement(CE,{page:L})):ae});ex.displayName="Link";var wm=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:f,children:d,...h},g){let b=mf(l,{relative:h.relative}),x=vl(),w=Z.useContext(k0),{navigator:S,basename:E}=Z.useContext(ma),U=w!=null&&DE(b)&&f===!0,_=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,Q=x.pathname,L=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),L=L?L.toLowerCase():null,_=_.toLowerCase()),L&&E&&(L=uo(L,E)||L);const W=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let X=Q===_||!a&&Q.startsWith(_)&&Q.charAt(W)==="/",re=L!=null&&(L===_||!a&&L.startsWith(_)&&L.charAt(_.length)==="/"),J={isActive:X,isPending:re,isTransitioning:U},V=X?e:void 0,ae;typeof n=="function"?ae=n(J):ae=[n,X?"active":null,re?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let me=typeof i=="function"?i(J):i;return Z.createElement(ex,{...h,"aria-current":V,className:ae,ref:g,style:me,to:l,viewTransition:f},typeof d=="function"?d(J):d)});wm.displayName="NavLink";var UE=Z.forwardRef(({discover:A="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:i,method:l=Xh,action:f,onSubmit:d,relative:h,preventScrollReset:g,viewTransition:b,...x},w)=>{let{unstable_useTransitions:S}=Z.useContext(ma),E=IE(),U=TE(f,{relative:h}),_=l.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&Zy.test(f),L=W=>{if(d&&d(W),W.defaultPrevented)return;W.preventDefault();let X=W.nativeEvent.submitter,re=(X==null?void 0:X.getAttribute("formmethod"))||l,J=()=>E(X||W.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:a,state:i,relative:h,preventScrollReset:g,viewTransition:b});S&&t!==!1?Z.startTransition(()=>J()):J()};return Z.createElement("form",{ref:w,method:_,action:U,onSubmit:n?d:L,...x,"data-discover":!Q&&A==="render"?"true":void 0})});UE.displayName="Form";function QE(A){return`${A} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tx(A){let e=Z.useContext(Ku);return Nr(e,QE(A)),e}function FE(A,{target:e,replace:t,state:n,preventScrollReset:a,relative:i,viewTransition:l,unstable_useTransitions:f}={}){let d=gf(),h=vl(),g=mf(A,{relative:i});return Z.useCallback(b=>{if(cE(b,e)){b.preventDefault();let x=t!==void 0?t:nf(h)===nf(g),w=()=>d(A,{replace:x,state:n,preventScrollReset:a,relative:i,viewTransition:l});f?Z.startTransition(()=>w()):w()}},[h,d,g,t,n,e,A,a,i,l,f])}var jE=0,LE=()=>`__${String(++jE)}__`;function IE(){let{router:A}=tx("useSubmit"),{basename:e}=Z.useContext(ma),t=eE(),n=A.fetch,a=A.navigate;return Z.useCallback(async(i,l={})=>{let{action:f,method:d,encType:h,formData:g,body:b}=fE(i,e);if(l.navigate===!1){let x=l.fetcherKey||LE();await n(x,t,l.action||f,{preventScrollReset:l.preventScrollReset,formData:g,body:b,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||f,{preventScrollReset:l.preventScrollReset,formData:g,body:b,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,e,t])}function TE(A,{relative:e}={}){let{basename:t}=Z.useContext(ma),n=Z.useContext(Ci);Nr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...mf(A||".",{relative:e})},l=vl();if(A==null){i.search=l.search;let f=new URLSearchParams(i.search),d=f.getAll("index");if(d.some(g=>g==="")){f.delete("index"),d.filter(b=>b).forEach(b=>f.append("index",b));let g=f.toString();i.search=g?`?${g}`:""}}return(!A||A===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:io([t,i.pathname])),nf(i)}function DE(A,{relative:e}={}){let t=Z.useContext(Gy);Nr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=tx("useViewTransitionState"),a=mf(A,{relative:e});if(!t.isTransitioning)return!1;let i=uo(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=uo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return h0(a.pathname,l)!=null||h0(a.pathname,i)!=null}const dh=({title:A,value:e,icon:t,color:n,description:a})=>c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 flex items-start space-x-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${n} bg-opacity-10`,children:c.jsx(t,{className:`w-6 h-6 ${n.replace("bg-","text-")}`})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-slate-500 text-sm font-medium uppercase tracking-wide",children:A}),c.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:e}),a&&c.jsx("p",{className:"mt-1 text-sm text-slate-400",children:a})]})]});var vt=(A=>(A.CONSULTATION="Consultation",A.RCP="RCP",A.MACHINE="Machine",A.ACTIVITY="Activity",A.OTHER="Other",A))(vt||{}),vA=(A=>(A.MORNING="Matin",A.AFTERNOON="Aprs-midi",A))(vA||{}),rr=(A=>(A.MONDAY="Lundi",A.TUESDAY="Mardi",A.WEDNESDAY="Mercredi",A.THURSDAY="Jeudi",A.FRIDAY="Vendredi",A))(rr||{});const Qu=(A,e,t)=>{const n=new Date(A),a=new Date(e),i=new Date(t);return n>=a&&n<=i},I1=(A,e,t,n)=>A?n.some(a=>a.doctorId!==A.id||!Qu(e,a.startDate,a.endDate)?!1:!a.period||a.period==="ALL_DAY"?!0:a.period===t):!1,OE=A=>{const e=A%19,t=Math.floor(A/100),n=A%100,a=Math.floor(t/4),i=t%4,l=Math.floor((t+8)/25),f=Math.floor((t-l+1)/3),d=(19*e+t-a-f+15)%30,h=Math.floor(n/4),g=n%4,b=(32+2*i+2*h-d-g)%7,x=Math.floor((e+11*d+22*b)/451),w=Math.floor((d+b-7*x+114)/31),S=(d+b-7*x+114)%31+1;return new Date(A,w-1,S)},Eg=(A,e)=>{const t=new Date(A);return t.setDate(t.getDate()+e),t},kE=A=>{const e=[{date:`${A}-01-01`,name:"Jour de l'An"},{date:`${A}-05-01`,name:"Fte du Travail"},{date:`${A}-05-08`,name:"Victoire 1945"},{date:`${A}-07-14`,name:"Fte Nationale"},{date:`${A}-08-15`,name:"Assomption"},{date:`${A}-11-01`,name:"Toussaint"},{date:`${A}-11-11`,name:"Armistice"},{date:`${A}-12-25`,name:"Nol"}],t=OE(A),n=Eg(t,1),a=Eg(t,39),i=Eg(t,50),l=f=>{const d=f.getFullYear(),h=String(f.getMonth()+1).padStart(2,"0"),g=String(f.getDate()).padStart(2,"0");return`${d}-${h}-${g}`};return e.push({date:l(n),name:"Lundi de Pques"}),e.push({date:l(a),name:"Ascension"}),e.push({date:l(i),name:"Lundi de Pentecte"}),e},oo=A=>{const e=parseInt(A.split("-")[0],10);return kE(e).find(n=>n.date===A)},Ws=(A,e)=>{const t={[rr.MONDAY]:0,[rr.TUESDAY]:1,[rr.WEDNESDAY]:2,[rr.THURSDAY]:3,[rr.FRIDAY]:4},n=new Date(A);n.setDate(A.getDate()+t[e]);const a=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),l=String(n.getDate()).padStart(2,"0");return`${a}-${i}-${l}`},RE=A=>{const e=new Date(Date.UTC(A.getFullYear(),A.getMonth(),A.getDate())),t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-t);const n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-n.getTime())/864e5+1)/7)},HE=A=>Math.ceil(A.getDate()/7),Vs=A=>{if(!A||!A.excludedDays)return 1;const e=[rr.MONDAY,rr.TUESDAY,rr.WEDNESDAY,rr.THURSDAY,rr.FRIDAY],n=(5-A.excludedDays.filter(a=>e.includes(a)).length)/5;return n>.1?n:.1},Ax=(A,e,t,n,a={},i=[])=>{const l=i.find(g=>g.id===A.activityId),f=(l==null?void 0:l.equityGroup)||"custom_"+(A.activityId||"default"),h=i.filter(g=>(g.equityGroup||"custom_"+g.id)===f).map(g=>g.id);return t.filter(g=>{var b;return!((b=g.excludedSlotTypes)!=null&&b.includes(A.type)||A.activityId&&g.excludedActivities.includes(A.activityId))}).map(g=>{let b=50;const x=[],w=g.specialty.filter(X=>e.specialty.includes(X));w.length>0&&(b+=30,x.push(`Mme spcialit (${w.join(", ")})`));const S=Vs(g);let E=0;h.forEach(X=>{var re;E+=((re=a[g.id])==null?void 0:re[X])||0});const U=n.filter(X=>X.assignedDoctorId===g.id&&X.id!==A.id&&h.includes(X.activityId||"")).length,_=(E+U)/S;_<10?(b+=20,x.push("Charge pondre faible")):_>30&&(b-=20,x.push("Charge pondre leve"));const Q=A.location.toLowerCase(),L=g.specialty.find(X=>Q.includes(X.toLowerCase()));L&&(b+=20,x.push(`Expertise pertinente (${L})`));const W=Math.max(0,Math.min(100,b));return x.length===0&&x.push("Disponible"),{originalDoctorId:e.id,suggestedDoctorId:g.id,reasoning:x.join("  "),score:W}}).sort((g,b)=>b.score-g.score).slice(0,5)},ME=(A,e,t,n,a,i,l,f=!0)=>!(!A||A.excludedActivities&&A.excludedActivities.includes(e)||A.excludedDays&&A.excludedDays.includes(t)||I1(A,n,i,a)||f&&l.some(h=>{var g;return h.date===n&&h.period===i&&(h.assignedDoctorId===A.id||((g=h.secondaryDoctorIds)==null?void 0:g.includes(A.id)))&&(h.type===vt.RCP?!h.isUnconfirmed:h.isBlocking!==!1)})),PE=(A,e,t)=>A?!e.some(n=>t.some(a=>a.doctorId!==A.id?!1:Qu(n,a.startDate,a.endDate))):!1,KE=(A,e,t,n,a,i)=>{const l=[...A];if(!t||t.length===0)return l;const f={};e.forEach(x=>{const w=x.equityGroup||"custom_"+x.id;f[w]||(f[w]=[]),f[w].push(x)});const d={},h={};t.forEach(x=>{d[x.id]={},h[x.id]=0,Object.entries(f).forEach(([w,S])=>{let E=0;S.forEach(U=>{var _;E+=((_=a[x.id])==null?void 0:_[U.id])||0}),d[x.id][w]=E})});const g=e.filter(x=>x.granularity==="WEEKLY");return e.filter(x=>x.granularity==="HALF_DAY").forEach(x=>{const w=l.filter(E=>E.activityId===x.id),S=x.equityGroup||"custom_"+x.id;w.forEach(E=>{if(oo(E.date))return;if(E.assignedDoctorId){d[E.assignedDoctorId]&&(d[E.assignedDoctorId][S]=(d[E.assignedDoctorId][S]||0)+1,h[E.assignedDoctorId]=(h[E.assignedDoctorId]||0)+1);return}const U=t.filter(_=>ME(_,x.id,E.day,E.date,n,E.period,l,!0));if(U.length>0){U.sort((Q,L)=>{var me,D;const W=Vs(Q),X=Vs(L),re=(((me=d[Q.id])==null?void 0:me[S])||0)/W,J=(((D=d[L.id])==null?void 0:D[S])||0)/X;if(Math.abs(re-J)>.1)return re-J;const V=h[Q.id]||0,ae=h[L.id]||0;return V!==ae?V-ae:.5-Math.random()});const _=U[0];E.assignedDoctorId=_.id,d[_.id][S]=(d[_.id][S]||0)+1,h[_.id]=(h[_.id]||0)+1}})}),g.forEach(x=>{const w=l.filter(L=>L.activityId===x.id),S=x.equityGroup||"custom_"+x.id,E=S==="workflow";if(w.length===0)return;const U=w.find(L=>L.assignedDoctorId);if(U&&U.assignedDoctorId){d[U.assignedDoctorId]&&(d[U.assignedDoctorId][S]=(d[U.assignedDoctorId][S]||0)+1);return}const _=[...new Set(w.map(L=>L.date))],Q=t.filter(L=>L.excludedActivities&&L.excludedActivities.includes(x.id)?!1:E?!_.some(X=>n.some(re=>re.doctorId!==L.id?!1:Qu(X,re.startDate,re.endDate))):PE(L,_,n));if(Q.length>0)if(E){const L=Math.min(...Q.map(re=>{var J;return((J=d[re.id])==null?void 0:J[S])||0})),W=Q.filter(re=>{var J;return(((J=d[re.id])==null?void 0:J[S])||0)===L}),X=W.length>1?W[Math.floor(Math.random()*W.length)]:W[0];w.forEach(re=>re.assignedDoctorId=X.id),d[X.id][S]=(d[X.id][S]||0)+1}else{Q.sort((W,X)=>{var O,Y;const re=Vs(W),J=Vs(X),V=(((O=d[W.id])==null?void 0:O[S])||0)/re,ae=(((Y=d[X.id])==null?void 0:Y[S])||0)/J;if(Math.abs(V-ae)>.1)return V-ae;const me=h[W.id]||0,D=h[X.id]||0;return me!==D?me-D:.5-Math.random()});const L=Q[0];w.forEach(W=>W.assignedDoctorId=L.id),d[L.id][S]=(d[L.id][S]||0)+1}}),l},vm=(A,e,t,n,a,i,l,f)=>{const d={},h=new Set,g=new Set;i&&i.forEach(E=>{h.add(E.equityGroup||"custom_"+E.id),(E.equityGroup==="workflow"||E.granularity==="WEEKLY")&&g.add(E.id)}),a&&a.forEach(E=>{d[E.id]={},i&&i.forEach(U=>{d[E.id][U.id]=0}),h.forEach(U=>{d[E.id][`equity_${U}`]=0})});const b=new Date(A);if(isNaN(b.getTime()))return d;const x=new Set,w=new Date(b);let S=0;for(;w<e&&S<104;){const E=w.toISOString().split("T")[0];lo(new Date(w),t,n,a,i,l,!1,{},{},[]).forEach(_=>{if(_.type!==vt.ACTIVITY)return;const Q=f[_.id];if(!Q||Q==="__CLOSED__")return;const W=Q.startsWith("auto:")?Q.substring(5):Q;if(W&&_.activityId&&d[W])if(d[W][_.activityId]===void 0&&(d[W][_.activityId]=0),g.has(_.activityId)){const X=`${W}-${_.activityId}-${E}`;x.has(X)||(x.add(X),d[W][_.activityId]++)}else d[W][_.activityId]++}),w.setDate(w.getDate()+7),S++}return d},lo=(A,e,t,n,a,i,l=!0,f={},d={},h=[])=>{if(!n)return[];const g=[],b=RE(A);return e.forEach(x=>{const w=i.find(Y=>Y.name===x.location),S=Ws(A,x.day),E=new Date(S);if(w){if(w.frequency==="BIWEEKLY"){if(w.weekParity==="ODD"&&b%2===0||w.weekParity==="EVEN"&&b%2!==0||!w.weekParity&&b%2===0)return}else if(w.frequency==="MONTHLY"){const Y=HE(E),Ae=w.monthlyWeekNumber||1;if(Y!==Ae)return}else if(w.frequency==="MANUAL")return}else if(x.frequency==="BIWEEKLY"&&b%2===0)return;let U=S,_=x.period,Q=x.time,L=!1;if(x.type===vt.RCP){const Y=h.find(Ae=>Ae.rcpTemplateId===x.id&&Ae.originalDate===S);Y&&(Y.isCancelled?L=!0:(Y.newDate&&(U=Y.newDate),Y.newPeriod&&(_=Y.newPeriod),Y.newTime&&(Q=Y.newTime)))}const W=`${x.id}-${S}`;let X=null,re=[],J=!1,V=!1,ae=x.doctorIds,me=x.defaultDoctorId,D=x.secondaryDoctorIds;if(x.type===vt.RCP){const Y=h.find(Ae=>Ae.rcpTemplateId===x.id&&Ae.originalDate===S);Y&&Y.customDoctorIds&&(ae=Y.customDoctorIds,me=Y.customDoctorIds[0]||null,D=Y.customDoctorIds.slice(1))}if(!L){if(x.type===vt.RCP){const Y=d[W]||{},Ae=Object.keys(Y).filter(Ce=>Y[Ce]==="PRESENT");if(Ae.length>0)X=Ae[0],re=Ae.slice(1),J=!1,V=!0;else{J=!0;const ee=(ae&&ae.length>0?ae:me?[me,...D||[]]:[]).filter(ce=>Y[ce]!=="ABSENT");ee.length>0?(X=ee[0],re=ee.slice(1)):(X=null,re=[])}}else ae&&ae.length>0?(X=ae[0],re=ae.slice(1)):(X=me,re=D||[]);X&&!n.some(Y=>Y.id===X)&&(X=null),re=(re||[]).filter(Y=>n.some(Ae=>Ae.id===Y))}let O=x.backupDoctorId;O&&!n.some(Y=>Y.id===O)&&(O=null),g.push({id:W,date:U,day:x.day,period:_,time:Q,location:x.location,type:x.type,subType:x.subType,assignedDoctorId:X,secondaryDoctorIds:re,backupDoctorId:O,isGenerated:!0,isBlocking:L?!1:V?!0:x.isBlocking!==void 0?x.isBlocking:!0,isUnconfirmed:J,isCancelled:L})}),i.forEach(x=>{x.frequency==="MANUAL"&&x.manualInstances&&x.manualInstances.forEach(w=>{const S=new Date(w.date),E=S.getDay(),U=S.getDate()-E+(E===0?-6:1),_=new Date(S);_.setDate(U),_.setHours(0,0,0,0);const Q=new Date(A);if(Q.setHours(0,0,0,0),_.getTime()===Q.getTime()){const L=`manual-rcp-${x.id}-${w.id}`,X=parseInt(w.time.split(":")[0],10)<13?vA.MORNING:vA.AFTERNOON,J=[null,rr.MONDAY,rr.TUESDAY,rr.WEDNESDAY,rr.THURSDAY,rr.FRIDAY,null][E];if(J){const V=w.doctorIds[0]||null,ae=w.doctorIds.slice(1),me=w.backupDoctorId||null,D=d[L]||{},O=Object.keys(D).filter(ce=>D[ce]==="PRESENT");let Y=null,Ae=[],Ce=!1,ee=!1;if(O.length>0)Y=O[0],Ae=O.slice(1),Ce=!1,ee=!0;else{Ce=!0;const le=[V,...ae].filter(Boolean).filter(Ne=>D[Ne]!=="ABSENT");le.length>0?(Y=le[0],Ae=le.slice(1)):(Y=null,Ae=[])}g.push({id:L,date:w.date,day:J,period:X,time:w.time,location:x.name,type:vt.RCP,subType:x.name,assignedDoctorId:Y,secondaryDoctorIds:Ae,backupDoctorId:me,isGenerated:!0,isBlocking:ee||!0,isUnconfirmed:Ce})}}})}),a.forEach(x=>{const w=Object.values(rr),S=[vA.MORNING,vA.AFTERNOON];w.forEach(E=>{const U=Ws(A,E);S.forEach(_=>{g.push({id:`act-${x.id}-${U}-${_}`,date:U,day:E,period:_,location:x.name,type:vt.ACTIVITY,subType:x.name,activityId:x.id,assignedDoctorId:null,isBlocking:!x.allowDoubleBooking})})})}),l?KE(g,a,n,t,f):g},qE=(A,e,t,n,a,i,l,f)=>{let d=[];const h=new Date(A);for(let g=0;g<5;g++){const b=lo(new Date(h),e,t,n,a,i,!1,l,f,[]);d=[...d,...b],h.setDate(h.getDate()+7)}return d},GE=(A,e,t)=>e.find(n=>{var a;return n.id!==A.id&&n.date===A.date&&n.period===A.period&&(n.assignedDoctorId===t||((a=n.secondaryDoctorIds)==null?void 0:a.includes(t)))&&(n.type===vt.RCP?!n.isUnconfirmed:n.isBlocking!==!1)}),H0=(A,e,t,n)=>{const a=[],i={};return t?(A.forEach(l=>{[l.assignedDoctorId,...l.secondaryDoctorIds||[]].filter(Boolean).forEach(d=>{i[d]||(i[d]=[]),i[d].push(l)})}),e.forEach(l=>{(i[l.doctorId]||[]).forEach(d=>{const h=t.find(g=>g.id===l.doctorId);h&&I1(h,d.date,d.period,[l])&&a.push({id:`conflict-abs-${d.id}-${l.doctorId}`,slotId:d.id,doctorId:l.doctorId,type:"UNAVAILABLE",description:`Absent (${l.reason}${l.period&&l.period!=="ALL_DAY"?" - "+l.period:""})`,severity:"HIGH"})})}),Object.keys(i).forEach(l=>{const f=t.find(h=>h.id===l);if(!f)return;const d=i[l];d.forEach(h=>{f.excludedDays&&f.excludedDays.includes(h.day)&&a.push({id:`conflict-day-excl-${h.id}-${l}`,slotId:h.id,doctorId:l,type:"UNAVAILABLE",description:`Ne travaille pas le ${h.day}`,severity:"MEDIUM"}),h.activityId&&f.excludedActivities&&f.excludedActivities.includes(h.activityId)&&a.push({id:`conflict-act-excl-${h.id}-${l}`,slotId:h.id,doctorId:l,type:"COMPETENCE_MISMATCH",description:`Exclu de l'activit : ${h.subType}`,severity:"HIGH"})});for(let h=0;h<d.length;h++)for(let g=h+1;g<d.length;g++){const b=d[h],x=d[g];if(b.date===x.date&&b.period===x.period){const w=b.type===vt.RCP,S=x.type===vt.RCP,E=w?!b.isUnconfirmed:b.isBlocking!==!1,U=S?!x.isUnconfirmed:x.isBlocking!==!1;if(E&&U&&b.id!==x.id){let _=`Double rservation (${x.location})`,Q=`Double rservation (${b.location})`;if(w||S){const L=w?b:x,W=w?x:b,X=`Prsence confirme  la ${L.subType||L.location}. Impossible d'assurer ${W.subType||W.location}.`;_=X,Q=X}else if(b.type===vt.ACTIVITY&&x.type===vt.ACTIVITY){const L=`${f.name} cumule ${b.subType} et ${x.subType}.`;_=L,Q=L}else{const L=`${f.name} est en ${b.location} et en ${x.location} simultanment.`;_=L,Q=L}a.push({id:`conflict-db-${b.id}-${x.id}-${l}`,slotId:b.id,doctorId:l,type:"DOUBLE_BOOKING",description:_,severity:"HIGH"}),a.push({id:`conflict-db-${x.id}-${b.id}-${l}`,slotId:x.id,doctorId:l,type:"DOUBLE_BOOKING",description:Q,severity:"HIGH"})}}}}),a):[]},rx=(A,e,t,n,a,i,l)=>A?A.filter(f=>!(i&&(I1(f,i,a,t)||f.excludedDays&&f.excludedDays.includes(n)||e.some(h=>{var g;return h.date===i&&h.period===a&&(h.assignedDoctorId===f.id||((g=h.secondaryDoctorIds)==null?void 0:g.includes(f.id)))&&(h.type===vt.RCP?!h.isUnconfirmed:h.isBlocking!==!1)})))):[];/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=A=>A.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VE=A=>A.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),j2=A=>{const e=VE(A);return e.charAt(0).toUpperCase()+e.slice(1)},nx=(...A)=>A.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),$E=A=>{for(const e in A)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=Z.forwardRef(({color:A="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...f},d)=>Z.createElement("svg",{ref:d,...YE,width:e,height:e,stroke:A,strokeWidth:n?Number(t)*24/Number(e):t,className:nx("lucide",a),...!i&&!$E(f)&&{"aria-hidden":"true"},...f},[...l.map(([h,g])=>Z.createElement(h,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(A,e)=>{const t=Z.forwardRef(({className:n,...a},i)=>Z.createElement(WE,{ref:i,iconNode:e,className:nx(`lucide-${zE(j2(A))}`,`lucide-${A}`,n),...a}));return t.displayName=j2(A),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],M0=Lt("activity",JE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ac=Lt("ban",XE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],e3=Lt("bell",ZE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],L2=Lt("briefcase",t3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],r3=Lt("calendar-days",A3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pc=Lt("calendar",n3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bm=Lt("check",s3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ku=Lt("chevron-left",a3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gc=Lt("chevron-right",i3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ym=Lt("circle-alert",o3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],c3=Lt("circle-check-big",l3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],d3=Lt("circle-check",u3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Sg=Lt("circle-plus",f3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],p3=Lt("circle-user",h3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],m3=Lt("circle-x",g3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fl=Lt("clock",w3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],sx=Lt("database",v3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],y3=Lt("download",b3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],I2=Lt("eye-off",x3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xm=Lt("eye",B3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],E3=Lt("file-braces",C3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],T2=Lt("file-text",S3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],D2=Lt("key",_3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],O2=Lt("layers",N3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Q3=Lt("layout-dashboard",U3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],j3=Lt("layout-list",F3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ax=Lt("layout-grid",L3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],T3=Lt("layout-template",I3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ix=Lt("lightbulb",D3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],_g=Lt("link-2",O3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ol=Lt("loader-circle",k3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],H3=Lt("lock-open",R3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lc=Lt("lock",M3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],k2=Lt("log-out",P3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],e0=Lt("mail",K3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],G3=Lt("map-pin",q3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],t0=Lt("maximize-2",z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$3=Lt("menu",V3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Wd=Lt("minimize-2",Y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],J3=Lt("palette",W3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],R2=Lt("pen-line",X3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ng=Lt("pen",Z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],p0=Lt("plus",eS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Bm=Lt("printer",tS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],P0=Lt("refresh-cw",AS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nS=Lt("rotate-ccw",rS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cc=Lt("save",sS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],iS=Lt("settings-2",aS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T1=Lt("settings",oS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ru=Lt("shield",lS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ox=Lt("square-pen",cS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],H2=Lt("stethoscope",uS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Cm=Lt("tag",dS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bi=Lt("trash-2",fS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bn=Lt("triangle-alert",hS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],M2=Lt("unlink",pS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],P2=Lt("upload",gS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ha=Lt("user-check",mS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vS=Lt("user-minus",wS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],K2=Lt("user-plus",bS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],xS=Lt("user-x",yS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D1=Lt("user",BS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sf=Lt("users",CS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Ug=Lt("wand-sparkles",ES);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ys=Lt("x",SS),lx=({slot:A,conflict:e,doctors:t,slots:n,unavailabilities:a,onClose:i,onResolve:l,onCloseSlot:f})=>{const{shiftHistory:d,activityDefinitions:h}=Z.useContext(Ni),[g,b]=Z.useState(!1),[x,w]=Z.useState([]),[S,E]=Z.useState(null),[U,_]=Z.useState(""),Q=t.find(D=>D.id===A.assignedDoctorId),L=Z.useMemo(()=>{if((e==null?void 0:e.type)==="DOUBLE_BOOKING"&&Q)return GE(A,n,Q.id)},[e,A,n,Q]),[W,X]=Z.useState(null),[re,J]=Z.useState(null);Z.useEffect(()=>{(e==null?void 0:e.type)==="DOUBLE_BOOKING"&&L?(X(null),J(null)):(X("REPLACE_CURRENT"),J(A))},[e,L,A]),Z.useEffect(()=>{if(!re||!Q)return;(async()=>{b(!0),E(null),w([]);try{const Y=rx(t,n,a,re.day,re.period,re.date).filter(Ae=>Ae.id!==Q.id);if(Y.length===0)E("Aucun autre mdecin disponible sur ce crneau.");else{const Ae=Ax(re,Q,Y,n,d,h);w(Ae)}}catch{E("Erreur lors du calcul des suggestions.")}finally{b(!1)}})()},[re,Q,t,n,a,d]);const V=(D,O,Y)=>{X(Y),J(O)},ae=D=>D.type===vt.RCP?"bg-purple-100 border-purple-200 text-purple-800":D.type===vt.ACTIVITY?"bg-orange-100 border-orange-200 text-orange-800":"bg-blue-50 border-blue-200 text-blue-800",me=D=>D.type===vt.RCP?c.jsx(Ha,{className:"w-4 h-4 mr-2"}):D.type===vt.ACTIVITY?c.jsx(M0,{className:"w-4 h-4 mr-2"}):c.jsx(pc,{className:"w-4 h-4 mr-2"});return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden flex flex-col max-h-[90vh] animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:`p-5 border-b border-slate-100 flex justify-between items-center ${e?"bg-red-50":"bg-slate-50"}`,children:[c.jsx("div",{className:"flex items-center space-x-3",children:e?c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-red-100 rounded-full mr-3",children:c.jsx(Bn,{className:"w-6 h-6 text-red-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-xl text-red-800",children:"Conflit Dtect"}),c.jsx("p",{className:"text-sm text-red-600",children:e.description})]})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ha,{className:"w-5 h-5 text-blue-600"}),c.jsx("h2",{className:"font-bold text-lg text-slate-800",children:"Grer le Crneau"})]})}),c.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 rounded-full hover:bg-black/5 p-2 transition-colors",children:c.jsx(Ys,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[(e==null?void 0:e.type)==="DOUBLE_BOOKING"&&L&&Q&&c.jsxs("div",{className:"mb-8",children:[c.jsxs("h3",{className:"text-md font-bold text-slate-700 mb-4 text-center",children:[Q.name," est assign  deux activits simultanment. Que souhaitez-vous faire ?"]}),(A.type===vt.RCP||L.type===vt.RCP)&&c.jsxs("div",{className:"mb-4 bg-purple-50 p-3 rounded-lg border border-purple-200 flex items-center justify-center text-sm text-purple-800 font-medium",children:[c.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Attention : La prsence  une RCP est prioritaire si elle a t confirme."]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative",children:[c.jsxs("div",{onClick:()=>V(A,L,"KEEP_CURRENT"),className:`relative border-2 rounded-xl p-5 cursor-pointer transition-all hover:scale-[1.02] ${W==="KEEP_CURRENT"?"border-green-500 bg-green-50 shadow-md":"border-slate-200 hover:border-slate-300"}`,children:[c.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-white px-3 py-1 text-xs font-bold text-slate-500 rounded-full border",children:"OPTION 1"}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded border flex items-center ${ae(A)}`,children:[me(A),A.type]}),W==="KEEP_CURRENT"&&c.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white",children:c.jsx(Ha,{className:"w-4 h-4"})})]}),c.jsx("h4",{className:"font-bold text-lg text-slate-800 mb-1",children:A.location}),c.jsx("p",{className:"text-sm text-slate-500 mb-4",children:A.subType}),c.jsx("button",{className:`w-full py-2 rounded-lg font-bold text-sm ${W==="KEEP_CURRENT"?"bg-green-600 text-white":"bg-slate-100 text-slate-600"}`,children:"Maintenir ici"}),c.jsxs("div",{className:"mt-2 text-xs text-center text-slate-500",children:["(Remplacer pour ",L.location,")"]})]}),c.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow border font-bold text-slate-400 text-xs",children:"VS"}),c.jsxs("div",{onClick:()=>V(L,A,"KEEP_OTHER"),className:`relative border-2 rounded-xl p-5 cursor-pointer transition-all hover:scale-[1.02] ${W==="KEEP_OTHER"?"border-green-500 bg-green-50 shadow-md":"border-slate-200 hover:border-slate-300"}`,children:[c.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-white px-3 py-1 text-xs font-bold text-slate-500 rounded-full border",children:"OPTION 2"}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded border flex items-center ${ae(L)}`,children:[me(L),L.type]}),W==="KEEP_OTHER"&&c.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white",children:c.jsx(Ha,{className:"w-4 h-4"})})]}),c.jsx("h4",{className:"font-bold text-lg text-slate-800 mb-1",children:L.location}),c.jsx("p",{className:"text-sm text-slate-500 mb-4",children:L.subType}),c.jsx("button",{className:`w-full py-2 rounded-lg font-bold text-sm ${W==="KEEP_OTHER"?"bg-green-600 text-white":"bg-slate-100 text-slate-600"}`,children:"Maintenir ici"}),c.jsxs("div",{className:"mt-2 text-xs text-center text-slate-500",children:["(Remplacer pour ",A.location,")"]})]})]})]}),W&&re&&c.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("h3",{className:"text-md font-bold text-slate-800 flex items-center",children:[c.jsx(P0,{className:"w-5 h-5 mr-2 text-blue-600"}),"Trouver un remplaant pour : ",c.jsx("span",{className:"ml-2 bg-slate-100 px-2 py-1 rounded border border-slate-200",children:re.location})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[c.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-3 flex items-center",children:[c.jsx(ix,{className:"w-4 h-4 mr-1 text-yellow-500"})," Suggestions IA / Algorithme"]}),g?c.jsx("div",{className:"flex justify-center py-10",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):S?c.jsx("div",{className:"text-center py-4 text-orange-500 text-sm bg-orange-50 rounded border border-orange-100",children:S}):x.length===0?c.jsx("div",{className:"text-center py-4 text-slate-400 text-sm",children:"Aucune suggestion automatique trouve."}):c.jsx("div",{className:"space-y-3",children:x.map(D=>{const O=t.find(Y=>Y.id===D.suggestedDoctorId);return O?c.jsxs("div",{className:"border border-white bg-white rounded-lg p-3 hover:border-blue-300 shadow-sm transition-all group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-[10px] font-bold mr-3 ${O.color}`,children:O.name.substring(0,2)}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 text-sm",children:O.name}),c.jsx("div",{className:"text-xs text-slate-500",children:O.specialty.join(", ")})]})]}),c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-bold bg-green-100 text-green-800 border border-green-200",children:[D.score,"%"]})]}),c.jsxs("p",{className:"text-xs text-slate-500 mb-3 italic pl-11",children:['"',D.reasoning,'"']}),c.jsxs("button",{onClick:()=>l(re.id,O.id),className:"w-full py-2 bg-slate-100 text-slate-700 hover:bg-blue-600 hover:text-white rounded-lg text-sm font-bold transition-colors flex items-center justify-center",children:["Choisir ",O.name]})]},D.suggestedDoctorId):null})})]}),c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex-1",children:[c.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-3 flex items-center",children:[c.jsx(D1,{className:"w-4 h-4 mr-1 text-slate-500"})," Slection Manuelle"]}),c.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Si les suggestions ne conviennent pas, choisissez un mdecin dans la liste complte."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("select",{className:"w-full text-sm border-slate-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 p-2.5",value:U,onChange:D=>_(D.target.value),children:[c.jsx("option",{value:"",children:"-- Choisir un mdecin (tri par charge) --"}),t.filter(D=>D.id!==(Q==null?void 0:Q.id)).map(D=>{const O=Vs(D);let Y=0;h.forEach(ce=>{var le;Y+=((le=d[D.id])==null?void 0:le[ce.id])||0});const Ae=n.filter(ce=>ce.assignedDoctorId===D.id).length,Ce=(Y+Ae)/O,ee=Q&&D.specialty.some(ce=>Q.specialty.includes(ce));return{doc:D,weightedScore:Ce,hasMatchingSpecialty:ee}}).sort((D,O)=>D.hasMatchingSpecialty&&!O.hasMatchingSpecialty?-1:!D.hasMatchingSpecialty&&O.hasMatchingSpecialty?1:D.weightedScore-O.weightedScore).map(({doc:D,weightedScore:O,hasMatchingSpecialty:Y})=>c.jsxs("option",{value:D.id,children:[Y?" ":"",D.name," (",D.specialty.join(", ")||"Gnral",") - Charge: ",O.toFixed(1)]},D.id))]}),c.jsx("button",{disabled:!U,onClick:()=>l(re.id,U),className:"w-full py-2.5 bg-slate-800 text-white rounded-lg text-sm font-bold hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-md transition-all",children:"Valider le choix manuel"})]})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[c.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-3 flex items-center",children:[c.jsx(ac,{className:"w-4 h-4 mr-1 text-red-500"})," Actions sur le crneau"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("button",{onClick:()=>f(re.id),className:"flex items-center justify-center px-4 py-2 border border-slate-300 bg-white text-slate-600 rounded-lg hover:bg-red-50 hover:text-red-600 hover:border-red-200 text-xs font-bold transition-colors",children:"Fermer le crneau"}),c.jsx("button",{onClick:()=>l(re.id,""),className:"flex items-center justify-center px-4 py-2 border border-slate-300 bg-white text-slate-600 rounded-lg hover:bg-orange-50 hover:text-orange-600 hover:border-orange-200 text-xs font-bold transition-colors",children:"Laisser vide"})]})]})]})]})]}),!e&&!A.isClosed&&c.jsx("div",{className:"mt-4",children:c.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Grez ce crneau normalement. Utilisez les suggestions ci-dessus ou fermez le crneau."})})]})]})})},Qg={blue:"#3b82f6",green:"#22c55e",purple:"#a855f7",yellow:"#eab308",red:"#ef4444",indigo:"#6366f1",pink:"#ec4899",orange:"#f97316",teal:"#14b8a6",cyan:"#06b6d4",gray:"#6b7280",slate:"#64748b",emerald:"#10b981",amber:"#f59e0b",lime:"#84cc16",rose:"#f43f5e",violet:"#8b5cf6",fuchsia:"#d946ef",sky:"#0ea5e9"},uc=A=>{if(!A)return"#64748b";if(A.startsWith("#"))return A;const e=A.match(/bg-(\w+)-\d+/);if(e&&Qg[e[1]])return Qg[e[1]];for(const[t,n]of Object.entries(Qg))if(A.toLowerCase().includes(t))return n;return"#64748b"},_S=()=>{const{doctors:A,unavailabilities:e,template:t,activityDefinitions:n,rcpTypes:a,shiftHistory:i,rcpAttendance:l,rcpExceptions:f,manualOverrides:d,setManualOverrides:h,dashboardViewMode:g,setDashboardViewMode:b,dashboardWeekOffset:x,setDashboardWeekOffset:w}=Z.useContext(Ni),S=Z.useMemo(()=>{const te=new Date,H=te.getDay(),N=te.getDate()-H+(H===0?-6:1);return te.setDate(N+x*7),te.setHours(0,0,0,0),te},[x]),E=g,U=b,[_,Q]=Z.useState(()=>{const te=sessionStorage.getItem("dashboard_selectedDate");return te?new Date(te):new Date}),L=te=>{sessionStorage.setItem("dashboard_selectedDate",te.toISOString()),Q(te)},[W,X]=Z.useState(null),[re,J]=Z.useState(null),V=Z.useMemo(()=>lo(S,t,e,A,n,a,!1,i,l,f).map(H=>{const N=d[H.id];return N?N==="__CLOSED__"?{...H,assignedDoctorId:null,isLocked:!0,isClosed:!0}:{...H,assignedDoctorId:N,isLocked:!0}:H}),[S,t,e,A,n,a,i,l,f,d]),ae=Z.useMemo(()=>H0(V,e,A),[V,e,A,n]),me=te=>{const H=new Date(_);if(E==="DAY"?(H.setDate(H.getDate()+(te==="next"?1:-1)),H.getDay()===0&&H.setDate(H.getDate()+(te==="next"?1:-2)),H.getDay()===6&&H.setDate(H.getDate()+(te==="next"?2:-1))):H.setDate(H.getDate()+(te==="next"?7:-7)),L(H),E==="WEEK"||E==="DAY"&&D(H)!==D(S)){const N=new Date,k=N.getDay(),P=N.getDate()-k+(k===0?-6:1),G=new Date(N);G.setDate(P),G.setHours(0,0,0,0);const z=H.getDay(),ie=H.getDate()-z+(z===0?-6:1),he=new Date(H);he.setDate(ie),he.setHours(0,0,0,0);const ue=Math.round((he.getTime()-G.getTime())/(10080*60*1e3));w(ue)}},D=te=>{const H=new Date(Date.UTC(te.getFullYear(),te.getMonth(),te.getDate())),N=H.getUTCDay()||7;H.setUTCDate(H.getUTCDate()+4-N);const k=new Date(Date.UTC(H.getUTCFullYear(),0,1));return Math.ceil(((H.getTime()-k.getTime())/864e5+1)/7)},O=te=>{const H=new Date(te.target.value);L(H);const N=new Date,k=N.getDay(),P=N.getDate()-k+(k===0?-6:1),G=new Date(N);G.setDate(P),G.setHours(0,0,0,0);const z=H.getDay(),ie=H.getDate()-z+(z===0?-6:1),he=new Date(H);he.setDate(ie),he.setHours(0,0,0,0);const ue=Math.round((he.getTime()-G.getTime())/(10080*60*1e3));w(ue)},Y=Z.useMemo(()=>{let te=[];const H=_.toISOString().split("T")[0];if(E==="DAY")te=V.filter(ue=>ue.date===H);else{const ue=new Date(S),Be=new Date(S);Be.setDate(Be.getDate()+5),te=V.filter(Qe=>{const Pe=new Date(Qe.date);return Pe>=ue&&Pe<Be})}let N=0;if(E==="DAY")N=A.filter(ue=>!e.some(Qe=>Qe.doctorId===ue.id&&Qu(H,Qe.startDate,Qe.endDate)&&(!Qe.period||Qe.period==="ALL_DAY"))).length;else{const ue=S.toISOString().split("T")[0],Be=new Date(S);Be.setDate(Be.getDate()+4);const Qe=Be.toISOString().split("T")[0];N=A.filter(Pe=>!e.some(ut=>ut.doctorId===Pe.id&&ut.startDate<=ue&&ut.endDate>=Qe&&(!ut.period||ut.period==="ALL_DAY"))).length}const k=te.filter(ue=>ue.assignedDoctorId).length,P=te.length,G=te.filter(ue=>ue.assignedDoctorId).length,z=P>0?Math.round(G/P*100):0;let ie=[];E==="DAY"?ie=ae.filter(ue=>{const Be=V.find(Qe=>Qe.id===ue.slotId);return Be&&Be.date===H}):ie=ae;let he=[];if(E==="DAY")he=e.filter(ue=>Qu(H,ue.startDate,ue.endDate));else{const ue=new Date(S);ue.setDate(ue.getDate()+4);const Be=S.toISOString().split("T")[0],Qe=ue.toISOString().split("T")[0];he=e.filter(Pe=>Pe.startDate<=Qe&&Pe.endDate>=Be)}return{presentDoctorsCount:N,totalActivities:k,occupancy:z,conflictCount:ie.length,filteredConflicts:ie,absentees:he}},[V,E,_,ae,S,e,A]),Ae=(te,H)=>{const N={...d};H===""?delete N[te]:N[te]=H,h(N),X(null),J(null)},Ce=te=>{h({...d,[te]:"__CLOSED__"}),X(null),J(null)},ee=te=>{const H=V.find(N=>N.id===te.slotId);H&&(J(H),X(te))},ce=()=>{const te=_.toISOString().split("T")[0],H=V.filter(G=>G.date===te),N=H.filter(G=>G.period===vA.MORNING),k=H.filter(G=>G.period===vA.AFTERNOON),P=G=>c.jsx("div",{className:"space-y-2",children:G.length===0?c.jsx("p",{className:"text-sm text-slate-400 italic",children:"Aucune activit prvue."}):G.map(z=>{const ie=A.find(Be=>Be.id===z.assignedDoctorId),he=z.type===vt.RCP&&z.isUnconfirmed;let ue="#e2e8f0";if(z.type===vt.RCP)ue="#a855f7";else if(z.type===vt.CONSULTATION)ue="#3b82f6";else if(z.type===vt.ACTIVITY){const Be=(z.subType||z.location||"").toLowerCase();Be.includes("astreinte")?ue="#ef4444":Be.includes("unity")?ue="#f97316":(Be.includes("workflow")||Be.includes("supervision"))&&(ue="#10b981")}return c.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg border",style:{borderLeftWidth:"4px",borderLeftColor:ue},children:[c.jsx("div",{className:"flex items-center",children:he?c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] text-yellow-700 bg-yellow-100 px-1 rounded font-bold mb-1 w-fit",children:"  confirmer"}),c.jsx("div",{className:"text-xs text-slate-600",children:[z.assignedDoctorId,...z.secondaryDoctorIds||[]].map(Be=>{var Qe;return(Qe=A.find(Pe=>Pe.id===Be))==null?void 0:Qe.name}).filter(Boolean).join(", ")})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold mr-3 text-white",style:{backgroundColor:ie?uc(ie.color):"#94a3b8"},children:ie?ie.name.substring(0,2):"?"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold text-slate-700 flex items-center",children:ie?ie.name:"Non assign"}),c.jsxs("div",{className:"text-xs text-slate-500",children:[z.type," ",z.subType&&` ${z.subType}`]})]})]})}),c.jsx("div",{className:"text-xs font-bold bg-white px-2 py-1 rounded border border-slate-200 text-slate-600",children:z.location})]},z.id)})});return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-full overflow-hidden",children:[c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"p-3 bg-yellow-50 border-b border-yellow-100 text-yellow-800 font-bold uppercase text-xs tracking-wider flex items-center",children:[c.jsx(fl,{className:"w-4 h-4 mr-2"})," Matin"]}),c.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:P(N)})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"p-3 bg-indigo-50 border-b border-indigo-100 text-indigo-800 font-bold uppercase text-xs tracking-wider flex items-center",children:[c.jsx(fl,{className:"w-4 h-4 mr-2"})," Aprs-midi"]}),c.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:P(k)})]})]})},le=()=>{const te=Object.values(rr);return c.jsx("div",{className:"overflow-x-auto pb-2",children:c.jsx("div",{className:"grid grid-cols-5 gap-3 min-w-[700px]",children:te.map(H=>{const N=Ws(S,H),k=N===new Date().toISOString().split("T")[0],P=V.filter(Be=>Be.date===N),G=P.find(Be=>{var Qe,Pe;return Be.type===vt.ACTIVITY&&(((Qe=Be.subType)==null?void 0:Qe.toLowerCase().includes("astreinte"))||((Pe=Be.location)==null?void 0:Pe.toLowerCase().includes("astreinte")))}),z=P.find(Be=>{var Qe,Pe;return Be.type===vt.ACTIVITY&&(((Qe=Be.subType)==null?void 0:Qe.toLowerCase().includes("unity"))||((Pe=Be.location)==null?void 0:Pe.toLowerCase().includes("unity")))}),ie=A.find(Be=>Be.id===(G==null?void 0:G.assignedDoctorId)),he=A.find(Be=>Be.id===(z==null?void 0:z.assignedDoctorId)),ue=P.filter(Be=>Be.type===vt.RCP);return c.jsxs("div",{className:`flex flex-col border rounded-lg overflow-hidden ${k?"ring-2 ring-blue-400 border-blue-400":"bg-slate-50 border-slate-200"}`,children:[c.jsxs("div",{className:`text-xs font-bold text-center py-2 uppercase ${k?"bg-blue-500 text-white":"bg-slate-200 text-slate-700"}`,children:[H," ",c.jsx("span",{className:"block text-[9px] font-normal opacity-80",children:N.split("-").slice(1).reverse().join("/")})]}),c.jsxs("div",{className:"p-2 space-y-2 flex-1 bg-white",children:[c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Cls"}),c.jsxs("div",{className:"flex items-center justify-between bg-red-50 p-1.5 rounded border border-red-200 border-l-4 border-l-red-500",children:[c.jsx("span",{className:"text-[9px] text-red-700 font-bold",children:"Astreinte"}),c.jsx("span",{className:"text-[9px] text-slate-800 truncate max-w-[60px]",children:(ie==null?void 0:ie.name)||"-"})]}),c.jsxs("div",{className:"flex items-center justify-between bg-orange-50 p-1.5 rounded border border-orange-200 border-l-4 border-l-orange-500",children:[c.jsx("span",{className:"text-[9px] text-orange-700 font-bold",children:"UNITY"}),c.jsx("span",{className:"text-[9px] text-slate-800 truncate max-w-[60px]",children:(he==null?void 0:he.name)||"-"})]}),c.jsx("div",{className:"h-px bg-slate-100 my-2"}),(()=>{const Be=P.find(Pe=>Pe.type===vt.ACTIVITY&&Pe.activityId&&n.find(ot=>ot.id===Pe.activityId&&ot.equityGroup==="workflow")),Qe=A.find(Pe=>Pe.id===(Be==null?void 0:Be.assignedDoctorId));return Be||Qe?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between bg-emerald-50 p-1.5 rounded border border-emerald-200 border-l-4 border-l-emerald-500",children:[c.jsx("span",{className:"text-[9px] text-emerald-700 font-bold",children:"Workflow"}),c.jsx("span",{className:"text-[9px] text-slate-800 truncate max-w-[60px]",children:(Qe==null?void 0:Qe.name)||"-"})]}),c.jsx("div",{className:"h-px bg-slate-100 my-2"})]}):null})(),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1",children:"RCPs"}),ue.length===0?c.jsx("span",{className:"text-[9px] text-slate-300 italic",children:"Aucune"}):c.jsx("div",{className:"space-y-1",children:ue.map(Be=>{const Qe=A.find(Pe=>Pe.id===Be.assignedDoctorId);if(Be.isUnconfirmed){const Pe=[Be.assignedDoctorId,...Be.secondaryDoctorIds||[]].map(ot=>{var ut;return(ut=A.find(Te=>Te.id===ot))==null?void 0:ut.name}).filter(Boolean);return c.jsxs("div",{className:"flex flex-col bg-yellow-50 p-1 rounded border border-yellow-100 border-l-4 border-l-yellow-500",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-[8px] text-purple-700 font-bold truncate max-w-[50px]",children:Be.location}),c.jsx("span",{className:"text-[8px] text-yellow-700 font-bold",children:"  confirmer"})]}),c.jsx("div",{className:"flex flex-wrap gap-0.5",children:Pe.map(ot=>c.jsx("span",{className:"text-[7px] bg-white border px-1 rounded text-slate-600",children:ot},ot))})]},Be.id)}return c.jsxs("div",{className:"flex justify-between items-center bg-purple-50 p-1 rounded border border-purple-200 border-l-4 border-l-purple-500",children:[c.jsx("span",{className:"text-[8px] text-purple-700 font-bold truncate max-w-[50px]",children:Be.location}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-[8px] text-slate-700 font-medium truncate max-w-[60px]",children:(Qe==null?void 0:Qe.name)||"-"}),c.jsx("span",{className:"ml-1 text-[8px] text-green-600",children:""})]})]},Be.id)})}),c.jsx("div",{className:"h-px bg-slate-100 my-2"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-[10px] text-slate-500",children:"Consultations"}),c.jsx("span",{className:"text-[10px] font-bold bg-blue-100 text-blue-700 px-1.5 rounded border border-blue-200",children:P.filter(Be=>Be.type===vt.CONSULTATION).length})]})]})]},H)})})})},Ne=Z.useMemo(()=>{const te=_.toISOString().split("T")[0],H=V.filter(P=>P.date===te),N={[vA.MORNING]:[],[vA.AFTERNOON]:[]},k=n.filter(P=>P.type==="WEEKLY").map(P=>P.id);return[vA.MORNING,vA.AFTERNOON].forEach(P=>{const G=H.filter(z=>z.period===P).filter(z=>!z.activityId||!k.includes(z.activityId)).flatMap(z=>[z.assignedDoctorId,...z.secondaryDoctorIds||[]]).filter(Boolean);N[P]=A.filter(z=>{if(G.includes(z.id)||e.some(Be=>!(Be.doctorId!==z.id||!Qu(te,Be.startDate,Be.endDate)||Be.period&&Be.period!=="ALL_DAY"&&Be.period!==P)))return!1;const he=_.toLocaleDateString("fr-FR",{weekday:"long"}),ue=Object.values(rr).find(Be=>Be.toLowerCase()===he.toLowerCase());return!(ue&&z.excludedDays.includes(ue))})}),N},[V,A,e,_,n]);return c.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[c.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[c.jsxs("button",{onClick:()=>U("DAY"),className:`px-3 py-2 flex items-center text-xs font-bold rounded-md transition-all ${E==="DAY"?"bg-white shadow text-blue-700":"text-slate-500 hover:bg-slate-200"}`,children:[c.jsx(j3,{className:"w-4 h-4 mr-2"})," Vue Jour"]}),c.jsxs("button",{onClick:()=>U("WEEK"),className:`px-3 py-2 flex items-center text-xs font-bold rounded-md transition-all ${E==="WEEK"?"bg-white shadow text-blue-700":"text-slate-500 hover:bg-slate-200"}`,children:[c.jsx(ax,{className:"w-4 h-4 mr-2"})," Vue Semaine"]})]}),c.jsx("div",{children:c.jsx("h1",{className:"text-xl font-bold text-slate-800 capitalize",children:E==="DAY"?_.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):`Semaine du ${S.toLocaleDateString("fr-FR")}`})})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>me("prev"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-600 border border-slate-200",children:c.jsx(ku,{className:"w-5 h-5"})}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",className:"pl-8 pr-2 py-1.5 border border-slate-300 rounded-md text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500",value:_.toISOString().split("T")[0],onChange:O}),c.jsx(pc,{className:"w-4 h-4 text-slate-400 absolute left-2.5 top-2.5 pointer-events-none"})]}),c.jsx("button",{onClick:()=>me("next"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-600 border border-slate-200",children:c.jsx(gc,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(dh,{title:E==="DAY"?"Mdecins Prsents":"Effectif Dispo (Semaine)",value:Y.presentDoctorsCount,icon:sf,color:"bg-blue-500",description:`Disponibles sur ${A.length} effectifs`}),c.jsx(dh,{title:E==="DAY"?"Conflits (Jour)":"Conflits (Semaine)",value:Y.conflictCount,icon:Bn,color:Y.conflictCount>0?"bg-red-500":"bg-green-500",description:Y.conflictCount>0?"Action requise":"Tout est calme"}),c.jsx(dh,{title:E==="DAY"?"Activits Prvues":"Total Crneaux",value:Y.totalActivities,icon:M0,color:"bg-orange-500",description:E==="DAY"?"Consultations & RCP":"Charge globale"}),c.jsx(dh,{title:"Taux de Remplissage",value:`${Y.occupancy}%`,icon:fl,color:"bg-purple-500",description:"Crneaux assigns"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 min-h-0",children:[c.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-4 overflow-hidden max-h-[600px] overflow-y-auto",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col shrink-0",children:[c.jsx("div",{className:"p-4 border-b border-slate-100 bg-red-50/50",children:c.jsxs("h2",{className:"font-bold text-slate-800 flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx(Bn,{className:"w-5 h-5 mr-2 text-red-500"}),"Alertes ",E==="DAY"?"du jour":"de la semaine"]}),c.jsx("span",{className:"text-xs bg-red-200 text-red-800 px-2 py-0.5 rounded-full",children:Y.filteredConflicts.length})]})}),c.jsx("div",{className:"p-4 max-h-80 overflow-y-auto space-y-3",children:Y.filteredConflicts.length===0?c.jsx("div",{className:"flex flex-col items-center justify-center h-20 text-slate-400",children:c.jsx("span",{className:"text-sm",children:"Aucun conflit dtect."})}):Y.filteredConflicts.map(te=>{const H=A.find(P=>P.id===te.doctorId),N=V.find(P=>P.id===te.slotId);let k="";return N&&(k=`${N.location||N.subType}`),c.jsxs("div",{onClick:()=>ee(te),className:"p-3 bg-white border border-red-100 rounded-lg shadow-sm hover:border-red-300 hover:shadow-md transition-all cursor-pointer relative group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-red-600 bg-red-50 px-2 py-0.5 rounded-full border border-red-100 uppercase",children:te.type==="DOUBLE_BOOKING"?"Double Rservation":"Indisponibilit"}),c.jsxs("span",{className:"text-[10px] text-slate-400 font-mono",children:[N==null?void 0:N.day.substring(0,3)," ",(N==null?void 0:N.period)===vA.MORNING?"AM":"PM"]})]}),c.jsxs("div",{className:"flex items-center mt-2",children:[c.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[9px] font-bold mr-2 text-white",style:{backgroundColor:uc(H==null?void 0:H.color)},children:"Dr"}),c.jsx("p",{className:"text-sm font-bold text-slate-700",children:(H==null?void 0:H.name)||"Inconnu"})]}),c.jsx("p",{className:"text-xs text-slate-500 mt-1 pl-8",children:te.description}),k&&c.jsx("div",{className:"mt-2 pl-8",children:c.jsx("span",{className:"text-[10px] font-medium text-slate-600 bg-slate-100 px-2 py-1 rounded",children:k})}),c.jsx("div",{className:"absolute inset-0 bg-blue-500/0 group-hover:bg-blue-500/5 rounded-lg transition-colors pointer-events-none"}),c.jsx("div",{className:"absolute right-2 bottom-2 text-xs text-blue-600 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:"Rsoudre "})]},te.id)})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col shrink-0",children:[c.jsx("div",{className:"p-3 border-b border-slate-100 bg-slate-50",children:c.jsxs("h2",{className:"font-bold text-slate-700 flex items-center text-sm",children:[c.jsx(vS,{className:"w-4 h-4 mr-2 text-slate-500"}),"Mdecins Non Posts (Ce jour)"]})}),c.jsxs("div",{className:"p-3 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase mb-2",children:"Matin"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Ne[vA.MORNING].length===0?c.jsx("span",{className:"text-xs text-slate-400 italic",children:"Tous occups"}):Ne[vA.MORNING].map(te=>c.jsx("div",{className:"text-[10px] px-2 py-1 rounded border bg-white text-slate-600 border-slate-200",children:te.name},te.id))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase mb-2",children:"Aprs-Midi"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Ne[vA.AFTERNOON].length===0?c.jsx("span",{className:"text-xs text-slate-400 italic",children:"Tous occups"}):Ne[vA.AFTERNOON].map(te=>c.jsx("div",{className:"text-[10px] px-2 py-1 rounded border bg-white text-slate-600 border-slate-200",children:te.name},te.id))})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col shrink-0",children:[c.jsx("div",{className:"p-3 border-b border-slate-100 bg-slate-50",children:c.jsxs("h2",{className:"font-bold text-slate-700 flex items-center text-sm",children:[c.jsx(xS,{className:"w-4 h-4 mr-2 text-slate-500"}),"Mdecins Absents"]})}),c.jsx("div",{className:"p-3 max-h-40 overflow-y-auto space-y-2",children:Y.absentees.length===0?c.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:c.jsx("span",{className:"text-xs",children:"Tout le monde est prsent."})}):Y.absentees.map(te=>{const H=A.find(N=>N.id===te.doctorId);return c.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded border border-slate-100",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[9px] font-bold mr-2 opacity-50 text-white",style:{backgroundColor:uc(H==null?void 0:H.color)},children:"Dr"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold text-slate-600",children:H==null?void 0:H.name}),c.jsxs("div",{className:"text-[10px] text-slate-400 uppercase font-bold flex items-center",children:[te.reason,te.period&&te.period!=="ALL_DAY"&&c.jsx("span",{className:"ml-1 text-[9px] bg-slate-100 text-slate-500 px-1 rounded uppercase",children:te.period==="Matin"?"AM":"PM"})]})]})]}),c.jsx("div",{className:"text-[10px] text-slate-500 bg-white px-2 py-1 rounded border",children:te.startDate===te.endDate?te.startDate:`Jusqu'au ${te.endDate.split("-").slice(1).reverse().join("/")}`})]},te.id)})})]})]}),c.jsx("div",{className:"lg:col-span-2 flex flex-col min-h-0",children:E==="DAY"?ce():le()})]}),re&&c.jsx(lx,{slot:re,conflict:W||void 0,doctors:A,slots:V,unavailabilities:e,onClose:()=>{J(null),X(null)},onResolve:Ae,onCloseSlot:Ce})]})},NS=({slot:A,conflict:e,doctors:t,slots:n,unavailabilities:a,onClose:i,onResolve:l,onCloseSlot:f})=>{const[d,h]=Z.useState(!1),[g,b]=Z.useState([]),[x,w]=Z.useState(null),[S,E]=Z.useState(""),U=t.find(_=>_.id===A.assignedDoctorId);return Z.useEffect(()=>{(async()=>{const Q=U||t[0];if(Q){h(!0),w(null);try{const L=rx(t,n,a,A.day,A.period,A.date);if(L.length===0)w("Aucun mdecin disponible sur ce crneau.");else{const W=Ax(A,Q,L,n);b(W)}}catch{w("Erreur lors du calcul des suggestions.")}finally{h(!1)}}})()},[A]),c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh] animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:`p-5 border-b border-slate-100 flex justify-between items-center ${e?"bg-red-50":"bg-slate-50"}`,children:[c.jsx("div",{className:"flex items-center space-x-2",children:e?c.jsxs(c.Fragment,{children:[c.jsx(Bn,{className:"w-5 h-5 text-red-600"}),c.jsx("h2",{className:"font-bold text-lg text-red-800",children:"Conflit dtect"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ha,{className:"w-5 h-5 text-blue-600"}),c.jsx("h2",{className:"font-bold text-lg text-slate-800",children:"Grer le Crneau"})]})}),c.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 rounded-full hover:bg-black/5 p-1",children:c.jsx(Ys,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto",children:[c.jsxs("div",{className:"mb-6 flex items-center justify-between bg-slate-50 p-3 rounded border border-slate-200",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase",children:[A.day," ",A.period==="Matin"?"Matin":"Aprs-Midi"]}),c.jsxs("div",{className:"font-bold text-slate-800 text-sm",children:[A.location," ",A.subType&&A.subType!==A.location?`(${A.subType})`:""]})]}),A.isClosed?c.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs font-bold rounded flex items-center",children:[c.jsx(lc,{className:"w-3 h-3 mr-1"})," Ferm"]}):c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Actuellement :"}),c.jsx("div",{className:`font-bold ${U?"text-blue-600":"text-slate-400"}`,children:U?U.name:"Non assign"})]})]}),e&&c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-sm text-slate-500 mb-1 font-bold",children:"Nature du conflit :"}),c.jsx("p",{className:"font-medium text-red-700 bg-red-50 p-3 rounded border border-red-100 text-sm",children:e.description})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[A.isClosed?c.jsxs("button",{onClick:()=>l(A.id,""),className:"flex items-center justify-center px-4 py-2 border border-blue-300 text-blue-600 rounded hover:bg-blue-50 text-sm font-medium transition-colors",children:[c.jsx(lc,{className:"w-4 h-4 mr-2"}),"Rouvrir"]}):c.jsxs("button",{onClick:()=>f(A.id),className:"flex items-center justify-center px-4 py-2 border border-slate-300 text-slate-600 rounded hover:bg-slate-100 hover:text-slate-800 text-sm font-medium transition-colors",children:[c.jsx(ac,{className:"w-4 h-4 mr-2"}),"Fermer le crneau"]}),A.isLocked&&!A.isClosed&&c.jsxs("button",{onClick:()=>l(A.id,""),className:"flex items-center justify-center px-4 py-2 border border-orange-300 text-orange-600 rounded hover:bg-orange-50 text-sm font-medium transition-colors",children:[c.jsx(P0,{className:"w-4 h-4 mr-2"}),"Reset (Auto)"]})]}),!A.isClosed&&c.jsxs(c.Fragment,{children:[c.jsxs("h3",{className:"text-sm font-semibold text-slate-900 uppercase tracking-wider mb-3 flex items-center",children:[c.jsx(ix,{className:"w-4 h-4 mr-2 text-yellow-500"}),"Suggestions Intelligentes"]}),d&&c.jsx("div",{className:"flex justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),!d&&x&&c.jsx("div",{className:"text-center py-2 text-orange-500 text-sm mb-4 bg-orange-50 rounded",children:x}),!d&&!x&&g.length>0&&c.jsx("div",{className:"space-y-3 mb-6",children:g.map(_=>{const Q=t.find(L=>L.id===_.suggestedDoctorId);return Q?c.jsxs("div",{className:"border border-slate-200 rounded-lg p-3 hover:border-blue-300 transition-colors bg-white",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold mr-2 ${Q.color}`,children:Q.name.substring(0,2)}),c.jsx("span",{className:"font-bold text-slate-800 text-sm",children:Q.name})]}),c.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-green-100 text-green-800",children:[_.score,"% Match"]})]}),c.jsxs("p",{className:"text-xs text-slate-600 mb-2 italic",children:['"',_.reasoning,'"']}),c.jsxs("button",{onClick:()=>l(A.id,Q.id),className:"w-full py-1.5 px-3 bg-blue-50 text-blue-700 hover:bg-blue-100 rounded text-xs font-bold",children:["Affecter ",Q.name]})]},_.suggestedDoctorId):null})}),c.jsxs("div",{className:"border-t border-slate-100 pt-4",children:[c.jsxs("h3",{className:"text-sm font-semibold text-slate-900 uppercase tracking-wider mb-3 flex items-center",children:[c.jsx(D1,{className:"w-4 h-4 mr-2 text-slate-600"}),"Slection Manuelle"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{className:"flex-1 text-sm border-slate-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:S,onChange:_=>E(_.target.value),children:[c.jsx("option",{value:"",children:"-- Choisir un mdecin --"}),t.map(_=>c.jsx("option",{value:_.id,children:_.name},_.id))]}),c.jsx("button",{disabled:!S,onClick:()=>l(A.id,S),className:"px-4 py-2 bg-slate-800 text-white rounded-md text-sm font-medium hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Valider"})]})]})]})]})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Em=function(A,e){return Em=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Em(A,e)};function Ma(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Em(A,e);function t(){this.constructor=A}A.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Sm=function(){return Sm=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Sm.apply(this,arguments)};function ns(A,e,t,n){function a(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function f(g){try{h(n.next(g))}catch(b){l(b)}}function d(g){try{h(n.throw(g))}catch(b){l(b)}}function h(g){g.done?i(g.value):a(g.value).then(f,d)}h((n=n.apply(A,[])).next())})}function zn(A,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,a=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){t.label=h[1];break}if(h[0]===6&&t.label<i[1]){t.label=i[1],i=h;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(h);break}i[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(A,t)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function fh(A,e,t){if(arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return A.concat(i||e)}var fo=(function(){function A(e,t,n,a){this.left=e,this.top=t,this.width=n,this.height=a}return A.prototype.add=function(e,t,n,a){return new A(this.left+e,this.top+t,this.width+n,this.height+a)},A.fromClientRect=function(e,t){return new A(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},A.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(a){return a.width!==0});return n?new A(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):A.EMPTY},A.EMPTY=new A(0,0,0,0),A})(),K0=function(A,e){return fo.fromClientRect(A,e.getBoundingClientRect())},US=function(A){var e=A.body,t=A.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),a=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new fo(0,0,n,a)},q0=function(A){for(var e=[],t=0,n=A.length;t<n;){var a=A.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var i=A.charCodeAt(t++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},qr=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var n=[],a=-1,i="";++a<t;){var l=A[a];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(a+1===t||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},q2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",QS=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hh=0;hh<q2.length;hh++)QS[q2.charCodeAt(hh)]=hh;var G2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Md=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ph=0;ph<G2.length;ph++)Md[G2.charCodeAt(ph)]=ph;var FS=function(A){var e=A.length*.75,t=A.length,n,a=0,i,l,f,d;A[A.length-1]==="="&&(e--,A[A.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<t;n+=4)i=Md[A.charCodeAt(n)],l=Md[A.charCodeAt(n+1)],f=Md[A.charCodeAt(n+2)],d=Md[A.charCodeAt(n+3)],g[a++]=i<<2|l>>4,g[a++]=(l&15)<<4|f>>2,g[a++]=(f&3)<<6|d&63;return h},jS=function(A){for(var e=A.length,t=[],n=0;n<e;n+=2)t.push(A[n+1]<<8|A[n]);return t},LS=function(A){for(var e=A.length,t=[],n=0;n<e;n+=4)t.push(A[n+3]<<24|A[n+2]<<16|A[n+1]<<8|A[n]);return t},dc=5,O1=11,Fg=2,IS=O1-dc,cx=65536>>dc,TS=1<<dc,jg=TS-1,DS=1024>>dc,OS=cx+DS,kS=OS,RS=32,HS=kS+RS,MS=65536>>O1,PS=1<<IS,KS=PS-1,z2=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},qS=function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))},GS=function(A,e){var t=FS(A),n=Array.isArray(t)?LS(t):new Uint32Array(t),a=Array.isArray(t)?jS(t):new Uint16Array(t),i=24,l=z2(a,i/2,n[4]/2),f=n[5]===2?z2(a,(i+n[4])/2):qS(n,Math.ceil((i+n[4])/4));return new zS(n[0],n[1],n[2],n[3],l,f)},zS=(function(){function A(e,t,n,a,i,l){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=l}return A.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>dc],t=(t<<Fg)+(e&jg),this.data[t];if(e<=65535)return t=this.index[cx+(e-55296>>dc)],t=(t<<Fg)+(e&jg),this.data[t];if(e<this.highStart)return t=HS-MS+(e>>O1),t=this.index[t],t+=e>>dc&KS,t=this.index[t],t=(t<<Fg)+(e&jg),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A})(),V2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",VS=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gh=0;gh<V2.length;gh++)VS[V2.charCodeAt(gh)]=gh;var $S="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",$2=50,YS=1,ux=2,dx=3,WS=4,JS=5,Y2=7,fx=8,W2=9,ll=10,_m=11,J2=12,Nm=13,XS=14,Pd=15,Um=16,mh=17,Ld=18,ZS=19,X2=20,Qm=21,Id=22,Lg=23,lu=24,zs=25,Kd=26,qd=27,cu=28,e_=29,Ac=30,t_=31,wh=32,vh=33,Fm=34,jm=35,Lm=36,af=37,Im=38,A0=39,r0=40,Ig=41,hx=42,A_=43,r_=[9001,65288],px="!",QA="",bh="",Tm=GS($S),Ao=[Ac,Lm],Dm=[YS,ux,dx,JS],gx=[ll,fx],Z2=[qd,Kd],n_=Dm.concat(gx),eb=[Im,A0,r0,Fm,jm],s_=[Pd,Nm],a_=function(A,e){e===void 0&&(e="strict");var t=[],n=[],a=[];return A.forEach(function(i,l){var f=Tm.get(i);if(f>$2?(a.push(!0),f-=$2):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(l),t.push(Um);if(f===WS||f===_m){if(l===0)return n.push(l),t.push(Ac);var d=t[l-1];return n_.indexOf(d)===-1?(n.push(n[l-1]),t.push(d)):(n.push(l),t.push(Ac))}if(n.push(l),f===t_)return t.push(e==="strict"?Qm:af);if(f===hx||f===e_)return t.push(Ac);if(f===A_)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(af):t.push(Ac);t.push(f)}),[n,t,a]},Tg=function(A,e,t,n){var a=n[t];if(Array.isArray(A)?A.indexOf(a)!==-1:A===a)for(var i=t;i<=n.length;){i++;var l=n[i];if(l===e)return!0;if(l!==ll)break}if(a===ll)for(var i=t;i>0;){i--;var f=n[i];if(Array.isArray(A)?A.indexOf(f)!==-1:A===f)for(var d=t;d<=n.length;){d++;var l=n[d];if(l===e)return!0;if(l!==ll)break}if(f!==ll)break}return!1},tb=function(A,e){for(var t=A;t>=0;){var n=e[t];if(n===ll)t--;else return n}return 0},i_=function(A,e,t,n,a){if(t[n]===0)return QA;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return QA;var l=i-1,f=i+1,d=e[i],h=l>=0?e[l]:0,g=e[f];if(d===ux&&g===dx)return QA;if(Dm.indexOf(d)!==-1)return px;if(Dm.indexOf(g)!==-1||gx.indexOf(g)!==-1)return QA;if(tb(i,e)===fx)return bh;if(Tm.get(A[i])===_m||(d===wh||d===vh)&&Tm.get(A[f])===_m||d===Y2||g===Y2||d===W2||[ll,Nm,Pd].indexOf(d)===-1&&g===W2||[mh,Ld,ZS,lu,cu].indexOf(g)!==-1||tb(i,e)===Id||Tg(Lg,Id,i,e)||Tg([mh,Ld],Qm,i,e)||Tg(J2,J2,i,e))return QA;if(d===ll)return bh;if(d===Lg||g===Lg)return QA;if(g===Um||d===Um)return bh;if([Nm,Pd,Qm].indexOf(g)!==-1||d===XS||h===Lm&&s_.indexOf(d)!==-1||d===cu&&g===Lm||g===X2||Ao.indexOf(g)!==-1&&d===zs||Ao.indexOf(d)!==-1&&g===zs||d===qd&&[af,wh,vh].indexOf(g)!==-1||[af,wh,vh].indexOf(d)!==-1&&g===Kd||Ao.indexOf(d)!==-1&&Z2.indexOf(g)!==-1||Z2.indexOf(d)!==-1&&Ao.indexOf(g)!==-1||[qd,Kd].indexOf(d)!==-1&&(g===zs||[Id,Pd].indexOf(g)!==-1&&e[f+1]===zs)||[Id,Pd].indexOf(d)!==-1&&g===zs||d===zs&&[zs,cu,lu].indexOf(g)!==-1)return QA;if([zs,cu,lu,mh,Ld].indexOf(g)!==-1)for(var b=i;b>=0;){var x=e[b];if(x===zs)return QA;if([cu,lu].indexOf(x)!==-1)b--;else break}if([qd,Kd].indexOf(g)!==-1)for(var b=[mh,Ld].indexOf(d)!==-1?l:i;b>=0;){var x=e[b];if(x===zs)return QA;if([cu,lu].indexOf(x)!==-1)b--;else break}if(Im===d&&[Im,A0,Fm,jm].indexOf(g)!==-1||[A0,Fm].indexOf(d)!==-1&&[A0,r0].indexOf(g)!==-1||[r0,jm].indexOf(d)!==-1&&g===r0||eb.indexOf(d)!==-1&&[X2,Kd].indexOf(g)!==-1||eb.indexOf(g)!==-1&&d===qd||Ao.indexOf(d)!==-1&&Ao.indexOf(g)!==-1||d===lu&&Ao.indexOf(g)!==-1||Ao.concat(zs).indexOf(d)!==-1&&g===Id&&r_.indexOf(A[f])===-1||Ao.concat(zs).indexOf(g)!==-1&&d===Ld)return QA;if(d===Ig&&g===Ig){for(var w=t[i],S=1;w>0&&(w--,e[w]===Ig);)S++;if(S%2!==0)return QA}return d===wh&&g===vh?QA:bh},o_=function(A,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=a_(A,e.lineBreak),n=t[0],a=t[1],i=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(f){return[zs,Ac,hx].indexOf(f)!==-1?af:f}));var l=e.wordBreak==="keep-all"?i.map(function(f,d){return f&&A[d]>=19968&&A[d]<=40959}):void 0;return[n,a,l]},l_=(function(){function A(e,t,n,a){this.codePoints=e,this.required=t===px,this.start=n,this.end=a}return A.prototype.slice=function(){return qr.apply(void 0,this.codePoints.slice(this.start,this.end))},A})(),c_=function(A,e){var t=q0(A),n=o_(t,e),a=n[0],i=n[1],l=n[2],f=t.length,d=0,h=0;return{next:function(){if(h>=f)return{done:!0,value:null};for(var g=QA;h<f&&(g=i_(t,i,a,++h,l))===QA;);if(g!==QA||h===f){var b=new l_(t,g,d,h);return d=h,{value:b,done:!1}}return{done:!0,value:null}}}},u_=1,d_=2,wf=4,Ab=8,g0=10,rb=47,Jd=92,f_=9,h_=32,yh=34,Td=61,p_=35,g_=36,m_=37,xh=39,Bh=40,Dd=41,w_=95,Us=45,v_=33,b_=60,y_=62,x_=64,B_=91,C_=93,E_=61,S_=123,Ch=63,__=125,nb=124,N_=126,U_=128,sb=65533,Dg=42,ic=43,Q_=44,F_=58,j_=59,of=46,L_=0,I_=8,T_=11,D_=14,O_=31,k_=127,mi=-1,mx=48,wx=97,vx=101,R_=102,H_=117,M_=122,bx=65,yx=69,xx=70,P_=85,K_=90,Vn=function(A){return A>=mx&&A<=57},q_=function(A){return A>=55296&&A<=57343},uu=function(A){return Vn(A)||A>=bx&&A<=xx||A>=wx&&A<=R_},G_=function(A){return A>=wx&&A<=M_},z_=function(A){return A>=bx&&A<=K_},V_=function(A){return G_(A)||z_(A)},$_=function(A){return A>=U_},Eh=function(A){return A===g0||A===f_||A===h_},m0=function(A){return V_(A)||$_(A)||A===w_},ab=function(A){return m0(A)||Vn(A)||A===Us},Y_=function(A){return A>=L_&&A<=I_||A===T_||A>=D_&&A<=O_||A===k_},sl=function(A,e){return A!==Jd?!1:e!==g0},Sh=function(A,e,t){return A===Us?m0(e)||sl(e,t):m0(A)?!0:!!(A===Jd&&sl(A,e))},Og=function(A,e,t){return A===ic||A===Us?Vn(e)?!0:e===of&&Vn(t):Vn(A===of?e:A)},W_=function(A){var e=0,t=1;(A[e]===ic||A[e]===Us)&&(A[e]===Us&&(t=-1),e++);for(var n=[];Vn(A[e]);)n.push(A[e++]);var a=n.length?parseInt(qr.apply(void 0,n),10):0;A[e]===of&&e++;for(var i=[];Vn(A[e]);)i.push(A[e++]);var l=i.length,f=l?parseInt(qr.apply(void 0,i),10):0;(A[e]===yx||A[e]===vx)&&e++;var d=1;(A[e]===ic||A[e]===Us)&&(A[e]===Us&&(d=-1),e++);for(var h=[];Vn(A[e]);)h.push(A[e++]);var g=h.length?parseInt(qr.apply(void 0,h),10):0;return t*(a+f*Math.pow(10,-l))*Math.pow(10,d*g)},J_={type:2},X_={type:3},Z_={type:4},eN={type:13},tN={type:8},AN={type:21},rN={type:9},nN={type:10},sN={type:11},aN={type:12},iN={type:14},_h={type:23},oN={type:1},lN={type:25},cN={type:24},uN={type:26},dN={type:27},fN={type:28},hN={type:29},pN={type:31},Om={type:32},Bx=(function(){function A(){this._value=[]}return A.prototype.write=function(e){this._value=this._value.concat(q0(e))},A.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Om;)e.push(t),t=this.consumeToken();return e},A.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case yh:return this.consumeStringToken(yh);case p_:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(ab(t)||sl(n,a)){var i=Sh(t,n,a)?d_:u_,l=this.consumeName();return{type:5,value:l,flags:i}}break;case g_:if(this.peekCodePoint(0)===Td)return this.consumeCodePoint(),eN;break;case xh:return this.consumeStringToken(xh);case Bh:return J_;case Dd:return X_;case Dg:if(this.peekCodePoint(0)===Td)return this.consumeCodePoint(),iN;break;case ic:if(Og(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Q_:return Z_;case Us:var f=e,d=this.peekCodePoint(0),h=this.peekCodePoint(1);if(Og(f,d,h))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Sh(f,d,h))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(d===Us&&h===y_)return this.consumeCodePoint(),this.consumeCodePoint(),cN;break;case of:if(Og(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case rb:if(this.peekCodePoint(0)===Dg)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===Dg&&(g=this.consumeCodePoint(),g===rb))return this.consumeToken();if(g===mi)return this.consumeToken()}break;case F_:return uN;case j_:return dN;case b_:if(this.peekCodePoint(0)===v_&&this.peekCodePoint(1)===Us&&this.peekCodePoint(2)===Us)return this.consumeCodePoint(),this.consumeCodePoint(),lN;break;case x_:var b=this.peekCodePoint(0),x=this.peekCodePoint(1),w=this.peekCodePoint(2);if(Sh(b,x,w)){var l=this.consumeName();return{type:7,value:l}}break;case B_:return fN;case Jd:if(sl(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case C_:return hN;case E_:if(this.peekCodePoint(0)===Td)return this.consumeCodePoint(),tN;break;case S_:return sN;case __:return aN;case H_:case P_:var S=this.peekCodePoint(0),E=this.peekCodePoint(1);return S===ic&&(uu(E)||E===Ch)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case nb:if(this.peekCodePoint(0)===Td)return this.consumeCodePoint(),rN;if(this.peekCodePoint(0)===nb)return this.consumeCodePoint(),AN;break;case N_:if(this.peekCodePoint(0)===Td)return this.consumeCodePoint(),nN;break;case mi:return Om}return Eh(e)?(this.consumeWhiteSpace(),pN):Vn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):m0(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:qr(e)}},A.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},A.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},A.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},A.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();uu(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Ch&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(qr.apply(void 0,e.map(function(d){return d===Ch?mx:d})),16),i=parseInt(qr.apply(void 0,e.map(function(d){return d===Ch?xx:d})),16);return{type:30,start:a,end:i}}var l=parseInt(qr.apply(void 0,e),16);if(this.peekCodePoint(0)===Us&&uu(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var f=[];uu(t)&&f.length<6;)f.push(t),t=this.consumeCodePoint();var i=parseInt(qr.apply(void 0,f),16);return{type:30,start:l,end:i}}else return{type:30,start:l,end:l}},A.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Bh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Bh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},A.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===mi)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===xh||t===yh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===mi||this.peekCodePoint(0)===Dd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),_h)}for(;;){var a=this.consumeCodePoint();if(a===mi||a===Dd)return{type:22,value:qr.apply(void 0,e)};if(Eh(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===mi||this.peekCodePoint(0)===Dd?(this.consumeCodePoint(),{type:22,value:qr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),_h);if(a===yh||a===xh||a===Bh||Y_(a))return this.consumeBadUrlRemnants(),_h;if(a===Jd)if(sl(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),_h;else e.push(a)}},A.prototype.consumeWhiteSpace=function(){for(;Eh(this.peekCodePoint(0));)this.consumeCodePoint()},A.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Dd||e===mi)return;sl(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},A.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var a=Math.min(t,e);n+=qr.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},A.prototype.consumeStringToken=function(e){var t="",n=0;do{var a=this._value[n];if(a===mi||a===void 0||a===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(a===g0)return this._value.splice(0,n),oN;if(a===Jd){var i=this._value[n+1];i!==mi&&i!==void 0&&(i===g0?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):sl(a,i)&&(t+=this.consumeStringSlice(n),t+=qr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},A.prototype.consumeNumber=function(){var e=[],t=wf,n=this.peekCodePoint(0);for((n===ic||n===Us)&&e.push(this.consumeCodePoint());Vn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===of&&Vn(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ab;Vn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===yx||n===vx)&&((a===ic||a===Us)&&Vn(i)||Vn(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ab;Vn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[W_(e),t]},A.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),l=this.peekCodePoint(2);if(Sh(a,i,l)){var f=this.consumeName();return{type:15,number:t,flags:n,unit:f}}return a===m_?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},A.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(uu(e)){for(var t=qr(e);uu(this.peekCodePoint(0))&&t.length<6;)t+=qr(this.consumeCodePoint());Eh(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||q_(n)||n>1114111?sb:n}return e===mi?sb:e},A.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(ab(t))e+=qr(t);else if(sl(t,this.peekCodePoint(0)))e+=qr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},A})(),Cx=(function(){function A(e){this._tokens=e}return A.create=function(e){var t=new Bx;return t.write(e),new A(t.read())},A.parseValue=function(e){return A.create(e).parseComponentValue()},A.parseValues=function(e){return A.create(e).parseComponentValues()},A.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},A.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},A.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},A.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||mN(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},A.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},A.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Om:e},A.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},A})(),vf=function(A){return A.type===15},Gu=function(A){return A.type===17},nr=function(A){return A.type===20},gN=function(A){return A.type===0},km=function(A,e){return nr(A)&&A.value===e},Ex=function(A){return A.type!==31},Hu=function(A){return A.type!==31&&A.type!==4},Ei=function(A){var e=[],t=[];return A.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},mN=function(A,e){return e===11&&A.type===12||e===28&&A.type===29?!0:e===2&&A.type===3},gl=function(A){return A.type===17||A.type===15},rn=function(A){return A.type===16||gl(A)},Sx=function(A){return A.length>1?[A[0],A[1]]:[A[0]]},In={type:17,number:0,flags:wf},k1={type:16,number:50,flags:wf},cl={type:16,number:100,flags:wf},Gd=function(A,e,t){var n=A[0],a=A[1];return[hr(n,e),hr(typeof a<"u"?a:n,t)]},hr=function(A,e){if(A.type===16)return A.number/100*e;if(vf(A))switch(A.unit){case"rem":case"em":return 16*A.number;case"px":default:return A.number}return A.number},_x="deg",Nx="grad",Ux="rad",Qx="turn",G0={name:"angle",parse:function(A,e){if(e.type===15)switch(e.unit){case _x:return Math.PI*e.number/180;case Nx:return Math.PI/200*e.number;case Ux:return e.number;case Qx:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Fx=function(A){return A.type===15&&(A.unit===_x||A.unit===Nx||A.unit===Ux||A.unit===Qx)},jx=function(A){var e=A.filter(nr).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[In,In];case"to top":case"bottom":return pa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[In,cl];case"to right":case"left":return pa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[cl,cl];case"to bottom":case"top":return pa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[cl,In];case"to left":case"right":return pa(270)}return 0},pa=function(A){return Math.PI*A/180},hl={name:"color",parse:function(A,e){if(e.type===18){var t=wN[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(A,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3);return ul(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3),l=e.value.substring(3,4);return ul(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(l+l,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6);return ul(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6),l=e.value.substring(6,8);return ul(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(l,16)/255)}}if(e.type===20){var f=co[e.value.toUpperCase()];if(typeof f<"u")return f}return co.TRANSPARENT}},pl=function(A){return(255&A)===0},yn=function(A){var e=255&A,t=255&A>>8,n=255&A>>16,a=255&A>>24;return e<255?"rgba("+a+","+n+","+t+","+e/255+")":"rgb("+a+","+n+","+t+")"},ul=function(A,e,t,n){return(A<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},ib=function(A,e){if(A.type===17)return A.number;if(A.type===16){var t=e===3?1:255;return e===3?A.number/100*t:Math.round(A.number/100*t)}return 0},ob=function(A,e){var t=e.filter(Hu);if(t.length===3){var n=t.map(ib),a=n[0],i=n[1],l=n[2];return ul(a,i,l,1)}if(t.length===4){var f=t.map(ib),a=f[0],i=f[1],l=f[2],d=f[3];return ul(a,i,l,d)}return 0};function kg(A,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-A)*t*6+A:t<1/2?e:t<2/3?(e-A)*6*(2/3-t)+A:A}var lb=function(A,e){var t=e.filter(Hu),n=t[0],a=t[1],i=t[2],l=t[3],f=(n.type===17?pa(n.number):G0.parse(A,n))/(Math.PI*2),d=rn(a)?a.number/100:0,h=rn(i)?i.number/100:0,g=typeof l<"u"&&rn(l)?hr(l,1):1;if(d===0)return ul(h*255,h*255,h*255,1);var b=h<=.5?h*(d+1):h+d-h*d,x=h*2-b,w=kg(x,b,f+1/3),S=kg(x,b,f),E=kg(x,b,f-1/3);return ul(w*255,S*255,E*255,g)},wN={hsl:lb,hsla:lb,rgb:ob,rgba:ob},Xd=function(A,e){return hl.parse(A,Cx.create(e).parseComponentValue())},co={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},vN={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(t){if(nr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bN={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},z0=function(A,e){var t=hl.parse(A,e[0]),n=e[1];return n&&rn(n)?{color:t,stop:n}:{color:t,stop:null}},cb=function(A,e){var t=A[0],n=A[A.length-1];t.stop===null&&(t.stop=In),n.stop===null&&(n.stop=cl);for(var a=[],i=0,l=0;l<A.length;l++){var f=A[l].stop;if(f!==null){var d=hr(f,e);d>i?a.push(d):a.push(i),i=d}else a.push(null)}for(var h=null,l=0;l<a.length;l++){var g=a[l];if(g===null)h===null&&(h=l);else if(h!==null){for(var b=l-h,x=a[h-1],w=(g-x)/(b+1),S=1;S<=b;S++)a[h+S-1]=w*S;h=null}}return A.map(function(E,U){var _=E.color;return{color:_,stop:Math.max(Math.min(1,a[U]/e),0)}})},yN=function(A,e,t){var n=e/2,a=t/2,i=hr(A[0],e)-n,l=a-hr(A[1],t);return(Math.atan2(l,i)+Math.PI*2)%(Math.PI*2)},xN=function(A,e,t){var n=typeof A=="number"?A:yN(A,e,t),a=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),i=e/2,l=t/2,f=a/2,d=Math.sin(n-Math.PI/2)*f,h=Math.cos(n-Math.PI/2)*f;return[a,i-h,i+h,l-d,l+d]},Da=function(A,e){return Math.sqrt(A*A+e*e)},ub=function(A,e,t,n,a){var i=[[0,0],[0,e],[A,0],[A,e]];return i.reduce(function(l,f){var d=f[0],h=f[1],g=Da(t-d,n-h);return(a?g<l.optimumDistance:g>l.optimumDistance)?{optimumCorner:f,optimumDistance:g}:l},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},BN=function(A,e,t,n,a){var i=0,l=0;switch(A.size){case 0:A.shape===0?i=l=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):A.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),l=Math.min(Math.abs(t),Math.abs(t-a)));break;case 2:if(A.shape===0)i=l=Math.min(Da(e,t),Da(e,t-a),Da(e-n,t),Da(e-n,t-a));else if(A.shape===1){var f=Math.min(Math.abs(t),Math.abs(t-a))/Math.min(Math.abs(e),Math.abs(e-n)),d=ub(n,a,e,t,!0),h=d[0],g=d[1];i=Da(h-e,(g-t)/f),l=f*i}break;case 1:A.shape===0?i=l=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):A.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),l=Math.max(Math.abs(t),Math.abs(t-a)));break;case 3:if(A.shape===0)i=l=Math.max(Da(e,t),Da(e,t-a),Da(e-n,t),Da(e-n,t-a));else if(A.shape===1){var f=Math.max(Math.abs(t),Math.abs(t-a))/Math.max(Math.abs(e),Math.abs(e-n)),b=ub(n,a,e,t,!1),h=b[0],g=b[1];i=Da(h-e,(g-t)/f),l=f*i}break}return Array.isArray(A.size)&&(i=hr(A.size[0],n),l=A.size.length===2?hr(A.size[1],a):i),[i,l]},CN=function(A,e){var t=pa(180),n=[];return Ei(e).forEach(function(a,i){if(i===0){var l=a[0];if(l.type===20&&l.value==="to"){t=jx(a);return}else if(Fx(l)){t=G0.parse(A,l);return}}var f=z0(A,a);n.push(f)}),{angle:t,stops:n,type:1}},Nh=function(A,e){var t=pa(180),n=[];return Ei(e).forEach(function(a,i){if(i===0){var l=a[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){t=jx(a);return}else if(Fx(l)){t=(G0.parse(A,l)+pa(270))%pa(360);return}}var f=z0(A,a);n.push(f)}),{angle:t,stops:n,type:1}},EN=function(A,e){var t=pa(180),n=[],a=1,i=0,l=3,f=[];return Ei(e).forEach(function(d,h){var g=d[0];if(h===0){if(nr(g)&&g.value==="linear"){a=1;return}else if(nr(g)&&g.value==="radial"){a=2;return}}if(g.type===18){if(g.name==="from"){var b=hl.parse(A,g.values[0]);n.push({stop:In,color:b})}else if(g.name==="to"){var b=hl.parse(A,g.values[0]);n.push({stop:cl,color:b})}else if(g.name==="color-stop"){var x=g.values.filter(Hu);if(x.length===2){var b=hl.parse(A,x[1]),w=x[0];Gu(w)&&n.push({stop:{type:16,number:w.number*100,flags:w.flags},color:b})}}}}),a===1?{angle:(t+pa(180))%pa(360),stops:n,type:a}:{size:l,shape:i,stops:n,position:f,type:a}},Lx="closest-side",Ix="farthest-side",Tx="closest-corner",Dx="farthest-corner",Ox="circle",kx="ellipse",Rx="cover",Hx="contain",SN=function(A,e){var t=0,n=3,a=[],i=[];return Ei(e).forEach(function(l,f){var d=!0;if(f===0){var h=!1;d=l.reduce(function(b,x){if(h)if(nr(x))switch(x.value){case"center":return i.push(k1),b;case"top":case"left":return i.push(In),b;case"right":case"bottom":return i.push(cl),b}else(rn(x)||gl(x))&&i.push(x);else if(nr(x))switch(x.value){case Ox:return t=0,!1;case kx:return t=1,!1;case"at":return h=!0,!1;case Lx:return n=0,!1;case Rx:case Ix:return n=1,!1;case Hx:case Tx:return n=2,!1;case Dx:return n=3,!1}else if(gl(x)||rn(x))return Array.isArray(n)||(n=[]),n.push(x),!1;return b},d)}if(d){var g=z0(A,l);a.push(g)}}),{size:n,shape:t,stops:a,position:i,type:2}},Uh=function(A,e){var t=0,n=3,a=[],i=[];return Ei(e).forEach(function(l,f){var d=!0;if(f===0?d=l.reduce(function(g,b){if(nr(b))switch(b.value){case"center":return i.push(k1),!1;case"top":case"left":return i.push(In),!1;case"right":case"bottom":return i.push(cl),!1}else if(rn(b)||gl(b))return i.push(b),!1;return g},d):f===1&&(d=l.reduce(function(g,b){if(nr(b))switch(b.value){case Ox:return t=0,!1;case kx:return t=1,!1;case Hx:case Lx:return n=0,!1;case Ix:return n=1,!1;case Tx:return n=2,!1;case Rx:case Dx:return n=3,!1}else if(gl(b)||rn(b))return Array.isArray(n)||(n=[]),n.push(b),!1;return g},d)),d){var h=z0(A,l);a.push(h)}}),{size:n,shape:t,stops:a,position:i,type:2}},_N=function(A){return A.type===1},NN=function(A){return A.type===2},R1={name:"image",parse:function(A,e){if(e.type===22){var t={url:e.value,type:0};return A.cache.addImage(e.value),t}if(e.type===18){var n=Mx[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(A,e.values)}throw new Error("Unsupported image type "+e.type)}};function UN(A){return!(A.type===20&&A.value==="none")&&(A.type!==18||!!Mx[A.name])}var Mx={"linear-gradient":CN,"-moz-linear-gradient":Nh,"-ms-linear-gradient":Nh,"-o-linear-gradient":Nh,"-webkit-linear-gradient":Nh,"radial-gradient":SN,"-moz-radial-gradient":Uh,"-ms-radial-gradient":Uh,"-o-radial-gradient":Uh,"-webkit-radial-gradient":Uh,"-webkit-gradient":EN},QN={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return Hu(n)&&UN(n)}).map(function(n){return R1.parse(A,n)})}},FN={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(t){if(nr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jN={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(A,e){return Ei(e).map(function(t){return t.filter(rn)}).map(Sx)}},LN={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(A,e){return Ei(e).map(function(t){return t.filter(nr).map(function(n){return n.value}).join(" ")}).map(IN)}},IN=function(A){switch(A){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Fu;(function(A){A.AUTO="auto",A.CONTAIN="contain",A.COVER="cover"})(Fu||(Fu={}));var TN={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(A,e){return Ei(e).map(function(t){return t.filter(DN)})}},DN=function(A){return nr(A)||rn(A)},V0=function(A){return{name:"border-"+A+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ON=V0("top"),kN=V0("right"),RN=V0("bottom"),HN=V0("left"),$0=function(A){return{name:"border-radius-"+A,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Sx(t.filter(rn))}}},MN=$0("top-left"),PN=$0("top-right"),KN=$0("bottom-right"),qN=$0("bottom-left"),Y0=function(A){return{name:"border-"+A+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},GN=Y0("top"),zN=Y0("right"),VN=Y0("bottom"),$N=Y0("left"),W0=function(A){return{name:"border-"+A+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return vf(t)?t.number:0}}},YN=W0("top"),WN=W0("right"),JN=W0("bottom"),XN=W0("left"),ZN={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},eU={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(A,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},tU={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(A,e){return e.filter(nr).reduce(function(t,n){return t|AU(n.value)},0)}},AU=function(A){switch(A){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},rU={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},nU={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(A,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},w0;(function(A){A.NORMAL="normal",A.STRICT="strict"})(w0||(w0={}));var sU={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"strict":return w0.STRICT;case"normal":default:return w0.NORMAL}}},aU={name:"line-height",initialValue:"normal",prefix:!1,type:4},db=function(A,e){return nr(A)&&A.value==="normal"?1.2*e:A.type===17?e*A.number:rn(A)?hr(A,e):e},iU={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(A,e){return e.type===20&&e.value==="none"?null:R1.parse(A,e)}},oU={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(A,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Rm={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},J0=function(A){return{name:"margin-"+A,initialValue:"0",prefix:!1,type:4}},lU=J0("top"),cU=J0("right"),uU=J0("bottom"),dU=J0("left"),fU={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(A,e){return e.filter(nr).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},hU={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},X0=function(A){return{name:"padding-"+A,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},pU=X0("top"),gU=X0("right"),mU=X0("bottom"),wU=X0("left"),vU={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(A,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},bU={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(A,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},yU={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.length===1&&km(e[0],"none")?[]:Ei(e).map(function(t){for(var n={color:co.TRANSPARENT,offsetX:In,offsetY:In,blur:In},a=0,i=0;i<t.length;i++){var l=t[i];gl(l)?(a===0?n.offsetX=l:a===1?n.offsetY=l:n.blur=l,a++):n.color=hl.parse(A,l)}return n})}},xU={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},BU={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(A,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=SU[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},CU=function(A){var e=A.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},EU=function(A){var e=A.filter(function(d){return d.type===17}).map(function(d){return d.number}),t=e[0],n=e[1];e[2],e[3];var a=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var l=e[12],f=e[13];return e[14],e[15],e.length===16?[t,n,a,i,l,f]:null},SU={matrix:CU,matrix3d:EU},fb={type:16,number:50,flags:wf},_U=[fb,fb],NU={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(A,e){var t=e.filter(rn);return t.length!==2?_U:[t[0],t[1]]}},UU={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Zd;(function(A){A.NORMAL="normal",A.BREAK_ALL="break-all",A.KEEP_ALL="keep-all"})(Zd||(Zd={}));var QU={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-all":return Zd.BREAK_ALL;case"keep-all":return Zd.KEEP_ALL;case"normal":default:return Zd.NORMAL}}},FU={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(A,e){if(e.type===20)return{auto:!0,order:0};if(Gu(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Px={name:"time",parse:function(A,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},jU={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(A,e){return Gu(e)?e.number:1}},LU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},IU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(A,e){return e.filter(nr).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},TU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(A,e){var t=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:t.push(a.value);break;case 17:t.push(a.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},DU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},OU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(A,e){if(Gu(e))return e.number;if(nr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},kU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.filter(nr).map(function(t){return t.value})}},RU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},fn=function(A,e){return(A&e)!==0},HU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},MU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],a=e.filter(Ex),i=0;i<a.length;i++){var l=a[i],f=a[i+1];if(l.type===20){var d=f&&Gu(f)?f.number:1;n.push({counter:l.value,increment:d})}}return n}},PU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return[];for(var t=[],n=e.filter(Ex),a=0;a<n.length;a++){var i=n[a],l=n[a+1];if(nr(i)&&i.value!=="none"){var f=l&&Gu(l)?l.number:0;t.push({counter:i.value,reset:f})}}return t}},KU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(A,e){return e.filter(vf).map(function(t){return Px.parse(A,t)})}},qU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],a=e.filter(gN);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var l=a[i].value,f=a[i+1].value;n.push({open:l,close:f})}return n}},hb=function(A,e,t){if(!A)return"";var n=A[Math.min(e,A.length-1)];return n?t?n.open:n.close:""},GU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.length===1&&km(e[0],"none")?[]:Ei(e).map(function(t){for(var n={color:255,offsetX:In,offsetY:In,blur:In,spread:In,inset:!1},a=0,i=0;i<t.length;i++){var l=t[i];km(l,"inset")?n.inset=!0:gl(l)?(a===0?n.offsetX=l:a===1?n.offsetY=l:a===2?n.blur=l:n.spread=l,a++):n.color=hl.parse(A,l)}return n})}},zU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(A,e){var t=[0,1,2],n=[];return e.filter(nr).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},VU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},$U={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return vf(e)?e.number:0}},YU=(function(){function A(e,t){var n,a;this.animationDuration=Et(e,KU,t.animationDuration),this.backgroundClip=Et(e,vN,t.backgroundClip),this.backgroundColor=Et(e,bN,t.backgroundColor),this.backgroundImage=Et(e,QN,t.backgroundImage),this.backgroundOrigin=Et(e,FN,t.backgroundOrigin),this.backgroundPosition=Et(e,jN,t.backgroundPosition),this.backgroundRepeat=Et(e,LN,t.backgroundRepeat),this.backgroundSize=Et(e,TN,t.backgroundSize),this.borderTopColor=Et(e,ON,t.borderTopColor),this.borderRightColor=Et(e,kN,t.borderRightColor),this.borderBottomColor=Et(e,RN,t.borderBottomColor),this.borderLeftColor=Et(e,HN,t.borderLeftColor),this.borderTopLeftRadius=Et(e,MN,t.borderTopLeftRadius),this.borderTopRightRadius=Et(e,PN,t.borderTopRightRadius),this.borderBottomRightRadius=Et(e,KN,t.borderBottomRightRadius),this.borderBottomLeftRadius=Et(e,qN,t.borderBottomLeftRadius),this.borderTopStyle=Et(e,GN,t.borderTopStyle),this.borderRightStyle=Et(e,zN,t.borderRightStyle),this.borderBottomStyle=Et(e,VN,t.borderBottomStyle),this.borderLeftStyle=Et(e,$N,t.borderLeftStyle),this.borderTopWidth=Et(e,YN,t.borderTopWidth),this.borderRightWidth=Et(e,WN,t.borderRightWidth),this.borderBottomWidth=Et(e,JN,t.borderBottomWidth),this.borderLeftWidth=Et(e,XN,t.borderLeftWidth),this.boxShadow=Et(e,GU,t.boxShadow),this.color=Et(e,ZN,t.color),this.direction=Et(e,eU,t.direction),this.display=Et(e,tU,t.display),this.float=Et(e,rU,t.cssFloat),this.fontFamily=Et(e,TU,t.fontFamily),this.fontSize=Et(e,DU,t.fontSize),this.fontStyle=Et(e,RU,t.fontStyle),this.fontVariant=Et(e,kU,t.fontVariant),this.fontWeight=Et(e,OU,t.fontWeight),this.letterSpacing=Et(e,nU,t.letterSpacing),this.lineBreak=Et(e,sU,t.lineBreak),this.lineHeight=Et(e,aU,t.lineHeight),this.listStyleImage=Et(e,iU,t.listStyleImage),this.listStylePosition=Et(e,oU,t.listStylePosition),this.listStyleType=Et(e,Rm,t.listStyleType),this.marginTop=Et(e,lU,t.marginTop),this.marginRight=Et(e,cU,t.marginRight),this.marginBottom=Et(e,uU,t.marginBottom),this.marginLeft=Et(e,dU,t.marginLeft),this.opacity=Et(e,jU,t.opacity);var i=Et(e,fU,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Et(e,hU,t.overflowWrap),this.paddingTop=Et(e,pU,t.paddingTop),this.paddingRight=Et(e,gU,t.paddingRight),this.paddingBottom=Et(e,mU,t.paddingBottom),this.paddingLeft=Et(e,wU,t.paddingLeft),this.paintOrder=Et(e,zU,t.paintOrder),this.position=Et(e,bU,t.position),this.textAlign=Et(e,vU,t.textAlign),this.textDecorationColor=Et(e,LU,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=Et(e,IU,(a=t.textDecorationLine)!==null&&a!==void 0?a:t.textDecoration),this.textShadow=Et(e,yU,t.textShadow),this.textTransform=Et(e,xU,t.textTransform),this.transform=Et(e,BU,t.transform),this.transformOrigin=Et(e,NU,t.transformOrigin),this.visibility=Et(e,UU,t.visibility),this.webkitTextStrokeColor=Et(e,VU,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Et(e,$U,t.webkitTextStrokeWidth),this.wordBreak=Et(e,QU,t.wordBreak),this.zIndex=Et(e,FU,t.zIndex)}return A.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},A.prototype.isTransparent=function(){return pl(this.backgroundColor)},A.prototype.isTransformed=function(){return this.transform!==null},A.prototype.isPositioned=function(){return this.position!==0},A.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},A.prototype.isFloating=function(){return this.float!==0},A.prototype.isInlineLevel=function(){return fn(this.display,4)||fn(this.display,33554432)||fn(this.display,268435456)||fn(this.display,536870912)||fn(this.display,67108864)||fn(this.display,134217728)},A})(),WU=(function(){function A(e,t){this.content=Et(e,HU,t.content),this.quotes=Et(e,qU,t.quotes)}return A})(),pb=(function(){function A(e,t){this.counterIncrement=Et(e,MU,t.counterIncrement),this.counterReset=Et(e,PU,t.counterReset)}return A})(),Et=function(A,e,t){var n=new Bx,a=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(a);var i=new Cx(n.read());switch(e.type){case 2:var l=i.parseComponentValue();return e.parse(A,nr(l)?l.value:e.initialValue);case 0:return e.parse(A,i.parseComponentValue());case 1:return e.parse(A,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return G0.parse(A,i.parseComponentValue());case"color":return hl.parse(A,i.parseComponentValue());case"image":return R1.parse(A,i.parseComponentValue());case"length":var f=i.parseComponentValue();return gl(f)?f:In;case"length-percentage":var d=i.parseComponentValue();return rn(d)?d:In;case"time":return Px.parse(A,i.parseComponentValue())}break}},JU="data-html2canvas-debug",XU=function(A){var e=A.getAttribute(JU);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Hm=function(A,e){var t=XU(A);return t===1||e===t},Si=(function(){function A(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Hm(t,3))debugger;this.styles=new YU(e,window.getComputedStyle(t,null)),Km(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=K0(this.context,t),Hm(t,4)&&(this.flags|=16)}return A})(),ZU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",gb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qh=0;Qh<gb.length;Qh++)zd[gb.charCodeAt(Qh)]=Qh;var eQ=function(A){var e=A.length*.75,t=A.length,n,a=0,i,l,f,d;A[A.length-1]==="="&&(e--,A[A.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<t;n+=4)i=zd[A.charCodeAt(n)],l=zd[A.charCodeAt(n+1)],f=zd[A.charCodeAt(n+2)],d=zd[A.charCodeAt(n+3)],g[a++]=i<<2|l>>4,g[a++]=(l&15)<<4|f>>2,g[a++]=(f&3)<<6|d&63;return h},tQ=function(A){for(var e=A.length,t=[],n=0;n<e;n+=2)t.push(A[n+1]<<8|A[n]);return t},AQ=function(A){for(var e=A.length,t=[],n=0;n<e;n+=4)t.push(A[n+3]<<24|A[n+2]<<16|A[n+1]<<8|A[n]);return t},fc=5,H1=11,Rg=2,rQ=H1-fc,Kx=65536>>fc,nQ=1<<fc,Hg=nQ-1,sQ=1024>>fc,aQ=Kx+sQ,iQ=aQ,oQ=32,lQ=iQ+oQ,cQ=65536>>H1,uQ=1<<rQ,dQ=uQ-1,mb=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},fQ=function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))},hQ=function(A,e){var t=eQ(A),n=Array.isArray(t)?AQ(t):new Uint32Array(t),a=Array.isArray(t)?tQ(t):new Uint16Array(t),i=24,l=mb(a,i/2,n[4]/2),f=n[5]===2?mb(a,(i+n[4])/2):fQ(n,Math.ceil((i+n[4])/4));return new pQ(n[0],n[1],n[2],n[3],l,f)},pQ=(function(){function A(e,t,n,a,i,l){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=l}return A.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>fc],t=(t<<Rg)+(e&Hg),this.data[t];if(e<=65535)return t=this.index[Kx+(e-55296>>fc)],t=(t<<Rg)+(e&Hg),this.data[t];if(e<this.highStart)return t=lQ-cQ+(e>>H1),t=this.index[t],t+=e>>fc&dQ,t=this.index[t],t=(t<<Rg)+(e&Hg),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A})(),wb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gQ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Fh=0;Fh<wb.length;Fh++)gQ[wb.charCodeAt(Fh)]=Fh;var mQ=1,Mg=2,Pg=3,vb=4,bb=5,wQ=7,yb=8,Kg=9,qg=10,xb=11,Bb=12,Cb=13,Eb=14,Gg=15,vQ=function(A){for(var e=[],t=0,n=A.length;t<n;){var a=A.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var i=A.charCodeAt(t++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},bQ=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var n=[],a=-1,i="";++a<t;){var l=A[a];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(a+1===t||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},yQ=hQ(ZU),fa="",zg="",xQ=function(A){return yQ.get(A)},BQ=function(A,e,t){var n=t-2,a=e[n],i=e[t-1],l=e[t];if(i===Mg&&l===Pg)return fa;if(i===Mg||i===Pg||i===vb||l===Mg||l===Pg||l===vb)return zg;if(i===yb&&[yb,Kg,xb,Bb].indexOf(l)!==-1||(i===xb||i===Kg)&&(l===Kg||l===qg)||(i===Bb||i===qg)&&l===qg||l===Cb||l===bb||l===wQ||i===mQ)return fa;if(i===Cb&&l===Eb){for(;a===bb;)a=e[--n];if(a===Eb)return fa}if(i===Gg&&l===Gg){for(var f=0;a===Gg;)f++,a=e[--n];if(f%2===0)return fa}return zg},CQ=function(A){var e=vQ(A),t=e.length,n=0,a=0,i=e.map(xQ);return{next:function(){if(n>=t)return{done:!0,value:null};for(var l=fa;n<t&&(l=BQ(e,i,++n))===fa;);if(l!==fa||n===t){var f=bQ.apply(null,e.slice(a,n));return a=n,{value:f,done:!1}}return{done:!0,value:null}}}},EQ=function(A){for(var e=CQ(A),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},SQ=function(A){var e=123;if(A.createRange){var t=A.createRange();if(t.getBoundingClientRect){var n=A.createElement("boundtest");n.style.height=e+"px",n.style.display="block",A.body.appendChild(n),t.selectNode(n);var a=t.getBoundingClientRect(),i=Math.round(a.height);if(A.body.removeChild(n),i===e)return!0}}return!1},_Q=function(A){var e=A.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",A.body.appendChild(e);var t=A.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=q0(n.data).map(function(d){return qr(d)}),i=0,l={},f=a.every(function(d,h){t.setStart(n,i),t.setEnd(n,i+d.length);var g=t.getBoundingClientRect();i+=d.length;var b=g.x>l.x||g.y>l.y;return l=g,h===0?!0:b});return A.body.removeChild(e),f},NQ=function(){return typeof new Image().crossOrigin<"u"},UQ=function(){return typeof new XMLHttpRequest().responseType=="string"},QQ=function(A){var e=new Image,t=A.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},Sb=function(A){return A[0]===0&&A[1]===255&&A[2]===0&&A[3]===255},FQ=function(A){var e=A.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var a=new Image,i=e.toDataURL();a.src=i;var l=Mm(t,t,0,0,a);return n.fillStyle="red",n.fillRect(0,0,t,t),_b(l).then(function(f){n.drawImage(f,0,0);var d=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var h=A.createElement("div");return h.style.backgroundImage="url("+i+")",h.style.height=t+"px",Sb(d)?_b(Mm(t,t,0,0,h)):Promise.reject(!1)}).then(function(f){return n.drawImage(f,0,0),Sb(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},Mm=function(A,e,t,n,a){var i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),f=document.createElementNS(i,"foreignObject");return l.setAttributeNS(null,"width",A.toString()),l.setAttributeNS(null,"height",e.toString()),f.setAttributeNS(null,"width","100%"),f.setAttributeNS(null,"height","100%"),f.setAttributeNS(null,"x",t.toString()),f.setAttributeNS(null,"y",n.toString()),f.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(f),f.appendChild(a),l},_b=function(A){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(A))})},Ln={get SUPPORT_RANGE_BOUNDS(){var A=SQ(document);return Object.defineProperty(Ln,"SUPPORT_RANGE_BOUNDS",{value:A}),A},get SUPPORT_WORD_BREAKING(){var A=Ln.SUPPORT_RANGE_BOUNDS&&_Q(document);return Object.defineProperty(Ln,"SUPPORT_WORD_BREAKING",{value:A}),A},get SUPPORT_SVG_DRAWING(){var A=QQ(document);return Object.defineProperty(Ln,"SUPPORT_SVG_DRAWING",{value:A}),A},get SUPPORT_FOREIGNOBJECT_DRAWING(){var A=typeof Array.from=="function"&&typeof window.fetch=="function"?FQ(document):Promise.resolve(!1);return Object.defineProperty(Ln,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:A}),A},get SUPPORT_CORS_IMAGES(){var A=NQ();return Object.defineProperty(Ln,"SUPPORT_CORS_IMAGES",{value:A}),A},get SUPPORT_RESPONSE_TYPE(){var A=UQ();return Object.defineProperty(Ln,"SUPPORT_RESPONSE_TYPE",{value:A}),A},get SUPPORT_CORS_XHR(){var A="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ln,"SUPPORT_CORS_XHR",{value:A}),A},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var A=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ln,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:A}),A}},ef=(function(){function A(e,t){this.text=e,this.bounds=t}return A})(),jQ=function(A,e,t,n){var a=TQ(e,t),i=[],l=0;return a.forEach(function(f){if(t.textDecorationLine.length||f.trim().length>0)if(Ln.SUPPORT_RANGE_BOUNDS){var d=Nb(n,l,f.length).getClientRects();if(d.length>1){var h=M1(f),g=0;h.forEach(function(x){i.push(new ef(x,fo.fromDOMRectList(A,Nb(n,g+l,x.length).getClientRects()))),g+=x.length})}else i.push(new ef(f,fo.fromDOMRectList(A,d)))}else{var b=n.splitText(f.length);i.push(new ef(f,LQ(A,n))),n=b}else Ln.SUPPORT_RANGE_BOUNDS||(n=n.splitText(f.length));l+=f.length}),i},LQ=function(A,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var i=K0(A,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return fo.EMPTY},Nb=function(A,e,t){var n=A.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(A,e),a.setEnd(A,e+t),a},M1=function(A){if(Ln.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(A)).map(function(t){return t.segment})}return EQ(A)},IQ=function(A,e){if(Ln.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(A)).map(function(n){return n.segment})}return OQ(A,e)},TQ=function(A,e){return e.letterSpacing!==0?M1(A):IQ(A,e)},DQ=[32,160,4961,65792,65793,4153,4241],OQ=function(A,e){for(var t=c_(A,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,i=function(){if(a.value){var l=a.value.slice(),f=q0(l),d="";f.forEach(function(h){DQ.indexOf(h)===-1?d+=qr(h):(d.length&&n.push(d),n.push(qr(h)),d="")}),d.length&&n.push(d)}};!(a=t.next()).done;)i();return n},kQ=(function(){function A(e,t,n){this.text=RQ(t.data,n.textTransform),this.textBounds=jQ(e,this.text,n,t)}return A})(),RQ=function(A,e){switch(e){case 1:return A.toLowerCase();case 3:return A.replace(HQ,MQ);case 2:return A.toUpperCase();default:return A}},HQ=/(^|\s|:|-|\(|\))([a-z])/g,MQ=function(A,e,t){return A.length>0?e+t.toUpperCase():A},qx=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e})(Si),Gx=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e})(Si),zx=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this,i=new XMLSerializer,l=K0(t,n);return n.setAttribute("width",l.width+"px"),n.setAttribute("height",l.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(Si),Vx=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.value=n.value,a}return e})(Si),Pm=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e})(Si),PQ=[{type:15,flags:0,unit:"px",number:3}],KQ=[{type:16,flags:0,number:50}],qQ=function(A){return A.width>A.height?new fo(A.left+(A.width-A.height)/2,A.top,A.height,A.height):A.width<A.height?new fo(A.left,A.top+(A.height-A.width)/2,A.width,A.width):A},GQ=function(A){var e=A.type===zQ?new Array(A.value.length+1).join(""):A.value;return e.length===0?A.placeholder||"":e},v0="checkbox",b0="radio",zQ="password",Ub=707406591,P1=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=GQ(n),(a.type===v0||a.type===b0)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=qQ(a.bounds)),a.type){case v0:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=PQ;break;case b0:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=KQ;break}return a}return e})(Si),$x=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return e})(Si),Yx=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.value=n.value,a}return e})(Si),Wx=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=Xx(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Xd(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):co.TRANSPARENT,l=n.contentWindow.document.body?Xd(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):co.TRANSPARENT;a.backgroundColor=pl(i)?pl(l)?a.styles.backgroundColor:l:i}}catch{}return a}return e})(Si),VQ=["OL","UL","MENU"],n0=function(A,e,t,n){for(var a=e.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,Zx(a)&&a.data.trim().length>0)t.textNodes.push(new kQ(A,a,t.styles));else if(Nu(a))if(rB(a)&&a.assignedNodes)a.assignedNodes().forEach(function(f){return n0(A,f,t,n)});else{var l=Jx(A,a);l.styles.isVisible()&&($Q(a,l,n)?l.flags|=4:YQ(l.styles)&&(l.flags|=2),VQ.indexOf(a.tagName)!==-1&&(l.flags|=8),t.elements.push(l),a.slot,a.shadowRoot?n0(A,a.shadowRoot,l,n):!y0(a)&&!eB(a)&&!x0(a)&&n0(A,a,l,n))}},Jx=function(A,e){return qm(e)?new qx(A,e):tB(e)?new Gx(A,e):eB(e)?new zx(A,e):WQ(e)?new Vx(A,e):JQ(e)?new Pm(A,e):XQ(e)?new P1(A,e):x0(e)?new $x(A,e):y0(e)?new Yx(A,e):AB(e)?new Wx(A,e):new Si(A,e)},Xx=function(A,e){var t=Jx(A,e);return t.flags|=4,n0(A,e,t,t),t},$Q=function(A,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||K1(A)&&t.styles.isTransparent()},YQ=function(A){return A.isPositioned()||A.isFloating()},Zx=function(A){return A.nodeType===Node.TEXT_NODE},Nu=function(A){return A.nodeType===Node.ELEMENT_NODE},Km=function(A){return Nu(A)&&typeof A.style<"u"&&!s0(A)},s0=function(A){return typeof A.className=="object"},WQ=function(A){return A.tagName==="LI"},JQ=function(A){return A.tagName==="OL"},XQ=function(A){return A.tagName==="INPUT"},ZQ=function(A){return A.tagName==="HTML"},eB=function(A){return A.tagName==="svg"},K1=function(A){return A.tagName==="BODY"},tB=function(A){return A.tagName==="CANVAS"},Qb=function(A){return A.tagName==="VIDEO"},qm=function(A){return A.tagName==="IMG"},AB=function(A){return A.tagName==="IFRAME"},Fb=function(A){return A.tagName==="STYLE"},eF=function(A){return A.tagName==="SCRIPT"},y0=function(A){return A.tagName==="TEXTAREA"},x0=function(A){return A.tagName==="SELECT"},rB=function(A){return A.tagName==="SLOT"},jb=function(A){return A.tagName.indexOf("-")>0},tF=(function(){function A(){this.counters={}}return A.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},A.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},A.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},A.prototype.parse=function(e){var t=this,n=e.counterIncrement,a=e.counterReset,i=!0;n!==null&&n.forEach(function(f){var d=t.counters[f.counter];d&&f.increment!==0&&(i=!1,d.length||d.push(1),d[Math.max(0,d.length-1)]+=f.increment)});var l=[];return i&&a.forEach(function(f){var d=t.counters[f.counter];l.push(f.counter),d||(d=t.counters[f.counter]=[]),d.push(f.reset)}),l},A})(),Lb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ib={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},AF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},rF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},du=function(A,e,t,n,a,i){return A<e||A>t?lf(A,a,i.length>0):n.integers.reduce(function(l,f,d){for(;A>=f;)A-=f,l+=n.values[d];return l},"")+i},nB=function(A,e,t,n){var a="";do t||A--,a=n(A)+a,A/=e;while(A*e>=e);return a},Kr=function(A,e,t,n,a){var i=t-e+1;return(A<0?"-":"")+(nB(Math.abs(A),i,n,function(l){return qr(Math.floor(l%i)+e)})+a)},$l=function(A,e,t){t===void 0&&(t=". ");var n=e.length;return nB(Math.abs(A),n,!1,function(a){return e[Math.floor(a%n)]})+t},xu=1,rl=2,nl=4,Vd=8,ro=function(A,e,t,n,a,i){if(A<-9999||A>9999)return lf(A,4,a.length>0);var l=Math.abs(A),f=a;if(l===0)return e[0]+f;for(var d=0;l>0&&d<=4;d++){var h=l%10;h===0&&fn(i,xu)&&f!==""?f=e[h]+f:h>1||h===1&&d===0||h===1&&d===1&&fn(i,rl)||h===1&&d===1&&fn(i,nl)&&A>100||h===1&&d>1&&fn(i,Vd)?f=e[h]+(d>0?t[d-1]:"")+f:h===1&&d>0&&(f=t[d-1]+f),l=Math.floor(l/10)}return(A<0?n:"")+f},Tb="",Db="",Ob="",Vg="",lf=function(A,e,t){var n=t?". ":"",a=t?"":"",i=t?", ":"",l=t?" ":"";switch(e){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var f=Kr(A,48,57,!0,n);return f.length<4?"0"+f:f;case 4:return $l(A,"",a);case 6:return du(A,1,3999,Lb,3,n).toLowerCase();case 7:return du(A,1,3999,Lb,3,n);case 8:return Kr(A,945,969,!1,n);case 9:return Kr(A,97,122,!1,n);case 10:return Kr(A,65,90,!1,n);case 11:return Kr(A,1632,1641,!0,n);case 12:case 49:return du(A,1,9999,Ib,3,n);case 35:return du(A,1,9999,Ib,3,n).toLowerCase();case 13:return Kr(A,2534,2543,!0,n);case 14:case 30:return Kr(A,6112,6121,!0,n);case 15:return $l(A,"",a);case 16:return $l(A,"",a);case 17:case 48:return ro(A,"",Tb,"",a,rl|nl|Vd);case 47:return ro(A,"",Db,"",a,xu|rl|nl|Vd);case 42:return ro(A,"",Tb,"",a,rl|nl|Vd);case 41:return ro(A,"",Db,"",a,xu|rl|nl|Vd);case 26:return ro(A,"","",Ob,a,0);case 25:return ro(A,"","",Ob,a,xu|rl|nl);case 31:return ro(A,"","",Vg,i,xu|rl|nl);case 33:return ro(A,"","",Vg,i,0);case 32:return ro(A,"","",Vg,i,xu|rl|nl);case 18:return Kr(A,2406,2415,!0,n);case 20:return du(A,1,19999,rF,3,n);case 21:return Kr(A,2790,2799,!0,n);case 22:return Kr(A,2662,2671,!0,n);case 22:return du(A,1,10999,AF,3,n);case 23:return $l(A,"");case 24:return $l(A,"");case 27:return Kr(A,3302,3311,!0,n);case 28:return $l(A,"",a);case 29:return $l(A,"",a);case 34:return Kr(A,3792,3801,!0,n);case 37:return Kr(A,6160,6169,!0,n);case 38:return Kr(A,4160,4169,!0,n);case 39:return Kr(A,2918,2927,!0,n);case 40:return Kr(A,1776,1785,!0,n);case 43:return Kr(A,3046,3055,!0,n);case 44:return Kr(A,3174,3183,!0,n);case 45:return Kr(A,3664,3673,!0,n);case 46:return Kr(A,3872,3881,!0,n);case 3:default:return Kr(A,48,57,!0,n)}},sB="data-html2canvas-ignore",kb=(function(){function A(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new tF,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return A.prototype.toIFrame=function(e,t){var n=this,a=nF(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset,f=a.contentWindow,d=f.document,h=iF(a).then(function(){return ns(n,void 0,void 0,function(){var g,b;return zn(this,function(x){switch(x.label){case 0:return this.scrolledElements.forEach(uF),f&&(f.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(f.scrollY!==t.top||f.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(f.scrollX-t.left,f.scrollY-t.top,0,0))),g=this.options.onclone,b=this.clonedReferenceElement,typeof b>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:d.fonts&&d.fonts.ready?[4,d.fonts.ready]:[3,2];case 1:x.sent(),x.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,aF(d)]:[3,4];case 3:x.sent(),x.label=4;case 4:return typeof g=="function"?[2,Promise.resolve().then(function(){return g(d,b)}).then(function(){return a})]:[2,a]}})})});return d.open(),d.write(lF(document.doctype)+"<html></html>"),cF(this.referenceElement.ownerDocument,i,l),d.replaceChild(d.adoptNode(this.documentElement),d.documentElement),d.close(),h},A.prototype.createElementClone=function(e){if(Hm(e,2))debugger;if(tB(e))return this.createCanvasClone(e);if(Qb(e))return this.createVideoClone(e);if(Fb(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return qm(t)&&(qm(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),jb(t)?this.createCustomElementClone(t):t},A.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return $g(e.style,t),t},A.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(i,l){return l&&typeof l.cssText=="string"?i+l.cssText:i},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},A.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var i=e.getContext("2d"),l=a.getContext("2d");if(l)if(!this.options.allowTaint&&i)l.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var f=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(f){var d=f.getContextAttributes();(d==null?void 0:d.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}l.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},A.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},A.prototype.appendChildNode=function(e,t,n){(!Nu(t)||!eF(t)&&!t.hasAttribute(sB)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Nu(t)||!Fb(t))&&e.appendChild(this.cloneNode(t,n))},A.prototype.cloneChildNodes=function(e,t,n){for(var a=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Nu(i)&&rB(i)&&typeof i.assignedNodes=="function"){var l=i.assignedNodes();l.length&&l.forEach(function(f){return a.appendChildNode(t,f,n)})}else this.appendChildNode(t,i,n)},A.prototype.cloneNode=function(e,t){if(Zx(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Nu(e)&&(Km(e)||s0(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var i=n.getComputedStyle(e),l=n.getComputedStyle(e,":before"),f=n.getComputedStyle(e,":after");this.referenceElement===e&&Km(a)&&(this.clonedReferenceElement=a),K1(a)&&hF(a);var d=this.counters.parse(new pb(this.context,i)),h=this.resolvePseudoContent(e,a,l,tf.BEFORE);jb(e)&&(t=!0),Qb(e)||this.cloneChildNodes(e,a,t),h&&a.insertBefore(h,a.firstChild);var g=this.resolvePseudoContent(e,a,f,tf.AFTER);return g&&a.appendChild(g),this.counters.pop(d),(i&&(this.options.copyStyles||s0(e))&&!AB(e)||t)&&$g(i,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(y0(e)||x0(e))&&(y0(a)||x0(a))&&(a.value=e.value),a}return e.cloneNode(!1)},A.prototype.resolvePseudoContent=function(e,t,n,a){var i=this;if(n){var l=n.content,f=t.ownerDocument;if(!(!f||!l||l==="none"||l==="-moz-alt-content"||n.display==="none")){this.counters.parse(new pb(this.context,n));var d=new WU(this.context,n),h=f.createElement("html2canvaspseudoelement");$g(n,h),d.content.forEach(function(b){if(b.type===0)h.appendChild(f.createTextNode(b.value));else if(b.type===22){var x=f.createElement("img");x.src=b.value,x.style.opacity="1",h.appendChild(x)}else if(b.type===18){if(b.name==="attr"){var w=b.values.filter(nr);w.length&&h.appendChild(f.createTextNode(e.getAttribute(w[0].value)||""))}else if(b.name==="counter"){var S=b.values.filter(Hu),E=S[0],U=S[1];if(E&&nr(E)){var _=i.counters.getCounterValue(E.value),Q=U&&nr(U)?Rm.parse(i.context,U.value):3;h.appendChild(f.createTextNode(lf(_,Q,!1)))}}else if(b.name==="counters"){var L=b.values.filter(Hu),E=L[0],W=L[1],U=L[2];if(E&&nr(E)){var X=i.counters.getCounterValues(E.value),re=U&&nr(U)?Rm.parse(i.context,U.value):3,J=W&&W.type===0?W.value:"",V=X.map(function(D){return lf(D,re,!1)}).join(J);h.appendChild(f.createTextNode(V))}}}else if(b.type===20)switch(b.value){case"open-quote":h.appendChild(f.createTextNode(hb(d.quotes,i.quoteDepth++,!0)));break;case"close-quote":h.appendChild(f.createTextNode(hb(d.quotes,--i.quoteDepth,!1)));break;default:h.appendChild(f.createTextNode(b.value))}}),h.className=Gm+" "+zm;var g=a===tf.BEFORE?" "+Gm:" "+zm;return s0(t)?t.className.baseValue+=g:t.className+=g,h}}},A.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},A})(),tf;(function(A){A[A.BEFORE=0]="BEFORE",A[A.AFTER=1]="AFTER"})(tf||(tf={}));var nF=function(A,e){var t=A.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(sB,"true"),A.body.appendChild(t),t},sF=function(A){return new Promise(function(e){if(A.complete){e();return}if(!A.src){e();return}A.onload=e,A.onerror=e})},aF=function(A){return Promise.all([].slice.call(A.images,0).map(sF))},iF=function(A){return new Promise(function(e,t){var n=A.contentWindow;if(!n)return t("No window assigned for iframe");var a=n.document;n.onload=A.onload=function(){n.onload=A.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),e(A))},50)}})},oF=["all","d","content"],$g=function(A,e){for(var t=A.length-1;t>=0;t--){var n=A.item(t);oF.indexOf(n)===-1&&e.style.setProperty(n,A.getPropertyValue(n))}return e},lF=function(A){var e="";return A&&(e+="<!DOCTYPE ",A.name&&(e+=A.name),A.internalSubset&&(e+=A.internalSubset),A.publicId&&(e+='"'+A.publicId+'"'),A.systemId&&(e+='"'+A.systemId+'"'),e+=">"),e},cF=function(A,e,t){A&&A.defaultView&&(e!==A.defaultView.pageXOffset||t!==A.defaultView.pageYOffset)&&A.defaultView.scrollTo(e,t)},uF=function(A){var e=A[0],t=A[1],n=A[2];e.scrollLeft=t,e.scrollTop=n},dF=":before",fF=":after",Gm="___html2canvas___pseudoelement_before",zm="___html2canvas___pseudoelement_after",Rb=`{
    content: "" !important;
    display: none !important;
}`,hF=function(A){pF(A,"."+Gm+dF+Rb+`
         .`+zm+fF+Rb)},pF=function(A,e){var t=A.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,A.appendChild(n)}},aB=(function(){function A(){}return A.getOrigin=function(e){var t=A._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},A.isSameOrigin=function(e){return A.getOrigin(e)===A._origin},A.setContext=function(e){A._link=e.document.createElement("a"),A._origin=A.getOrigin(e.location.href)},A._origin="about:blank",A})(),gF=(function(){function A(e,t){this.context=e,this._options=t,this._cache={}}return A.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Wg(e)||bF(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},A.prototype.match=function(e){return this._cache[e]},A.prototype.loadImage=function(e){return ns(this,void 0,void 0,function(){var t,n,a,i,l=this;return zn(this,function(f){switch(f.label){case 0:return t=aB.isSameOrigin(e),n=!Yg(e)&&this._options.useCORS===!0&&Ln.SUPPORT_CORS_IMAGES&&!t,a=!Yg(e)&&!t&&!Wg(e)&&typeof this._options.proxy=="string"&&Ln.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!Yg(e)&&!Wg(e)&&!a&&!n?[2]:(i=e,a?[4,this.proxy(i)]:[3,2]);case 1:i=f.sent(),f.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(d,h){var g=new Image;g.onload=function(){return d(g)},g.onerror=h,(yF(i)||n)&&(g.crossOrigin="anonymous"),g.src=i,g.complete===!0&&setTimeout(function(){return d(g)},500),l._options.imageTimeout>0&&setTimeout(function(){return h("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,f.sent()]}})})},A.prototype.has=function(e){return typeof this._cache[e]<"u"},A.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},A.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(i,l){var f=Ln.SUPPORT_RESPONSE_TYPE?"blob":"text",d=new XMLHttpRequest;d.onload=function(){if(d.status===200)if(f==="text")i(d.response);else{var b=new FileReader;b.addEventListener("load",function(){return i(b.result)},!1),b.addEventListener("error",function(x){return l(x)},!1),b.readAsDataURL(d.response)}else l("Failed to proxy resource "+a+" with status code "+d.status)},d.onerror=l;var h=n.indexOf("?")>-1?"&":"?";if(d.open("GET",""+n+h+"url="+encodeURIComponent(e)+"&responseType="+f),f!=="text"&&d instanceof XMLHttpRequest&&(d.responseType=f),t._options.imageTimeout){var g=t._options.imageTimeout;d.timeout=g,d.ontimeout=function(){return l("Timed out ("+g+"ms) proxying "+a)}}d.send()})},A})(),mF=/^data:image\/svg\+xml/i,wF=/^data:image\/.*;base64,/i,vF=/^data:image\/.*/i,bF=function(A){return Ln.SUPPORT_SVG_DRAWING||!xF(A)},Yg=function(A){return vF.test(A)},yF=function(A){return wF.test(A)},Wg=function(A){return A.substr(0,4)==="blob"},xF=function(A){return A.substr(-3).toLowerCase()==="svg"||mF.test(A)},Bt=(function(){function A(e,t){this.type=0,this.x=e,this.y=t}return A.prototype.add=function(e,t){return new A(this.x+e,this.y+t)},A})(),fu=function(A,e,t){return new Bt(A.x+(e.x-A.x)*t,A.y+(e.y-A.y)*t)},jh=(function(){function A(e,t,n,a){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=a}return A.prototype.subdivide=function(e,t){var n=fu(this.start,this.startControl,e),a=fu(this.startControl,this.endControl,e),i=fu(this.endControl,this.end,e),l=fu(n,a,e),f=fu(a,i,e),d=fu(l,f,e);return t?new A(this.start,n,l,d):new A(d,f,i,this.end)},A.prototype.add=function(e,t){return new A(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},A.prototype.reverse=function(){return new A(this.end,this.endControl,this.startControl,this.start)},A})(),ha=function(A){return A.type===1},BF=(function(){function A(e){var t=e.styles,n=e.bounds,a=Gd(t.borderTopLeftRadius,n.width,n.height),i=a[0],l=a[1],f=Gd(t.borderTopRightRadius,n.width,n.height),d=f[0],h=f[1],g=Gd(t.borderBottomRightRadius,n.width,n.height),b=g[0],x=g[1],w=Gd(t.borderBottomLeftRadius,n.width,n.height),S=w[0],E=w[1],U=[];U.push((i+d)/n.width),U.push((S+b)/n.width),U.push((l+E)/n.height),U.push((h+x)/n.height);var _=Math.max.apply(Math,U);_>1&&(i/=_,l/=_,d/=_,h/=_,b/=_,x/=_,S/=_,E/=_);var Q=n.width-d,L=n.height-x,W=n.width-b,X=n.height-E,re=t.borderTopWidth,J=t.borderRightWidth,V=t.borderBottomWidth,ae=t.borderLeftWidth,me=hr(t.paddingTop,e.bounds.width),D=hr(t.paddingRight,e.bounds.width),O=hr(t.paddingBottom,e.bounds.width),Y=hr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||l>0?Sr(n.left+ae/3,n.top+re/3,i-ae/3,l-re/3,GA.TOP_LEFT):new Bt(n.left+ae/3,n.top+re/3),this.topRightBorderDoubleOuterBox=i>0||l>0?Sr(n.left+Q,n.top+re/3,d-J/3,h-re/3,GA.TOP_RIGHT):new Bt(n.left+n.width-J/3,n.top+re/3),this.bottomRightBorderDoubleOuterBox=b>0||x>0?Sr(n.left+W,n.top+L,b-J/3,x-V/3,GA.BOTTOM_RIGHT):new Bt(n.left+n.width-J/3,n.top+n.height-V/3),this.bottomLeftBorderDoubleOuterBox=S>0||E>0?Sr(n.left+ae/3,n.top+X,S-ae/3,E-V/3,GA.BOTTOM_LEFT):new Bt(n.left+ae/3,n.top+n.height-V/3),this.topLeftBorderDoubleInnerBox=i>0||l>0?Sr(n.left+ae*2/3,n.top+re*2/3,i-ae*2/3,l-re*2/3,GA.TOP_LEFT):new Bt(n.left+ae*2/3,n.top+re*2/3),this.topRightBorderDoubleInnerBox=i>0||l>0?Sr(n.left+Q,n.top+re*2/3,d-J*2/3,h-re*2/3,GA.TOP_RIGHT):new Bt(n.left+n.width-J*2/3,n.top+re*2/3),this.bottomRightBorderDoubleInnerBox=b>0||x>0?Sr(n.left+W,n.top+L,b-J*2/3,x-V*2/3,GA.BOTTOM_RIGHT):new Bt(n.left+n.width-J*2/3,n.top+n.height-V*2/3),this.bottomLeftBorderDoubleInnerBox=S>0||E>0?Sr(n.left+ae*2/3,n.top+X,S-ae*2/3,E-V*2/3,GA.BOTTOM_LEFT):new Bt(n.left+ae*2/3,n.top+n.height-V*2/3),this.topLeftBorderStroke=i>0||l>0?Sr(n.left+ae/2,n.top+re/2,i-ae/2,l-re/2,GA.TOP_LEFT):new Bt(n.left+ae/2,n.top+re/2),this.topRightBorderStroke=i>0||l>0?Sr(n.left+Q,n.top+re/2,d-J/2,h-re/2,GA.TOP_RIGHT):new Bt(n.left+n.width-J/2,n.top+re/2),this.bottomRightBorderStroke=b>0||x>0?Sr(n.left+W,n.top+L,b-J/2,x-V/2,GA.BOTTOM_RIGHT):new Bt(n.left+n.width-J/2,n.top+n.height-V/2),this.bottomLeftBorderStroke=S>0||E>0?Sr(n.left+ae/2,n.top+X,S-ae/2,E-V/2,GA.BOTTOM_LEFT):new Bt(n.left+ae/2,n.top+n.height-V/2),this.topLeftBorderBox=i>0||l>0?Sr(n.left,n.top,i,l,GA.TOP_LEFT):new Bt(n.left,n.top),this.topRightBorderBox=d>0||h>0?Sr(n.left+Q,n.top,d,h,GA.TOP_RIGHT):new Bt(n.left+n.width,n.top),this.bottomRightBorderBox=b>0||x>0?Sr(n.left+W,n.top+L,b,x,GA.BOTTOM_RIGHT):new Bt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=S>0||E>0?Sr(n.left,n.top+X,S,E,GA.BOTTOM_LEFT):new Bt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||l>0?Sr(n.left+ae,n.top+re,Math.max(0,i-ae),Math.max(0,l-re),GA.TOP_LEFT):new Bt(n.left+ae,n.top+re),this.topRightPaddingBox=d>0||h>0?Sr(n.left+Math.min(Q,n.width-J),n.top+re,Q>n.width+J?0:Math.max(0,d-J),Math.max(0,h-re),GA.TOP_RIGHT):new Bt(n.left+n.width-J,n.top+re),this.bottomRightPaddingBox=b>0||x>0?Sr(n.left+Math.min(W,n.width-ae),n.top+Math.min(L,n.height-V),Math.max(0,b-J),Math.max(0,x-V),GA.BOTTOM_RIGHT):new Bt(n.left+n.width-J,n.top+n.height-V),this.bottomLeftPaddingBox=S>0||E>0?Sr(n.left+ae,n.top+Math.min(X,n.height-V),Math.max(0,S-ae),Math.max(0,E-V),GA.BOTTOM_LEFT):new Bt(n.left+ae,n.top+n.height-V),this.topLeftContentBox=i>0||l>0?Sr(n.left+ae+Y,n.top+re+me,Math.max(0,i-(ae+Y)),Math.max(0,l-(re+me)),GA.TOP_LEFT):new Bt(n.left+ae+Y,n.top+re+me),this.topRightContentBox=d>0||h>0?Sr(n.left+Math.min(Q,n.width+ae+Y),n.top+re+me,Q>n.width+ae+Y?0:d-ae+Y,h-(re+me),GA.TOP_RIGHT):new Bt(n.left+n.width-(J+D),n.top+re+me),this.bottomRightContentBox=b>0||x>0?Sr(n.left+Math.min(W,n.width-(ae+Y)),n.top+Math.min(L,n.height+re+me),Math.max(0,b-(J+D)),x-(V+O),GA.BOTTOM_RIGHT):new Bt(n.left+n.width-(J+D),n.top+n.height-(V+O)),this.bottomLeftContentBox=S>0||E>0?Sr(n.left+ae+Y,n.top+X,Math.max(0,S-(ae+Y)),E-(V+O),GA.BOTTOM_LEFT):new Bt(n.left+ae+Y,n.top+n.height-(V+O))}return A})(),GA;(function(A){A[A.TOP_LEFT=0]="TOP_LEFT",A[A.TOP_RIGHT=1]="TOP_RIGHT",A[A.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",A[A.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(GA||(GA={}));var Sr=function(A,e,t,n,a){var i=4*((Math.sqrt(2)-1)/3),l=t*i,f=n*i,d=A+t,h=e+n;switch(a){case GA.TOP_LEFT:return new jh(new Bt(A,h),new Bt(A,h-f),new Bt(d-l,e),new Bt(d,e));case GA.TOP_RIGHT:return new jh(new Bt(A,e),new Bt(A+l,e),new Bt(d,h-f),new Bt(d,h));case GA.BOTTOM_RIGHT:return new jh(new Bt(d,e),new Bt(d,e+f),new Bt(A+l,h),new Bt(A,h));case GA.BOTTOM_LEFT:default:return new jh(new Bt(d,h),new Bt(d-l,h),new Bt(A,e+f),new Bt(A,e))}},B0=function(A){return[A.topLeftBorderBox,A.topRightBorderBox,A.bottomRightBorderBox,A.bottomLeftBorderBox]},CF=function(A){return[A.topLeftContentBox,A.topRightContentBox,A.bottomRightContentBox,A.bottomLeftContentBox]},C0=function(A){return[A.topLeftPaddingBox,A.topRightPaddingBox,A.bottomRightPaddingBox,A.bottomLeftPaddingBox]},EF=(function(){function A(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return A})(),Lh=(function(){function A(e,t){this.path=e,this.target=t,this.type=1}return A})(),SF=(function(){function A(e){this.opacity=e,this.type=2,this.target=6}return A})(),_F=function(A){return A.type===0},iB=function(A){return A.type===1},NF=function(A){return A.type===2},Hb=function(A,e){return A.length===e.length?A.some(function(t,n){return t===e[n]}):!1},UF=function(A,e,t,n,a){return A.map(function(i,l){switch(l){case 0:return i.add(e,t);case 1:return i.add(e+n,t);case 2:return i.add(e+n,t+a);case 3:return i.add(e,t+a)}return i})},oB=(function(){function A(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return A})(),lB=(function(){function A(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new BF(this.container),this.container.styles.opacity<1&&this.effects.push(new SF(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new EF(n,a,i))}if(this.container.styles.overflowX!==0){var l=B0(this.curves),f=C0(this.curves);Hb(l,f)?this.effects.push(new Lh(l,6)):(this.effects.push(new Lh(l,2)),this.effects.push(new Lh(f,4)))}}return A.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(d){return!iB(d)});if(t||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var l=B0(n.curves),f=C0(n.curves);Hb(l,f)||a.unshift(new Lh(f,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(d){return fn(d.target,e)})},A})(),Vm=function(A,e,t,n){A.container.elements.forEach(function(a){var i=fn(a.flags,4),l=fn(a.flags,2),f=new lB(a,A);fn(a.styles.display,2048)&&n.push(f);var d=fn(a.flags,8)?[]:n;if(i||l){var h=i||a.styles.isPositioned()?t:e,g=new oB(f);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var b=a.styles.zIndex.order;if(b<0){var x=0;h.negativeZIndex.some(function(S,E){return b>S.element.container.styles.zIndex.order?(x=E,!1):x>0}),h.negativeZIndex.splice(x,0,g)}else if(b>0){var w=0;h.positiveZIndex.some(function(S,E){return b>=S.element.container.styles.zIndex.order?(w=E+1,!1):w>0}),h.positiveZIndex.splice(w,0,g)}else h.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else a.styles.isFloating()?h.nonPositionedFloats.push(g):h.nonPositionedInlineLevel.push(g);Vm(f,g,i?g:t,d)}else a.styles.isInlineLevel()?e.inlineLevel.push(f):e.nonInlineLevel.push(f),Vm(f,e,t,d);fn(a.flags,8)&&cB(a,d)})},cB=function(A,e){for(var t=A instanceof Pm?A.start:1,n=A instanceof Pm?A.reversed:!1,a=0;a<e.length;a++){var i=e[a];i.container instanceof Vx&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=lf(t,i.container.styles.listStyleType,!0),t+=n?-1:1}},QF=function(A){var e=new lB(A,null),t=new oB(e),n=[];return Vm(e,t,t,n),cB(e.container,n),t},Mb=function(A,e){switch(e){case 0:return ga(A.topLeftBorderBox,A.topLeftPaddingBox,A.topRightBorderBox,A.topRightPaddingBox);case 1:return ga(A.topRightBorderBox,A.topRightPaddingBox,A.bottomRightBorderBox,A.bottomRightPaddingBox);case 2:return ga(A.bottomRightBorderBox,A.bottomRightPaddingBox,A.bottomLeftBorderBox,A.bottomLeftPaddingBox);case 3:default:return ga(A.bottomLeftBorderBox,A.bottomLeftPaddingBox,A.topLeftBorderBox,A.topLeftPaddingBox)}},FF=function(A,e){switch(e){case 0:return ga(A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox,A.topRightBorderBox,A.topRightBorderDoubleOuterBox);case 1:return ga(A.topRightBorderBox,A.topRightBorderDoubleOuterBox,A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox);case 2:return ga(A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox,A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox);case 3:default:return ga(A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox,A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox)}},jF=function(A,e){switch(e){case 0:return ga(A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox,A.topRightBorderDoubleInnerBox,A.topRightPaddingBox);case 1:return ga(A.topRightBorderDoubleInnerBox,A.topRightPaddingBox,A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox);case 2:return ga(A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox,A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox);case 3:default:return ga(A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox,A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox)}},LF=function(A,e){switch(e){case 0:return Ih(A.topLeftBorderStroke,A.topRightBorderStroke);case 1:return Ih(A.topRightBorderStroke,A.bottomRightBorderStroke);case 2:return Ih(A.bottomRightBorderStroke,A.bottomLeftBorderStroke);case 3:default:return Ih(A.bottomLeftBorderStroke,A.topLeftBorderStroke)}},Ih=function(A,e){var t=[];return ha(A)?t.push(A.subdivide(.5,!1)):t.push(A),ha(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},ga=function(A,e,t,n){var a=[];return ha(A)?a.push(A.subdivide(.5,!1)):a.push(A),ha(t)?a.push(t.subdivide(.5,!0)):a.push(t),ha(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),ha(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},uB=function(A){var e=A.bounds,t=A.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},E0=function(A){var e=A.styles,t=A.bounds,n=hr(e.paddingLeft,t.width),a=hr(e.paddingRight,t.width),i=hr(e.paddingTop,t.width),l=hr(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+i+l))},IF=function(A,e){return A===0?e.bounds:A===2?E0(e):uB(e)},TF=function(A,e){return A===0?e.bounds:A===2?E0(e):uB(e)},Jg=function(A,e,t){var n=IF(Bu(A.styles.backgroundOrigin,e),A),a=TF(Bu(A.styles.backgroundClip,e),A),i=DF(Bu(A.styles.backgroundSize,e),t,n),l=i[0],f=i[1],d=Gd(Bu(A.styles.backgroundPosition,e),n.width-l,n.height-f),h=OF(Bu(A.styles.backgroundRepeat,e),d,i,n,a),g=Math.round(n.left+d[0]),b=Math.round(n.top+d[1]);return[h,g,b,l,f]},hu=function(A){return nr(A)&&A.value===Fu.AUTO},Th=function(A){return typeof A=="number"},DF=function(A,e,t){var n=e[0],a=e[1],i=e[2],l=A[0],f=A[1];if(!l)return[0,0];if(rn(l)&&f&&rn(f))return[hr(l,t.width),hr(f,t.height)];var d=Th(i);if(nr(l)&&(l.value===Fu.CONTAIN||l.value===Fu.COVER)){if(Th(i)){var h=t.width/t.height;return h<i!=(l.value===Fu.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var g=Th(n),b=Th(a),x=g||b;if(hu(l)&&(!f||hu(f))){if(g&&b)return[n,a];if(!d&&!x)return[t.width,t.height];if(x&&d){var w=g?n:a*i,S=b?a:n/i;return[w,S]}var E=g?n:t.width,U=b?a:t.height;return[E,U]}if(d){var _=0,Q=0;return rn(l)?_=hr(l,t.width):rn(f)&&(Q=hr(f,t.height)),hu(l)?_=Q*i:(!f||hu(f))&&(Q=_/i),[_,Q]}var L=null,W=null;if(rn(l)?L=hr(l,t.width):f&&rn(f)&&(W=hr(f,t.height)),L!==null&&(!f||hu(f))&&(W=g&&b?L/n*a:t.height),W!==null&&hu(l)&&(L=g&&b?W/a*n:t.width),L!==null&&W!==null)return[L,W];throw new Error("Unable to calculate background-size for element")},Bu=function(A,e){var t=A[e];return typeof t>"u"?A[0]:t},OF=function(A,e,t,n,a){var i=e[0],l=e[1],f=t[0],d=t[1];switch(A){case 2:return[new Bt(Math.round(n.left),Math.round(n.top+l)),new Bt(Math.round(n.left+n.width),Math.round(n.top+l)),new Bt(Math.round(n.left+n.width),Math.round(d+n.top+l)),new Bt(Math.round(n.left),Math.round(d+n.top+l))];case 3:return[new Bt(Math.round(n.left+i),Math.round(n.top)),new Bt(Math.round(n.left+i+f),Math.round(n.top)),new Bt(Math.round(n.left+i+f),Math.round(n.height+n.top)),new Bt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Bt(Math.round(n.left+i),Math.round(n.top+l)),new Bt(Math.round(n.left+i+f),Math.round(n.top+l)),new Bt(Math.round(n.left+i+f),Math.round(n.top+l+d)),new Bt(Math.round(n.left+i),Math.round(n.top+l+d))];default:return[new Bt(Math.round(a.left),Math.round(a.top)),new Bt(Math.round(a.left+a.width),Math.round(a.top)),new Bt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Bt(Math.round(a.left),Math.round(a.height+a.top))]}},kF="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Pb="Hidden Text",RF=(function(){function A(e){this._data={},this._document=e}return A.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),l=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",l.appendChild(n),a.src=kF,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Pb)),n.appendChild(i),n.appendChild(a);var f=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(Pb)),n.style.lineHeight="normal",a.style.verticalAlign="super";var d=a.offsetTop-n.offsetTop+2;return l.removeChild(n),{baseline:f,middle:d}},A.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},A})(),dB=(function(){function A(e,t){this.context=e,this.options=t}return A})(),HF=1e4,MF=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new RF(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(t){this.ctx.save(),NF(t)&&(this.ctx.globalAlpha=t.opacity),_F(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),iB(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return ns(this,void 0,void 0,function(){var n;return zn(this,function(a){switch(a.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return ns(this,void 0,void 0,function(){return zn(this,function(n){switch(n.label){case 0:if(fn(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,a){var i=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+a);else{var l=M1(t.text);l.reduce(function(f,d){return i.ctx.fillText(d,f,t.bounds.top+a),f+i.ctx.measureText(d).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),a=zF(t.fontFamily).join(", "),i=vf(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,i,a].join(" "),a,i]},e.prototype.renderTextNode=function(t,n){return ns(this,void 0,void 0,function(){var a,i,l,f,d,h,g,b,x=this;return zn(this,function(w){return a=this.createFontStyle(n),i=a[0],l=a[1],f=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",d=this.fontMetrics.getMetrics(l,f),h=d.baseline,g=d.middle,b=n.paintOrder,t.textBounds.forEach(function(S){b.forEach(function(E){switch(E){case 0:x.ctx.fillStyle=yn(n.color),x.renderTextWithLetterSpacing(S,n.letterSpacing,h);var U=n.textShadow;U.length&&S.text.trim().length&&(U.slice(0).reverse().forEach(function(_){x.ctx.shadowColor=yn(_.color),x.ctx.shadowOffsetX=_.offsetX.number*x.options.scale,x.ctx.shadowOffsetY=_.offsetY.number*x.options.scale,x.ctx.shadowBlur=_.blur.number,x.renderTextWithLetterSpacing(S,n.letterSpacing,h)}),x.ctx.shadowColor="",x.ctx.shadowOffsetX=0,x.ctx.shadowOffsetY=0,x.ctx.shadowBlur=0),n.textDecorationLine.length&&(x.ctx.fillStyle=yn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(_){switch(_){case 1:x.ctx.fillRect(S.bounds.left,Math.round(S.bounds.top+h),S.bounds.width,1);break;case 2:x.ctx.fillRect(S.bounds.left,Math.round(S.bounds.top),S.bounds.width,1);break;case 3:x.ctx.fillRect(S.bounds.left,Math.ceil(S.bounds.top+g),S.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&S.text.trim().length&&(x.ctx.strokeStyle=yn(n.webkitTextStrokeColor),x.ctx.lineWidth=n.webkitTextStrokeWidth,x.ctx.lineJoin=window.chrome?"miter":"round",x.ctx.strokeText(S.text,S.bounds.left,S.bounds.top+h)),x.ctx.strokeStyle="",x.ctx.lineWidth=0,x.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,a){if(a&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=E0(t),l=C0(n);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return ns(this,void 0,void 0,function(){var n,a,i,l,f,d,Q,Q,h,g,b,x,W,w,S,X,E,U,_,Q,L,W,X;return zn(this,function(re){switch(re.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,a=t.curves,i=n.styles,l=0,f=n.textNodes,re.label=1;case 1:return l<f.length?(d=f[l],[4,this.renderTextNode(d,i)]):[3,4];case 2:re.sent(),re.label=3;case 3:return l++,[3,1];case 4:if(!(n instanceof qx))return[3,8];re.label=5;case 5:return re.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return Q=re.sent(),this.renderReplacedElement(n,a,Q),[3,8];case 7:return re.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Gx&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof zx))return[3,12];re.label=9;case 9:return re.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return Q=re.sent(),this.renderReplacedElement(n,a,Q),[3,12];case 11:return re.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Wx&&n.tree?(h=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,h.render(n.tree)]):[3,14];case 13:g=re.sent(),n.width&&n.height&&this.ctx.drawImage(g,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),re.label=14;case 14:if(n instanceof P1&&(b=Math.min(n.bounds.width,n.bounds.height),n.type===v0?n.checked&&(this.ctx.save(),this.path([new Bt(n.bounds.left+b*.39363,n.bounds.top+b*.79),new Bt(n.bounds.left+b*.16,n.bounds.top+b*.5549),new Bt(n.bounds.left+b*.27347,n.bounds.top+b*.44071),new Bt(n.bounds.left+b*.39694,n.bounds.top+b*.5649),new Bt(n.bounds.left+b*.72983,n.bounds.top+b*.23),new Bt(n.bounds.left+b*.84,n.bounds.top+b*.34085),new Bt(n.bounds.left+b*.39363,n.bounds.top+b*.79)]),this.ctx.fillStyle=yn(Ub),this.ctx.fill(),this.ctx.restore()):n.type===b0&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+b/2,n.bounds.top+b/2,b/4,0,Math.PI*2,!0),this.ctx.fillStyle=yn(Ub),this.ctx.fill(),this.ctx.restore())),PF(n)&&n.value.length){switch(x=this.createFontStyle(i),W=x[0],w=x[1],S=this.fontMetrics.getMetrics(W,w).baseline,this.ctx.font=W,this.ctx.fillStyle=yn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=qF(n.styles.textAlign),X=E0(n),E=0,n.styles.textAlign){case 1:E+=X.width/2;break;case 2:E+=X.width;break}U=X.add(E,0,0,-X.height/2+1),this.ctx.save(),this.path([new Bt(X.left,X.top),new Bt(X.left+X.width,X.top),new Bt(X.left+X.width,X.top+X.height),new Bt(X.left,X.top+X.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ef(n.value,U),i.letterSpacing,S),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!fn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(_=n.styles.listStyleImage,_.type!==0)return[3,18];Q=void 0,L=_.url,re.label=15;case 15:return re.trys.push([15,17,,18]),[4,this.context.cache.match(L)];case 16:return Q=re.sent(),this.ctx.drawImage(Q,n.bounds.left-(Q.width+10),n.bounds.top),[3,18];case 17:return re.sent(),this.context.logger.error("Error loading list-style-image "+L),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(W=this.createFontStyle(i)[0],this.ctx.font=W,this.ctx.fillStyle=yn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",X=new fo(n.bounds.left,n.bounds.top+hr(n.styles.paddingTop,n.bounds.width),n.bounds.width,db(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ef(t.listValue,X),i.letterSpacing,db(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),re.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return ns(this,void 0,void 0,function(){var n,a,_,i,l,_,f,d,_,h,g,_,b,x,_,w,S,_,E,U,_;return zn(this,function(Q){switch(Q.label){case 0:if(fn(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:Q.sent(),n=0,a=t.negativeZIndex,Q.label=2;case 2:return n<a.length?(_=a[n],[4,this.renderStack(_)]):[3,5];case 3:Q.sent(),Q.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:Q.sent(),i=0,l=t.nonInlineLevel,Q.label=7;case 7:return i<l.length?(_=l[i],[4,this.renderNode(_)]):[3,10];case 8:Q.sent(),Q.label=9;case 9:return i++,[3,7];case 10:f=0,d=t.nonPositionedFloats,Q.label=11;case 11:return f<d.length?(_=d[f],[4,this.renderStack(_)]):[3,14];case 12:Q.sent(),Q.label=13;case 13:return f++,[3,11];case 14:h=0,g=t.nonPositionedInlineLevel,Q.label=15;case 15:return h<g.length?(_=g[h],[4,this.renderStack(_)]):[3,18];case 16:Q.sent(),Q.label=17;case 17:return h++,[3,15];case 18:b=0,x=t.inlineLevel,Q.label=19;case 19:return b<x.length?(_=x[b],[4,this.renderNode(_)]):[3,22];case 20:Q.sent(),Q.label=21;case 21:return b++,[3,19];case 22:w=0,S=t.zeroOrAutoZIndexOrTransformedOrOpacity,Q.label=23;case 23:return w<S.length?(_=S[w],[4,this.renderStack(_)]):[3,26];case 24:Q.sent(),Q.label=25;case 25:return w++,[3,23];case 26:E=0,U=t.positiveZIndex,Q.label=27;case 27:return E<U.length?(_=U[E],[4,this.renderStack(_)]):[3,30];case 28:Q.sent(),Q.label=29;case 29:return E++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(a,i){var l=ha(a)?a.start:a;i===0?n.ctx.moveTo(l.x,l.y):n.ctx.lineTo(l.x,l.y),ha(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(t,n,a,i){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},e.prototype.resizeImage=function(t,n,a){var i;if(t.width===n&&t.height===a)return t;var l=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,f=l.createElement("canvas");f.width=Math.max(1,n),f.height=Math.max(1,a);var d=f.getContext("2d");return d.drawImage(t,0,0,t.width,t.height,0,0,n,a),f},e.prototype.renderBackgroundImage=function(t){return ns(this,void 0,void 0,function(){var n,a,i,l,f,d;return zn(this,function(h){switch(h.label){case 0:n=t.styles.backgroundImage.length-1,a=function(g){var b,x,w,me,ee,ce,Y,Ae,V,S,me,ee,ce,Y,Ae,E,U,_,Q,L,W,X,re,J,V,ae,me,D,O,Y,Ae,Ce,ee,ce,le,Ne,te,H,N,k,P,G;return zn(this,function(z){switch(z.label){case 0:if(g.type!==0)return[3,5];b=void 0,x=g.url,z.label=1;case 1:return z.trys.push([1,3,,4]),[4,i.context.cache.match(x)];case 2:return b=z.sent(),[3,4];case 3:return z.sent(),i.context.logger.error("Error loading background-image "+x),[3,4];case 4:return b&&(w=Jg(t,n,[b.width,b.height,b.width/b.height]),me=w[0],ee=w[1],ce=w[2],Y=w[3],Ae=w[4],V=i.ctx.createPattern(i.resizeImage(b,Y,Ae),"repeat"),i.renderRepeat(me,V,ee,ce)),[3,6];case 5:_N(g)?(S=Jg(t,n,[null,null,null]),me=S[0],ee=S[1],ce=S[2],Y=S[3],Ae=S[4],E=xN(g.angle,Y,Ae),U=E[0],_=E[1],Q=E[2],L=E[3],W=E[4],X=document.createElement("canvas"),X.width=Y,X.height=Ae,re=X.getContext("2d"),J=re.createLinearGradient(_,L,Q,W),cb(g.stops,U).forEach(function(ie){return J.addColorStop(ie.stop,yn(ie.color))}),re.fillStyle=J,re.fillRect(0,0,Y,Ae),Y>0&&Ae>0&&(V=i.ctx.createPattern(X,"repeat"),i.renderRepeat(me,V,ee,ce))):NN(g)&&(ae=Jg(t,n,[null,null,null]),me=ae[0],D=ae[1],O=ae[2],Y=ae[3],Ae=ae[4],Ce=g.position.length===0?[k1]:g.position,ee=hr(Ce[0],Y),ce=hr(Ce[Ce.length-1],Ae),le=BN(g,ee,ce,Y,Ae),Ne=le[0],te=le[1],Ne>0&&te>0&&(H=i.ctx.createRadialGradient(D+ee,O+ce,0,D+ee,O+ce,Ne),cb(g.stops,Ne*2).forEach(function(ie){return H.addColorStop(ie.stop,yn(ie.color))}),i.path(me),i.ctx.fillStyle=H,Ne!==te?(N=t.bounds.left+.5*t.bounds.width,k=t.bounds.top+.5*t.bounds.height,P=te/Ne,G=1/P,i.ctx.save(),i.ctx.translate(N,k),i.ctx.transform(1,0,0,P,0,0),i.ctx.translate(-N,-k),i.ctx.fillRect(D,G*(O-k)+k,Y,Ae*G),i.ctx.restore()):i.ctx.fill())),z.label=6;case 6:return n--,[2]}})},i=this,l=0,f=t.styles.backgroundImage.slice(0).reverse(),h.label=1;case 1:return l<f.length?(d=f[l],[5,a(d)]):[3,4];case 2:h.sent(),h.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,a){return ns(this,void 0,void 0,function(){return zn(this,function(i){return this.path(Mb(a,n)),this.ctx.fillStyle=yn(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,a,i){return ns(this,void 0,void 0,function(){var l,f;return zn(this,function(d){switch(d.label){case 0:return n<3?[4,this.renderSolidBorder(t,a,i)]:[3,2];case 1:return d.sent(),[2];case 2:return l=FF(i,a),this.path(l),this.ctx.fillStyle=yn(t),this.ctx.fill(),f=jF(i,a),this.path(f),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return ns(this,void 0,void 0,function(){var n,a,i,l,f,d,h,g,b=this;return zn(this,function(x){switch(x.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,a=!pl(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],l=KF(Bu(n.backgroundClip,0),t.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),pl(n.backgroundColor)||(this.ctx.fillStyle=yn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:x.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(w){b.ctx.save();var S=B0(t.curves),E=w.inset?0:HF,U=UF(S,-E+(w.inset?1:-1)*w.spread.number,(w.inset?1:-1)*w.spread.number,w.spread.number*(w.inset?-2:2),w.spread.number*(w.inset?-2:2));w.inset?(b.path(S),b.ctx.clip(),b.mask(U)):(b.mask(S),b.ctx.clip(),b.path(U)),b.ctx.shadowOffsetX=w.offsetX.number+E,b.ctx.shadowOffsetY=w.offsetY.number,b.ctx.shadowColor=yn(w.color),b.ctx.shadowBlur=w.blur.number,b.ctx.fillStyle=w.inset?yn(w.color):"rgba(0,0,0,1)",b.ctx.fill(),b.ctx.restore()}),x.label=2;case 2:f=0,d=0,h=i,x.label=3;case 3:return d<h.length?(g=h[d],g.style!==0&&!pl(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,f,t.curves,2)]:[3,11]):[3,13];case 4:return x.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,f,t.curves,3)];case 6:return x.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,f,t.curves)];case 8:return x.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,f,t.curves)];case 10:x.sent(),x.label=11;case 11:f++,x.label=12;case 12:return d++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,a,i,l){return ns(this,void 0,void 0,function(){var f,d,h,g,b,x,w,S,E,U,_,Q,L,W,X,re,X,re;return zn(this,function(J){return this.ctx.save(),f=LF(i,a),d=Mb(i,a),l===2&&(this.path(d),this.ctx.clip()),ha(d[0])?(h=d[0].start.x,g=d[0].start.y):(h=d[0].x,g=d[0].y),ha(d[1])?(b=d[1].end.x,x=d[1].end.y):(b=d[1].x,x=d[1].y),a===0||a===2?w=Math.abs(h-b):w=Math.abs(g-x),this.ctx.beginPath(),l===3?this.formatPath(f):this.formatPath(d.slice(0,2)),S=n<3?n*3:n*2,E=n<3?n*2:n,l===3&&(S=n,E=n),U=!0,w<=S*2?U=!1:w<=S*2+E?(_=w/(2*S+E),S*=_,E*=_):(Q=Math.floor((w+E)/(S+E)),L=(w-Q*S)/(Q-1),W=(w-(Q+1)*S)/Q,E=W<=0||Math.abs(E-L)<Math.abs(E-W)?L:W),U&&(l===3?this.ctx.setLineDash([0,S+E]):this.ctx.setLineDash([S,E])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=yn(t),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(ha(d[0])&&(X=d[3],re=d[0],this.ctx.beginPath(),this.formatPath([new Bt(X.end.x,X.end.y),new Bt(re.start.x,re.start.y)]),this.ctx.stroke()),ha(d[1])&&(X=d[1],re=d[2],this.ctx.beginPath(),this.formatPath([new Bt(X.end.x,X.end.y),new Bt(re.start.x,re.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return ns(this,void 0,void 0,function(){var n;return zn(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=yn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=QF(t),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(dB),PF=function(A){return A instanceof Yx||A instanceof $x?!0:A instanceof P1&&A.type!==b0&&A.type!==v0},KF=function(A,e){switch(A){case 0:return B0(e);case 2:return CF(e);case 1:default:return C0(e)}},qF=function(A){switch(A){case 1:return"center";case 2:return"right";case 0:default:return"left"}},GF=["-apple-system","system-ui"],zF=function(A){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?A.filter(function(e){return GF.indexOf(e)===-1}):A},VF=(function(A){Ma(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(t){return ns(this,void 0,void 0,function(){var n,a;return zn(this,function(i){switch(i.label){case 0:return n=Mm(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,$F(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=yn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(dB),$F=function(A){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(A))})},YF=(function(){function A(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return A.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,fh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.prototype.getTime=function(){return Date.now()-this.start},A.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,fh([this.id,this.getTime()+"ms"],e))},A.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,fh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,fh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.instances={},A})(),WF=(function(){function A(e,t){var n;this.windowBounds=t,this.instanceName="#"+A.instanceCount++,this.logger=new YF({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new gF(this,e)}return A.instanceCount=1,A})(),S0=function(A,e){return e===void 0&&(e={}),JF(A,e)};typeof window<"u"&&aB.setContext(window);var JF=function(A,e){return ns(void 0,void 0,void 0,function(){var t,n,a,i,l,f,d,h,g,b,x,w,S,E,U,_,Q,L,W,X,J,re,J,V,ae,me,D,O,Y,Ae,Ce,ee,ce,le,Ne,te,H,N,k,P;return zn(this,function(G){switch(G.label){case 0:if(!A||typeof A!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=A.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(V=e.allowTaint)!==null&&V!==void 0?V:!1,imageTimeout:(ae=e.imageTimeout)!==null&&ae!==void 0?ae:15e3,proxy:e.proxy,useCORS:(me=e.useCORS)!==null&&me!==void 0?me:!1},i=Sm({logging:(D=e.logging)!==null&&D!==void 0?D:!0,cache:e.cache},a),l={windowWidth:(O=e.windowWidth)!==null&&O!==void 0?O:n.innerWidth,windowHeight:(Y=e.windowHeight)!==null&&Y!==void 0?Y:n.innerHeight,scrollX:(Ae=e.scrollX)!==null&&Ae!==void 0?Ae:n.pageXOffset,scrollY:(Ce=e.scrollY)!==null&&Ce!==void 0?Ce:n.pageYOffset},f=new fo(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),d=new WF(i,f),h=(ee=e.foreignObjectRendering)!==null&&ee!==void 0?ee:!1,g={allowTaint:(ce=e.allowTaint)!==null&&ce!==void 0?ce:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:h,copyStyles:h},d.logger.debug("Starting document clone with size "+f.width+"x"+f.height+" scrolled to "+-f.left+","+-f.top),b=new kb(d,A,g),x=b.clonedReferenceElement,x?[4,b.toIFrame(t,f)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=G.sent(),S=K1(x)||ZQ(x)?US(x.ownerDocument):K0(d,x),E=S.width,U=S.height,_=S.left,Q=S.top,L=XF(d,x,e.backgroundColor),W={canvas:e.canvas,backgroundColor:L,scale:(Ne=(le=e.scale)!==null&&le!==void 0?le:n.devicePixelRatio)!==null&&Ne!==void 0?Ne:1,x:((te=e.x)!==null&&te!==void 0?te:0)+_,y:((H=e.y)!==null&&H!==void 0?H:0)+Q,width:(N=e.width)!==null&&N!==void 0?N:Math.ceil(E),height:(k=e.height)!==null&&k!==void 0?k:Math.ceil(U)},h?(d.logger.debug("Document cloned, using foreign object rendering"),J=new VF(d,W),[4,J.render(x)]):[3,3];case 2:return X=G.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+_+","+Q+" with size "+E+"x"+U+" using computed rendering"),d.logger.debug("Starting DOM parsing"),re=Xx(d,x),L===re.styles.backgroundColor&&(re.styles.backgroundColor=co.TRANSPARENT),d.logger.debug("Starting renderer for element at "+W.x+","+W.y+" with size "+W.width+"x"+W.height),J=new MF(d,W),[4,J.render(re)];case 4:X=G.sent(),G.label=5;case 5:return(!((P=e.removeContainer)!==null&&P!==void 0)||P)&&(kb.destroy(w)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,X]}})})},XF=function(A,e,t){var n=e.ownerDocument,a=n.documentElement?Xd(A,getComputedStyle(n.documentElement).backgroundColor):co.TRANSPARENT,i=n.body?Xd(A,getComputedStyle(n.body).backgroundColor):co.TRANSPARENT,l=typeof t=="string"?Xd(A,t):t===null?co.TRANSPARENT:4294967295;return e===n.documentElement?pl(a)?pl(i)?l:i:a:l};const ZF=Object.freeze(Object.defineProperty({__proto__:null,default:S0},Symbol.toStringTag,{value:"Module"})),e6="modulepreload",t6=function(A){return"/radioplan/"+A},Kb={},$m=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let l=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=l(t.map(h=>{if(h=t6(h),h in Kb)return;Kb[h]=!0;const g=h.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${b}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":e6,g||(x.as="script"),x.crossOrigin="",x.href=h,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((w,S)=>{x.addEventListener("load",w),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=l,window.dispatchEvent(f),!f.defaultPrevented)throw l}return a.then(l=>{for(const f of l||[])f.status==="rejected"&&i(f.reason);return e().catch(i)})};function WA(A){"@babel/helpers - typeof";return WA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WA(A)}var Fs=Uint8Array,ss=Uint16Array,cf=Uint32Array,Z0=new Fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ep=new Fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ym=new Fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fB=function(A,e){for(var t=new ss(31),n=0;n<31;++n)t[n]=e+=1<<A[n-1];for(var a=new cf(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)a[i]=i-t[n]<<5|n;return[t,a]},hB=fB(Z0,2),pB=hB[0],Wm=hB[1];pB[28]=258,Wm[258]=28;var gB=fB(ep,0),A6=gB[0],qb=gB[1],Jm=new ss(32768);for(var wr=0;wr<32768;++wr){var Zo=(wr&43690)>>>1|(wr&21845)<<1;Zo=(Zo&52428)>>>2|(Zo&13107)<<2,Zo=(Zo&61680)>>>4|(Zo&3855)<<4,Jm[wr]=((Zo&65280)>>>8|(Zo&255)<<8)>>>1}var xi=(function(A,e,t){for(var n=A.length,a=0,i=new ss(e);a<n;++a)++i[A[a]-1];var l=new ss(e);for(a=0;a<e;++a)l[a]=l[a-1]+i[a-1]<<1;var f;if(t){f=new ss(1<<e);var d=15-e;for(a=0;a<n;++a)if(A[a])for(var h=a<<4|A[a],g=e-A[a],b=l[A[a]-1]++<<g,x=b|(1<<g)-1;b<=x;++b)f[Jm[b]>>>d]=h}else for(f=new ss(n),a=0;a<n;++a)f[a]=Jm[l[A[a]-1]++]>>>15-A[a];return f}),ml=new Fs(288);for(var wr=0;wr<144;++wr)ml[wr]=8;for(var wr=144;wr<256;++wr)ml[wr]=9;for(var wr=256;wr<280;++wr)ml[wr]=7;for(var wr=280;wr<288;++wr)ml[wr]=8;var uf=new Fs(32);for(var wr=0;wr<32;++wr)uf[wr]=5;var r6=xi(ml,9,0),n6=xi(ml,9,1),s6=xi(uf,5,0),a6=xi(uf,5,1),Xg=function(A){for(var e=A[0],t=1;t<A.length;++t)A[t]>e&&(e=A[t]);return e},La=function(A,e,t){var n=e/8>>0;return(A[n]|A[n+1]<<8)>>>(e&7)&t},Zg=function(A,e){var t=e/8>>0;return(A[t]|A[t+1]<<8|A[t+2]<<16)>>>(e&7)},q1=function(A){return(A/8>>0)+(A&7&&1)},mB=function(A,e,t){(t==null||t>A.length)&&(t=A.length);var n=new(A instanceof ss?ss:A instanceof cf?cf:Fs)(t-e);return n.set(A.subarray(e,t)),n},i6=function(A,e,t){var n=A.length,a=!e||t,i=!t||t.i;t||(t={}),e||(e=new Fs(n*3));var l=function(z){var ie=e.length;if(z>ie){var he=new Fs(Math.max(ie*2,z));he.set(e),e=he}},f=t.f||0,d=t.p||0,h=t.b||0,g=t.l,b=t.d,x=t.m,w=t.n,S=n*8;do{if(!g){t.f=f=La(A,d,1);var E=La(A,d+1,3);if(d+=3,E)if(E==1)g=n6,b=a6,x=9,w=5;else if(E==2){var L=La(A,d,31)+257,W=La(A,d+10,15)+4,X=L+La(A,d+5,31)+1;d+=14;for(var re=new Fs(X),J=new Fs(19),V=0;V<W;++V)J[Ym[V]]=La(A,d+V*3,7);d+=W*3;var ae=Xg(J),me=(1<<ae)-1;if(!i&&d+X*(ae+7)>S)break;for(var D=xi(J,ae,1),V=0;V<X;){var O=D[La(A,d,me)];d+=O&15;var U=O>>>4;if(U<16)re[V++]=U;else{var Y=0,Ae=0;for(U==16?(Ae=3+La(A,d,3),d+=2,Y=re[V-1]):U==17?(Ae=3+La(A,d,7),d+=3):U==18&&(Ae=11+La(A,d,127),d+=7);Ae--;)re[V++]=Y}}var Ce=re.subarray(0,L),ee=re.subarray(L);x=Xg(Ce),w=Xg(ee),g=xi(Ce,x,1),b=xi(ee,w,1)}else throw"invalid block type";else{var U=q1(d)+4,_=A[U-4]|A[U-3]<<8,Q=U+_;if(Q>n){if(i)throw"unexpected EOF";break}a&&l(h+_),e.set(A.subarray(U,Q),h),t.b=h+=_,t.p=d=Q*8;continue}if(d>S)throw"unexpected EOF"}a&&l(h+131072);for(var ce=(1<<x)-1,le=(1<<w)-1,Ne=x+w+18;i||d+Ne<S;){var Y=g[Zg(A,d)&ce],te=Y>>>4;if(d+=Y&15,d>S)throw"unexpected EOF";if(!Y)throw"invalid length/literal";if(te<256)e[h++]=te;else if(te==256){g=null;break}else{var H=te-254;if(te>264){var V=te-257,N=Z0[V];H=La(A,d,(1<<N)-1)+pB[V],d+=N}var k=b[Zg(A,d)&le],P=k>>>4;if(!k)throw"invalid distance";d+=k&15;var ee=A6[P];if(P>3){var N=ep[P];ee+=Zg(A,d)&(1<<N)-1,d+=N}if(d>S)throw"unexpected EOF";a&&l(h+131072);for(var G=h+H;h<G;h+=4)e[h]=e[h-ee],e[h+1]=e[h+1-ee],e[h+2]=e[h+2-ee],e[h+3]=e[h+3-ee];h=G}}t.l=g,t.p=d,t.b=h,g&&(f=1,t.m=x,t.d=b,t.n=w)}while(!f);return h==e.length?e:mB(e,0,h)},no=function(A,e,t){t<<=e&7;var n=e/8>>0;A[n]|=t,A[n+1]|=t>>>8},Od=function(A,e,t){t<<=e&7;var n=e/8>>0;A[n]|=t,A[n+1]|=t>>>8,A[n+2]|=t>>>16},em=function(A,e){for(var t=[],n=0;n<A.length;++n)A[n]&&t.push({s:n,f:A[n]});var a=t.length,i=t.slice();if(!a)return[new Fs(0),0];if(a==1){var l=new Fs(t[0].s+1);return l[t[0].s]=1,[l,1]}t.sort(function(X,re){return X.f-re.f}),t.push({s:-1,f:25001});var f=t[0],d=t[1],h=0,g=1,b=2;for(t[0]={s:-1,f:f.f+d.f,l:f,r:d};g!=a-1;)f=t[t[h].f<t[b].f?h++:b++],d=t[h!=g&&t[h].f<t[b].f?h++:b++],t[g++]={s:-1,f:f.f+d.f,l:f,r:d};for(var x=i[0].s,n=1;n<a;++n)i[n].s>x&&(x=i[n].s);var w=new ss(x+1),S=Xm(t[g-1],w,0);if(S>e){var n=0,E=0,U=S-e,_=1<<U;for(i.sort(function(re,J){return w[J.s]-w[re.s]||re.f-J.f});n<a;++n){var Q=i[n].s;if(w[Q]>e)E+=_-(1<<S-w[Q]),w[Q]=e;else break}for(E>>>=U;E>0;){var L=i[n].s;w[L]<e?E-=1<<e-w[L]++-1:++n}for(;n>=0&&E;--n){var W=i[n].s;w[W]==e&&(--w[W],++E)}S=e}return[new Fs(w),S]},Xm=function(A,e,t){return A.s==-1?Math.max(Xm(A.l,e,t+1),Xm(A.r,e,t+1)):e[A.s]=t},Gb=function(A){for(var e=A.length;e&&!A[--e];);for(var t=new ss(++e),n=0,a=A[0],i=1,l=function(d){t[n++]=d},f=1;f<=e;++f)if(A[f]==a&&f!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=A[f]}return[t.subarray(0,n),e]},kd=function(A,e){for(var t=0,n=0;n<e.length;++n)t+=A[n]*e[n];return t},Zm=function(A,e,t){var n=t.length,a=q1(e+2);A[a]=n&255,A[a+1]=n>>>8,A[a+2]=A[a]^255,A[a+3]=A[a+1]^255;for(var i=0;i<n;++i)A[a+i+4]=t[i];return(a+4+n)*8},zb=function(A,e,t,n,a,i,l,f,d,h,g){no(e,g++,t),++a[256];for(var b=em(a,15),x=b[0],w=b[1],S=em(i,15),E=S[0],U=S[1],_=Gb(x),Q=_[0],L=_[1],W=Gb(E),X=W[0],re=W[1],J=new ss(19),V=0;V<Q.length;++V)J[Q[V]&31]++;for(var V=0;V<X.length;++V)J[X[V]&31]++;for(var ae=em(J,7),me=ae[0],D=ae[1],O=19;O>4&&!me[Ym[O-1]];--O);var Y=h+5<<3,Ae=kd(a,ml)+kd(i,uf)+l,Ce=kd(a,x)+kd(i,E)+l+14+3*O+kd(J,me)+(2*J[16]+3*J[17]+7*J[18]);if(Y<=Ae&&Y<=Ce)return Zm(e,g,A.subarray(d,d+h));var ee,ce,le,Ne;if(no(e,g,1+(Ce<Ae)),g+=2,Ce<Ae){ee=xi(x,w,0),ce=x,le=xi(E,U,0),Ne=E;var te=xi(me,D,0);no(e,g,L-257),no(e,g+5,re-1),no(e,g+10,O-4),g+=14;for(var V=0;V<O;++V)no(e,g+3*V,me[Ym[V]]);g+=3*O;for(var H=[Q,X],N=0;N<2;++N)for(var k=H[N],V=0;V<k.length;++V){var P=k[V]&31;no(e,g,te[P]),g+=me[P],P>15&&(no(e,g,k[V]>>>5&127),g+=k[V]>>>12)}}else ee=r6,ce=ml,le=s6,Ne=uf;for(var V=0;V<f;++V)if(n[V]>255){var P=n[V]>>>18&31;Od(e,g,ee[P+257]),g+=ce[P+257],P>7&&(no(e,g,n[V]>>>23&31),g+=Z0[P]);var G=n[V]&31;Od(e,g,le[G]),g+=Ne[G],G>3&&(Od(e,g,n[V]>>>5&8191),g+=ep[G])}else Od(e,g,ee[n[V]]),g+=ce[n[V]];return Od(e,g,ee[256]),g+ce[256]},o6=new cf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),l6=function(A,e,t,n,a,i){var l=A.length,f=new Fs(n+l+5*(1+Math.floor(l/7e3))+a),d=f.subarray(n,f.length-a),h=0;if(!e||l<8)for(var g=0;g<=l;g+=65535){var b=g+65535;b<l?h=Zm(d,h,A.subarray(g,b)):(d[g]=i,h=Zm(d,h,A.subarray(g,l)))}else{for(var x=o6[e-1],w=x>>>13,S=x&8191,E=(1<<t)-1,U=new ss(32768),_=new ss(E+1),Q=Math.ceil(t/3),L=2*Q,W=function(ut){return(A[ut]^A[ut+1]<<Q^A[ut+2]<<L)&E},X=new cf(25e3),re=new ss(288),J=new ss(32),V=0,ae=0,g=0,me=0,D=0,O=0;g<l;++g){var Y=W(g),Ae=g&32767,Ce=_[Y];if(U[Ae]=Ce,_[Y]=Ae,D<=g){var ee=l-g;if((V>7e3||me>24576)&&ee>423){h=zb(A,d,0,X,re,J,ae,me,O,g-O,h),me=V=ae=0,O=g;for(var ce=0;ce<286;++ce)re[ce]=0;for(var ce=0;ce<30;++ce)J[ce]=0}var le=2,Ne=0,te=S,H=Ae-Ce&32767;if(ee>2&&Y==W(g-H))for(var N=Math.min(w,ee)-1,k=Math.min(32767,g),P=Math.min(258,ee);H<=k&&--te&&Ae!=Ce;){if(A[g+le]==A[g+le-H]){for(var G=0;G<P&&A[g+G]==A[g+G-H];++G);if(G>le){if(le=G,Ne=H,G>N)break;for(var z=Math.min(H,G-2),ie=0,ce=0;ce<z;++ce){var he=g-H+ce+32768&32767,ue=U[he],Be=he-ue+32768&32767;Be>ie&&(ie=Be,Ce=he)}}}Ae=Ce,Ce=U[Ae],H+=Ae-Ce+32768&32767}if(Ne){X[me++]=268435456|Wm[le]<<18|qb[Ne];var Qe=Wm[le]&31,Pe=qb[Ne]&31;ae+=Z0[Qe]+ep[Pe],++re[257+Qe],++J[Pe],D=g+le,++V}else X[me++]=A[g],++re[A[g]]}}h=zb(A,d,i,X,re,J,ae,me,O,g-O,h)}return mB(f,0,n+q1(h)+a)},c6=function(){var A=1,e=0;return{p:function(t){for(var n=A,a=e,i=t.length,l=0;l!=i;){for(var f=Math.min(l+5552,i);l<f;++l)n+=t[l],a+=n;n%=65521,a%=65521}A=n,e=a},d:function(){return(A>>>8<<16|(e&255)<<8|e>>>8)+((A&255)<<23)*2}}},u6=function(A,e,t,n,a){return l6(A,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(A.length)))*1.5):12+e.mem,t,n,!0)},d6=function(A,e,t){for(;t;++e)A[e]=t,t>>>=8},f6=function(A,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;A[0]=120,A[1]=n<<6|(n?32-2*n:1)},h6=function(A){if((A[0]&15)!=8||A[0]>>>4>7||(A[0]<<8|A[1])%31)throw"invalid zlib data";if(A[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function e1(A,e){e===void 0&&(e={});var t=c6();t.p(A);var n=u6(A,e,2,4);return f6(n,e),d6(n,n.length-4,t.d()),n}function p6(A,e){return i6((h6(A),A.subarray(2,-4)),e)}var rA=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function tm(){rA.console&&typeof rA.console.log=="function"&&rA.console.log.apply(rA.console,arguments)}var lr={log:tm,warn:function(A){rA.console&&(typeof rA.console.warn=="function"?rA.console.warn.apply(rA.console,arguments):tm.call(null,arguments))},error:function(A){rA.console&&(typeof rA.console.error=="function"?rA.console.error.apply(rA.console,arguments):tm(A))}};function Am(A,e,t){var n=new XMLHttpRequest;n.open("GET",A),n.responseType="blob",n.onload=function(){Xl(n.response,e,t)},n.onerror=function(){lr.error("could not download file")},n.send()}function Vb(A){var e=new XMLHttpRequest;e.open("HEAD",A,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Dh(A){try{A.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),A.dispatchEvent(e)}}var Af,t1,Xl=rA.saveAs||((typeof window>"u"?"undefined":WA(window))!=="object"||window!==rA?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(A,e,t){var n=rA.URL||rA.webkitURL,a=document.createElement("a");e=e||A.name||"download",a.download=e,a.rel="noopener",typeof A=="string"?(a.href=A,a.origin!==location.origin?Vb(a.href)?Am(A,e,t):Dh(a,a.target="_blank"):Dh(a)):(a.href=n.createObjectURL(A),setTimeout((function(){n.revokeObjectURL(a.href)}),4e4),setTimeout((function(){Dh(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(A,e,t){if(e=e||A.name||"download",typeof A=="string")if(Vb(A))Am(A,e,t);else{var n=document.createElement("a");n.href=A,n.target="_blank",setTimeout((function(){Dh(n)}))}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:WA(i)!=="object"&&(lr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(A,t),e)}:function(A,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof A=="string")return Am(A,e,t);var a=A.type==="application/octet-stream",i=/constructor/i.test(rA.HTMLElement)||rA.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":WA(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var g=f.result;g=l?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=g:location=g,n=null},f.readAsDataURL(A)}else{var d=rA.URL||rA.webkitURL,h=d.createObjectURL(A);n?n.location=h:location.href=h,n=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wB(A){var e;A=A||"",this.ok=!1,A.charAt(0)=="#"&&(A=A.substr(1,6)),A={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[A=(A=A.replace(/ /g,"")).toLowerCase()]||A;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,i=t[n].process,l=a.exec(A);l&&(e=i(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+f+d+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function rm(A,e){var t=A[0],n=A[1],a=A[2],i=A[3];t=Mn(t,n,a,i,e[0],7,-680876936),i=Mn(i,t,n,a,e[1],12,-389564586),a=Mn(a,i,t,n,e[2],17,606105819),n=Mn(n,a,i,t,e[3],22,-1044525330),t=Mn(t,n,a,i,e[4],7,-176418897),i=Mn(i,t,n,a,e[5],12,1200080426),a=Mn(a,i,t,n,e[6],17,-1473231341),n=Mn(n,a,i,t,e[7],22,-45705983),t=Mn(t,n,a,i,e[8],7,1770035416),i=Mn(i,t,n,a,e[9],12,-1958414417),a=Mn(a,i,t,n,e[10],17,-42063),n=Mn(n,a,i,t,e[11],22,-1990404162),t=Mn(t,n,a,i,e[12],7,1804603682),i=Mn(i,t,n,a,e[13],12,-40341101),a=Mn(a,i,t,n,e[14],17,-1502002290),t=Pn(t,n=Mn(n,a,i,t,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Pn(i,t,n,a,e[6],9,-1069501632),a=Pn(a,i,t,n,e[11],14,643717713),n=Pn(n,a,i,t,e[0],20,-373897302),t=Pn(t,n,a,i,e[5],5,-701558691),i=Pn(i,t,n,a,e[10],9,38016083),a=Pn(a,i,t,n,e[15],14,-660478335),n=Pn(n,a,i,t,e[4],20,-405537848),t=Pn(t,n,a,i,e[9],5,568446438),i=Pn(i,t,n,a,e[14],9,-1019803690),a=Pn(a,i,t,n,e[3],14,-187363961),n=Pn(n,a,i,t,e[8],20,1163531501),t=Pn(t,n,a,i,e[13],5,-1444681467),i=Pn(i,t,n,a,e[2],9,-51403784),a=Pn(a,i,t,n,e[7],14,1735328473),t=Kn(t,n=Pn(n,a,i,t,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Kn(i,t,n,a,e[8],11,-2022574463),a=Kn(a,i,t,n,e[11],16,1839030562),n=Kn(n,a,i,t,e[14],23,-35309556),t=Kn(t,n,a,i,e[1],4,-1530992060),i=Kn(i,t,n,a,e[4],11,1272893353),a=Kn(a,i,t,n,e[7],16,-155497632),n=Kn(n,a,i,t,e[10],23,-1094730640),t=Kn(t,n,a,i,e[13],4,681279174),i=Kn(i,t,n,a,e[0],11,-358537222),a=Kn(a,i,t,n,e[3],16,-722521979),n=Kn(n,a,i,t,e[6],23,76029189),t=Kn(t,n,a,i,e[9],4,-640364487),i=Kn(i,t,n,a,e[12],11,-421815835),a=Kn(a,i,t,n,e[15],16,530742520),t=qn(t,n=Kn(n,a,i,t,e[2],23,-995338651),a,i,e[0],6,-198630844),i=qn(i,t,n,a,e[7],10,1126891415),a=qn(a,i,t,n,e[14],15,-1416354905),n=qn(n,a,i,t,e[5],21,-57434055),t=qn(t,n,a,i,e[12],6,1700485571),i=qn(i,t,n,a,e[3],10,-1894986606),a=qn(a,i,t,n,e[10],15,-1051523),n=qn(n,a,i,t,e[1],21,-2054922799),t=qn(t,n,a,i,e[8],6,1873313359),i=qn(i,t,n,a,e[15],10,-30611744),a=qn(a,i,t,n,e[6],15,-1560198380),n=qn(n,a,i,t,e[13],21,1309151649),t=qn(t,n,a,i,e[4],6,-145523070),i=qn(i,t,n,a,e[11],10,-1120210379),a=qn(a,i,t,n,e[2],15,718787259),n=qn(n,a,i,t,e[9],21,-343485551),A[0]=dl(t,A[0]),A[1]=dl(n,A[1]),A[2]=dl(a,A[2]),A[3]=dl(i,A[3])}function tp(A,e,t,n,a,i){return e=dl(dl(e,A),dl(n,i)),dl(e<<a|e>>>32-a,t)}function Mn(A,e,t,n,a,i,l){return tp(e&t|~e&n,A,e,a,i,l)}function Pn(A,e,t,n,a,i,l){return tp(e&n|t&~n,A,e,a,i,l)}function Kn(A,e,t,n,a,i,l){return tp(e^t^n,A,e,a,i,l)}function qn(A,e,t,n,a,i,l){return tp(t^(e|~n),A,e,a,i,l)}function vB(A){var e,t=A.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=A.length;e+=64)rm(n,g6(A.substring(e-64,e)));A=A.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<A.length;e++)a[e>>2]|=A.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(rm(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,rm(n,a),n}function g6(A){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=A.charCodeAt(e)+(A.charCodeAt(e+1)<<8)+(A.charCodeAt(e+2)<<16)+(A.charCodeAt(e+3)<<24);return t}Af=rA.atob.bind(rA),t1=rA.btoa.bind(rA);var $b="0123456789abcdef".split("");function m6(A){for(var e="",t=0;t<4;t++)e+=$b[A>>8*t+4&15]+$b[A>>8*t&15];return e}function w6(A){return String.fromCharCode((255&A)>>0,(65280&A)>>8,(16711680&A)>>16,(4278190080&A)>>24)}function A1(A){return vB(A).map(w6).join("")}var v6=(function(A){for(var e=0;e<A.length;e++)A[e]=m6(A[e]);return A.join("")})(vB("hello"))!="5d41402abc4b2a76b9719d911017c592";function dl(A,e){if(v6){var t=(65535&A)+(65535&e);return(A>>16)+(e>>16)+(t>>16)<<16|65535&t}return A+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function r1(A,e){var t,n,a,i;if(A!==t){for(var l=(a=A,i=1+(256/A.length>>0),new Array(i+1).join(a)),f=[],d=0;d<256;d++)f[d]=d;var h=0;for(d=0;d<256;d++){var g=f[d];h=(h+g+l.charCodeAt(d))%256,f[d]=f[h],f[h]=g}t=A,n=f}else f=n;var b=e.length,x=0,w=0,S="";for(d=0;d<b;d++)w=(w+(g=f[x=(x+1)%256]))%256,f[x]=f[w],f[w]=g,l=f[(f[x]+f[w])%256],S+=String.fromCharCode(e.charCodeAt(d)^l);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Yb={print:4,modify:8,copy:16,"annot-forms":32};function Cu(A,e,t,n){this.v=1,this.r=2;var a=192;A.forEach((function(f){if(Yb.perm!==void 0)throw new Error("Invalid permission: "+f);a+=Yb[f]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=A1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=r1(this.encryptionKey,this.padding)}function Eu(A){if(/[^\u0000-\u00ff]/.test(A))throw new Error("Invalid PDF Name Object: "+A+", Only accept ASCII characters.");for(var e="",t=A.length,n=0;n<t;n++){var a=A.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=A[n]}return e}function Wb(A){if(WA(A)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!a],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[t]){var l=e[t][i];try{l[0].apply(A,n)}catch(f){rA.console&&lr.error("jsPDF PubSub Error",f.message,f)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function _0(A){if(!(this instanceof _0))return new _0(A);var e="opacity,stroke-opacity".split(",");for(var t in A)A.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=A[t]);this.id="",this.objectNumber=-1}function bB(A,e){this.gState=A,this.matrix=e,this.id="",this.objectNumber=-1}function rc(A,e,t,n,a){if(!(this instanceof rc))return new rc(A,e,t,n,a);this.type=A==="axial"?2:3,this.coords=e,this.colors=t,bB.call(this,n,a)}function Uu(A,e,t,n,a){if(!(this instanceof Uu))return new Uu(A,e,t,n,a);this.boundingBox=A,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,bB.call(this,n,a)}function Jt(A){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],f=1,d=16,h="S",g=null;WA(A=A||{})==="object"&&(t=A.orientation,n=A.unit||n,a=A.format||a,i=A.compress||A.compressPdf||i,(g=A.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),f=typeof A.userUnit=="number"?Math.abs(A.userUnit):1,A.precision!==void 0&&(e=A.precision),A.floatPrecision!==void 0&&(d=A.floatPrecision),h=A.defaultPathOperation||"S"),l=A.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",t=(""+(t||"P")).toLowerCase();var b=A.putOnlyUsedFonts||!1,x={},w={internal:{},__private__:{}};w.__private__.PubSub=Wb;var S="1.3",E=w.__private__.getPdfVersion=function(){return S};w.__private__.setPdfVersion=function(B){S=B};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return U};var _=w.__private__.getPageFormat=function(B){return U[B]};a=a||"a4";var Q={COMPAT:"compat",ADVANCED:"advanced"},L=Q.COMPAT;function W(){this.saveGraphicsState(),se(new $e(ze,0,0,-ze,0,Xa()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),h="n",L=Q.ADVANCED}function X(){this.restoreGraphicsState(),h="S",L=Q.COMPAT}var re=w.__private__.combineFontStyleAndFontWeight=function(B,T){if(B=="bold"&&T=="normal"||B=="bold"&&T==400||B=="normal"&&T=="italic"||B=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(B=T==400||T==="normal"?B==="italic"?"italic":"normal":T!=700&&T!=="bold"||B!=="normal"?(T==700?"bold":T)+""+B:"bold"),B};w.advancedAPI=function(B){var T=L===Q.COMPAT;return T&&W.call(this),typeof B!="function"||(B(this),T&&X.call(this)),this},w.compatAPI=function(B){var T=L===Q.ADVANCED;return T&&X.call(this),typeof B!="function"||(B(this),T&&W.call(this)),this},w.isAdvancedAPI=function(){return L===Q.ADVANCED};var J,V=function(B){if(L!==Q.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ae=w.roundToPrecision=w.__private__.roundToPrecision=function(B,T){var oe=e||T;if(isNaN(B)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(oe).replace(/0+$/,"")};J=w.hpf=w.__private__.hpf=typeof d=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(B,d)}:d==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(B,16)};var me=w.f2=w.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return ae(B,2)},D=w.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return ae(B,3)},O=w.scale=w.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return L===Q.COMPAT?B*ze:L===Q.ADVANCED?B:void 0},Y=function(B){return L===Q.COMPAT?Xa()-B:L===Q.ADVANCED?B:void 0},Ae=function(B){return O(Y(B))};w.__private__.setPrecision=w.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(e=parseInt(B,10))};var Ce,ee="00000000000000000000000000000000",ce=w.__private__.getFileId=function(){return ee},le=w.__private__.setFileId=function(B){return ee=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():ee.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),g!==null&&(ur=new Cu(g.userPermissions,g.userPassword,g.ownerPassword,ee)),ee};w.setFileId=function(B){return le(B),this},w.getFileId=function(){return ce()};var Ne=w.__private__.convertDateToPDFDate=function(B){var T=B.getTimezoneOffset(),oe=T<0?"+":"-",ge=Math.floor(Math.abs(T/60)),Fe=Math.abs(T%60),Ve=[oe,P(ge),"'",P(Fe),"'"].join("");return["D:",B.getFullYear(),P(B.getMonth()+1),P(B.getDate()),P(B.getHours()),P(B.getMinutes()),P(B.getSeconds()),Ve].join("")},te=w.__private__.convertPDFDateToDate=function(B){var T=parseInt(B.substr(2,4),10),oe=parseInt(B.substr(6,2),10)-1,ge=parseInt(B.substr(8,2),10),Fe=parseInt(B.substr(10,2),10),Ve=parseInt(B.substr(12,2),10),lt=parseInt(B.substr(14,2),10);return new Date(T,oe,ge,Fe,Ve,lt,0)},H=w.__private__.setCreationDate=function(B){var T;if(B===void 0&&(B=new Date),B instanceof Date)T=Ne(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=B}return Ce=T},N=w.__private__.getCreationDate=function(B){var T=Ce;return B==="jsDate"&&(T=te(Ce)),T};w.setCreationDate=function(B){return H(B),this},w.getCreationDate=function(B){return N(B)};var k,P=w.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},G=w.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},z=0,ie=[],he=[],ue=0,Be=[],Qe=[],Pe=!1,ot=he,ut=function(){z=0,ue=0,he=[],ie=[],Be=[],zA=Tt(),IA=Tt()};w.__private__.setCustomOutputDestination=function(B){Pe=!0,ot=B};var Te=function(B){Pe||(ot=B)};w.__private__.resetCustomOutputDestination=function(){Pe=!1,ot=he};var se=w.__private__.out=function(B){return B=B.toString(),ue+=B.length+1,ot.push(B),ot},Qt=w.__private__.write=function(B){return se(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},st=w.__private__.getArrayBuffer=function(B){for(var T=B.length,oe=new ArrayBuffer(T),ge=new Uint8Array(oe);T--;)ge[T]=B.charCodeAt(T);return oe},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Je};var fe=A.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(B){return fe=L===Q.ADVANCED?B/ze:B,this};var He,Ge=w.__private__.getFontSize=w.getFontSize=function(){return L===Q.COMPAT?fe:fe*ze},at=A.R2L||!1;w.__private__.setR2L=w.setR2L=function(B){return at=B,this},w.__private__.getR2L=w.getR2L=function(){return at};var ct,It=w.__private__.setZoomMode=function(B){var T=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))He=B;else if(isNaN(B)){if(T.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');He=B}else He=parseInt(B,10)};w.__private__.getZoomMode=function(){return He};var St,Pt=w.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');ct=B};w.__private__.getPageMode=function(){return ct};var ht=w.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');St=B};w.__private__.getLayoutMode=function(){return St},w.__private__.setDisplayMode=w.setDisplayMode=function(B,T,oe){return It(B),ht(T),Pt(oe),this};var Ct={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(B){if(Object.keys(Ct).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ct[B]},w.__private__.getDocumentProperties=function(){return Ct},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(B){for(var T in Ct)Ct.hasOwnProperty(T)&&B[T]&&(Ct[T]=B[T]);return this},w.__private__.setDocumentProperty=function(B,T){if(Object.keys(Ct).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ct[B]=T};var zt,ze,be,Me,dt,xt={},_t={},FA=[],Xt={},qA={},uA={},LA={},wA=null,wt=0,Ht=[],Ee=new Wb(w),Nt=A.hotfixes||[],Ye={},ke={},Se=[],$e=function B(T,oe,ge,Fe,Ve,lt){if(!(this instanceof B))return new B(T,oe,ge,Fe,Ve,lt);isNaN(T)&&(T=1),isNaN(oe)&&(oe=0),isNaN(ge)&&(ge=0),isNaN(Fe)&&(Fe=1),isNaN(Ve)&&(Ve=0),isNaN(lt)&&(lt=0),this._matrix=[T,oe,ge,Fe,Ve,lt]};Object.defineProperty($e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty($e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty($e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty($e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty($e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty($e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty($e.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty($e.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty($e.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty($e.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty($e.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty($e.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty($e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($e.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$e.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(J).join(B)},$e.prototype.multiply=function(B){var T=B.sx*this.sx+B.shy*this.shx,oe=B.sx*this.shy+B.shy*this.sy,ge=B.shx*this.sx+B.sy*this.shx,Fe=B.shx*this.shy+B.sy*this.sy,Ve=B.tx*this.sx+B.ty*this.shx+this.tx,lt=B.tx*this.shy+B.ty*this.sy+this.ty;return new $e(T,oe,ge,Fe,Ve,lt)},$e.prototype.decompose=function(){var B=this.sx,T=this.shy,oe=this.shx,ge=this.sy,Fe=this.tx,Ve=this.ty,lt=Math.sqrt(B*B+T*T),yt=(B/=lt)*oe+(T/=lt)*ge;oe-=B*yt,ge-=T*yt;var Gt=Math.sqrt(oe*oe+ge*ge);return yt/=Gt,B*(ge/=Gt)<T*(oe/=Gt)&&(B=-B,T=-T,yt=-yt,lt=-lt),{scale:new $e(lt,0,0,Gt,0,0),translate:new $e(1,0,0,1,Fe,Ve),rotate:new $e(B,T,-T,B,0,0),skew:new $e(1,0,yt,1,0,0)}},$e.prototype.toString=function(B){return this.join(" ")},$e.prototype.inversed=function(){var B=this.sx,T=this.shy,oe=this.shx,ge=this.sy,Fe=this.tx,Ve=this.ty,lt=1/(B*ge-T*oe),yt=ge*lt,Gt=-T*lt,sA=-oe*lt,lA=B*lt;return new $e(yt,Gt,sA,lA,-yt*Fe-sA*Ve,-Gt*Fe-lA*Ve)},$e.prototype.applyToPoint=function(B){var T=B.x*this.sx+B.y*this.shx+this.tx,oe=B.x*this.shy+B.y*this.sy+this.ty;return new Ii(T,oe)},$e.prototype.applyToRectangle=function(B){var T=this.applyToPoint(B),oe=this.applyToPoint(new Ii(B.x+B.w,B.y+B.h));return new Nl(T.x,T.y,oe.x-T.x,oe.y-T.y)},$e.prototype.clone=function(){var B=this.sx,T=this.shy,oe=this.shx,ge=this.sy,Fe=this.tx,Ve=this.ty;return new $e(B,T,oe,ge,Fe,Ve)},w.Matrix=$e;var Ot=w.matrixMult=function(B,T){return T.multiply(B)},Vt=new $e(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Vt;var bA=function(B,T){if(!qA[B]){var oe=(T instanceof rc?"Sh":"P")+(Object.keys(Xt).length+1).toString(10);T.id=oe,qA[B]=oe,Xt[oe]=T,Ee.publish("addPattern",T)}};w.ShadingPattern=rc,w.TilingPattern=Uu,w.addShadingPattern=function(B,T){return V("addShadingPattern()"),bA(B,T),this},w.beginTilingPattern=function(B){V("beginTilingPattern()"),Sc(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},w.endTilingPattern=function(B,T){V("endTilingPattern()"),T.stream=Qe[k].join(`
`),bA(B,T),Ee.publish("endTilingPattern",T),Se.pop().restore()};var iA=w.__private__.newObject=function(){var B=Tt();return EA(B,!0),B},Tt=w.__private__.newObjectDeferred=function(){return z++,ie[z]=function(){return ue},z},EA=function(B,T){return T=typeof T=="boolean"&&T,ie[B]=ue,T&&se(B+" 0 obj"),B},kr=w.__private__.newAdditionalObject=function(){var B={objId:Tt(),content:""};return Be.push(B),B},zA=Tt(),IA=Tt(),TA=w.__private__.decodeColorString=function(B){var T=B.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length===5&&(T[4]==="k"||T[4]==="K")&&(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var oe=parseFloat(T[0]);T=[oe,oe,oe,"r"]}for(var ge="#",Fe=0;Fe<3;Fe++)ge+=("0"+Math.floor(255*parseFloat(T[Fe])).toString(16)).slice(-2);return ge},cr=w.__private__.encodeColorString=function(B){var T;typeof B=="string"&&(B={ch1:B});var oe=B.ch1,ge=B.ch2,Fe=B.ch3,Ve=B.ch4,lt=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var yt=new wB(oe);if(yt.ok)oe=yt.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var Gt=parseInt(oe.substr(1),16);oe=Gt>>16&255,ge=Gt>>8&255,Fe=255&Gt}if(ge===void 0||Ve===void 0&&oe===ge&&ge===Fe)if(typeof oe=="string")T=oe+" "+lt[0];else switch(B.precision){case 2:T=me(oe/255)+" "+lt[0];break;case 3:default:T=D(oe/255)+" "+lt[0]}else if(Ve===void 0||WA(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return T=["1.","1.","1.",lt[1]].join(" ");if(typeof oe=="string")T=[oe,ge,Fe,lt[1]].join(" ");else switch(B.precision){case 2:T=[me(oe/255),me(ge/255),me(Fe/255),lt[1]].join(" ");break;default:case 3:T=[D(oe/255),D(ge/255),D(Fe/255),lt[1]].join(" ")}}else if(typeof oe=="string")T=[oe,ge,Fe,Ve,lt[2]].join(" ");else switch(B.precision){case 2:T=[me(oe),me(ge),me(Fe),me(Ve),lt[2]].join(" ");break;case 3:default:T=[D(oe),D(ge),D(Fe),D(Ve),lt[2]].join(" ")}return T},Ur=w.__private__.getFilters=function(){return l},nn=w.__private__.putStream=function(B){var T=(B=B||{}).data||"",oe=B.filters||Ur(),ge=B.alreadyAppliedFilters||[],Fe=B.addLength1||!1,Ve=T.length,lt=B.objectId,yt=function(sn){return sn};if(g!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(yt=ur.encryptor(lt,0));var Gt={};oe===!0&&(oe=["FlateEncode"]);var sA=B.additionalKeyValues||[],lA=(Gt=Jt.API.processDataByFilters!==void 0?Jt.API.processDataByFilters(T,oe):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Gt.data.length!==0&&(sA.push({key:"Length",value:Gt.data.length}),Fe===!0&&sA.push({key:"Length1",value:Ve})),lA.length!=0)if(lA.split("/").length-1==1)sA.push({key:"Filter",value:lA});else{sA.push({key:"Filter",value:"["+lA+"]"});for(var SA=0;SA<sA.length;SA+=1)if(sA[SA].key==="DecodeParms"){for(var dr=[],pr=0;pr<Gt.reverseChain.split("/").length-1;pr+=1)dr.push("null");dr.push(sA[SA].value),sA[SA].value="["+dr.join(" ")+"]"}}se("<<");for(var Qr=0;Qr<sA.length;Qr++)se("/"+sA[Qr].key+" "+sA[Qr].value);se(">>"),Gt.data.length!==0&&(se("stream"),se(yt(Gt.data)),se("endstream"))},as=w.__private__.putPage=function(B){var T=B.number,oe=B.data,ge=B.objId,Fe=B.contentsObjId;EA(ge,!0),se("<</Type /Page"),se("/Parent "+B.rootDictionaryObjId+" 0 R"),se("/Resources "+B.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(J(B.mediaBox.bottomLeftX))+" "+parseFloat(J(B.mediaBox.bottomLeftY))+" "+J(B.mediaBox.topRightX)+" "+J(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&se("/CropBox ["+J(B.cropBox.bottomLeftX)+" "+J(B.cropBox.bottomLeftY)+" "+J(B.cropBox.topRightX)+" "+J(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&se("/BleedBox ["+J(B.bleedBox.bottomLeftX)+" "+J(B.bleedBox.bottomLeftY)+" "+J(B.bleedBox.topRightX)+" "+J(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&se("/TrimBox ["+J(B.trimBox.bottomLeftX)+" "+J(B.trimBox.bottomLeftY)+" "+J(B.trimBox.topRightX)+" "+J(B.trimBox.topRightY)+"]"),B.artBox!==null&&se("/ArtBox ["+J(B.artBox.bottomLeftX)+" "+J(B.artBox.bottomLeftY)+" "+J(B.artBox.topRightX)+" "+J(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&se("/UserUnit "+B.userUnit),Ee.publish("putPage",{objId:ge,pageContext:Ht[T],pageNumber:T,page:oe}),se("/Contents "+Fe+" 0 R"),se(">>"),se("endobj");var Ve=oe.join(`
`);return L===Q.ADVANCED&&(Ve+=`
Q`),EA(Fe,!0),nn({data:Ve,filters:Ur(),objectId:Fe}),se("endobj"),ge},Ls=w.__private__.putPages=function(){var B,T,oe=[];for(B=1;B<=wt;B++)Ht[B].objId=Tt(),Ht[B].contentsObjId=Tt();for(B=1;B<=wt;B++)oe.push(as({number:B,data:Qe[B],objId:Ht[B].objId,contentsObjId:Ht[B].contentsObjId,mediaBox:Ht[B].mediaBox,cropBox:Ht[B].cropBox,bleedBox:Ht[B].bleedBox,trimBox:Ht[B].trimBox,artBox:Ht[B].artBox,userUnit:Ht[B].userUnit,rootDictionaryObjId:zA,resourceDictionaryObjId:IA}));EA(zA,!0),se("<</Type /Pages");var ge="/Kids [";for(T=0;T<wt;T++)ge+=oe[T]+" 0 R ";se(ge+"]"),se("/Count "+wt),se(">>"),se("endobj"),Ee.publish("postPutPages")},$n=function(B){Ee.publish("putFont",{font:B,out:se,newObject:iA,putStream:nn}),B.isAlreadyPutted!==!0&&(B.objectNumber=iA(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Eu(B.postScriptName)),se("/Subtype /Type1"),typeof B.encoding=="string"&&se("/Encoding /"+B.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Is=function(){for(var B in xt)xt.hasOwnProperty(B)&&(b===!1||b===!0&&x.hasOwnProperty(B))&&$n(xt[B])},pe=function(B){B.objectNumber=iA();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[J(B.x),J(B.y),J(B.x+B.width),J(B.y+B.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var oe=B.pages[1].join(`
`);nn({data:oe,additionalKeyValues:T,objectId:B.objectNumber}),se("endobj")},De=function(){for(var B in Ye)Ye.hasOwnProperty(B)&&pe(Ye[B])},At=function(B,T){var oe,ge=[],Fe=1/(T-1);for(oe=0;oe<1;oe+=Fe)ge.push(oe);if(ge.push(1),B[0].offset!=0){var Ve={offset:0,color:B[0].color};B.unshift(Ve)}if(B[B.length-1].offset!=1){var lt={offset:1,color:B[B.length-1].color};B.push(lt)}for(var yt="",Gt=0,sA=0;sA<ge.length;sA++){for(oe=ge[sA];oe>B[Gt+1].offset;)Gt++;var lA=B[Gt].offset,SA=(oe-lA)/(B[Gt+1].offset-lA),dr=B[Gt].color,pr=B[Gt+1].color;yt+=G(Math.round((1-SA)*dr[0]+SA*pr[0]).toString(16))+G(Math.round((1-SA)*dr[1]+SA*pr[1]).toString(16))+G(Math.round((1-SA)*dr[2]+SA*pr[2]).toString(16))}return yt.trim()},pt=function(B,T){T||(T=21);var oe=iA(),ge=At(B.colors,T),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+T+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nn({data:ge,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),se("endobj"),B.objectNumber=iA(),se("<< /ShadingType "+B.type),se("/ColorSpace /DeviceRGB");var Ve="/Coords ["+J(parseFloat(B.coords[0]))+" "+J(parseFloat(B.coords[1]))+" ";B.type===2?Ve+=J(parseFloat(B.coords[2]))+" "+J(parseFloat(B.coords[3])):Ve+=J(parseFloat(B.coords[2]))+" "+J(parseFloat(B.coords[3]))+" "+J(parseFloat(B.coords[4]))+" "+J(parseFloat(B.coords[5])),se(Ve+="]"),B.matrix&&se("/Matrix ["+B.matrix.toString()+"]"),se("/Function "+oe+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},it=function(B,T){var oe=Tt(),ge=iA();T.push({resourcesOid:oe,objectOid:ge}),B.objectNumber=ge;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+B.boundingBox.map(J).join(" ")+"]"}),Fe.push({key:"XStep",value:J(B.xStep)}),Fe.push({key:"YStep",value:J(B.yStep)}),Fe.push({key:"Resources",value:oe+" 0 R"}),B.matrix&&Fe.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),nn({data:B.stream,additionalKeyValues:Fe,objectId:B.objectNumber}),se("endobj")},Ut=function(B){var T;for(T in Xt)Xt.hasOwnProperty(T)&&(Xt[T]instanceof rc?pt(Xt[T]):Xt[T]instanceof Uu&&it(Xt[T],B))},qt=function(B){for(var T in B.objectNumber=iA(),se("<<"),B)switch(T){case"opacity":se("/ca "+me(B[T]));break;case"stroke-opacity":se("/CA "+me(B[T]))}se(">>"),se("endobj")},Yt=function(){var B;for(B in uA)uA.hasOwnProperty(B)&&qt(uA[B])},AA=function(){for(var B in se("/XObject <<"),Ye)Ye.hasOwnProperty(B)&&Ye[B].objectNumber>=0&&se("/"+B+" "+Ye[B].objectNumber+" 0 R");Ee.publish("putXobjectDict"),se(">>")},Mt=function(){ur.oid=iA(),se("<<"),se("/Filter /Standard"),se("/V "+ur.v),se("/R "+ur.r),se("/U <"+ur.toHexString(ur.U)+">"),se("/O <"+ur.toHexString(ur.O)+">"),se("/P "+ur.P),se(">>"),se("endobj")},HA=function(){for(var B in se("/Font <<"),xt)xt.hasOwnProperty(B)&&(b===!1||b===!0&&x.hasOwnProperty(B))&&se("/"+B+" "+xt[B].objectNumber+" 0 R");se(">>")},vr=function(){if(Object.keys(Xt).length>0){for(var B in se("/Shading <<"),Xt)Xt.hasOwnProperty(B)&&Xt[B]instanceof rc&&Xt[B].objectNumber>=0&&se("/"+B+" "+Xt[B].objectNumber+" 0 R");Ee.publish("putShadingPatternDict"),se(">>")}},MA=function(B){if(Object.keys(Xt).length>0){for(var T in se("/Pattern <<"),Xt)Xt.hasOwnProperty(T)&&Xt[T]instanceof w.TilingPattern&&Xt[T].objectNumber>=0&&Xt[T].objectNumber<B&&se("/"+T+" "+Xt[T].objectNumber+" 0 R");Ee.publish("putTilingPatternDict"),se(">>")}},Yn=function(){if(Object.keys(uA).length>0){var B;for(B in se("/ExtGState <<"),uA)uA.hasOwnProperty(B)&&uA[B].objectNumber>=0&&se("/"+B+" "+uA[B].objectNumber+" 0 R");Ee.publish("putGStateDict"),se(">>")}},pA=function(B){EA(B.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),HA(),vr(),MA(B.objectOid),Yn(),AA(),se(">>"),se("endobj")},hA=function(){var B=[];Is(),Yt(),De(),Ut(B),Ee.publish("putResources"),B.forEach(pA),pA({resourcesOid:IA,objectOid:Number.MAX_SAFE_INTEGER}),Ee.publish("postPutResources")},nA=function(){Ee.publish("putAdditionalObjects");for(var B=0;B<Be.length;B++){var T=Be[B];EA(T.objId,!0),se(T.content),se("endobj")}Ee.publish("postPutAdditionalObjects")},sr=function(B){_t[B.fontName]=_t[B.fontName]||{},_t[B.fontName][B.fontStyle]=B.id},Tn=function(B,T,oe,ge,Fe){var Ve={id:"F"+(Object.keys(xt).length+1).toString(10),postScriptName:B,fontName:T,fontStyle:oe,encoding:ge,isStandardFont:Fe||!1,metadata:{}};return Ee.publish("addFont",{font:Ve,instance:this}),xt[Ve.id]=Ve,sr(Ve),Ve.id},is=function(B){for(var T=0,oe=Je.length;T<oe;T++){var ge=Tn.call(this,B[T][0],B[T][1],B[T][2],Je[T][3],!0);b===!1&&(x[ge]=!0);var Fe=B[T][0].split("-");sr({id:ge,fontName:Fe[0],fontStyle:Fe[1]||""})}Ee.publish("addFonts",{fonts:xt,dictionary:_t})},oA=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch(ge){var T=ge.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var oe="Error in function "+T.split(`
`)[0].split("<")[0]+": "+ge.message;if(!rA.console)throw new Error(oe);rA.console.error(oe,ge),rA.alert&&alert(oe)}},B.foo.bar=B,B.foo},JA=function(B,T){var oe,ge,Fe,Ve,lt,yt,Gt,sA,lA;if(Fe=(T=T||{}).sourceEncoding||"Unicode",lt=T.outputEncoding,(T.autoencode||lt)&&xt[zt].metadata&&xt[zt].metadata[Fe]&&xt[zt].metadata[Fe].encoding&&(Ve=xt[zt].metadata[Fe].encoding,!lt&&xt[zt].encoding&&(lt=xt[zt].encoding),!lt&&Ve.codePages&&(lt=Ve.codePages[0]),typeof lt=="string"&&(lt=Ve[lt]),lt)){for(Gt=!1,yt=[],oe=0,ge=B.length;oe<ge;oe++)(sA=lt[B.charCodeAt(oe)])?yt.push(String.fromCharCode(sA)):yt.push(B[oe]),yt[oe].charCodeAt(0)>>8&&(Gt=!0);B=yt.join("")}for(oe=B.length;Gt===void 0&&oe!==0;)B.charCodeAt(oe-1)>>8&&(Gt=!0),oe--;if(!Gt)return B;for(yt=T.noBOM?[]:[254,255],oe=0,ge=B.length;oe<ge;oe++){if((lA=(sA=B.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yt.push(lA),yt.push(sA-(lA<<8))}return String.fromCharCode.apply(void 0,yt)},Rr=w.__private__.pdfEscape=w.pdfEscape=function(B,T){return JA(B,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hr=w.__private__.beginPage=function(B){Qe[++wt]=[],Ht[wt]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},go(wt),Te(Qe[k])},po=function(B,T){var oe,ge,Fe;switch(t=T||t,typeof B=="string"&&(oe=_(B.toLowerCase()),Array.isArray(oe)&&(ge=oe[0],Fe=oe[1])),Array.isArray(B)&&(ge=B[0]*ze,Fe=B[1]*ze),isNaN(ge)&&(ge=a[0],Fe=a[1]),(ge>14400||Fe>14400)&&(lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Fe=Math.min(14400,Fe)),a=[ge,Fe],t.substr(0,1)){case"l":Fe>ge&&(a=[Fe,ge]);break;case"p":ge>Fe&&(a=[Fe,ge])}Hr(a),ji($r),se(ks),Sl!==0&&se(Sl+" J"),_l!==0&&se(_l+" j"),Ee.publish("addPage",{pageNumber:wt})},vc=function(B){B>0&&B<=wt&&(Qe.splice(B,1),Ht.splice(B,1),wt--,k>wt&&(k=wt),this.setPage(k))},go=function(B){B>0&&B<=wt&&(k=B)},qa=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Qe.length-1},bl=function(B,T,oe){var ge,Fe=void 0;return oe=oe||{},B=B!==void 0?B:xt[zt].fontName,T=T!==void 0?T:xt[zt].fontStyle,ge=B.toLowerCase(),_t[ge]!==void 0&&_t[ge][T]!==void 0?Fe=_t[ge][T]:_t[B]!==void 0&&_t[B][T]!==void 0?Fe=_t[B][T]:oe.disableWarning===!1&&lr.warn("Unable to look up font label for font '"+B+"', '"+T+"'. Refer to getFontList() for available fonts."),Fe||oe.noFallback||(Fe=_t.times[T])==null&&(Fe=_t.times.normal),Fe},bc=w.__private__.putInfo=function(){var B=iA(),T=function(ge){return ge};for(var oe in g!==null&&(T=ur.encryptor(B,0)),se("<<"),se("/Producer ("+Rr(T("jsPDF "+Jt.version))+")"),Ct)Ct.hasOwnProperty(oe)&&Ct[oe]&&se("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+Rr(T(Ct[oe]))+")");se("/CreationDate ("+Rr(T(Ce))+")"),se(">>"),se("endobj")},Xs=w.__private__.putCatalog=function(B){var T=(B=B||{}).rootDictionaryObjId||zA;switch(iA(),se("<<"),se("/Type /Catalog"),se("/Pages "+T+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+He;oe.substr(oe.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&se("/OpenAction [3 0 R /XYZ null null "+me(He)+"]")}switch(St||(St="continuous"),St){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}ct&&se("/PageMode /"+ct),Ee.publish("putCatalog"),se(">>"),se("endobj")},$u=w.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(z+1)),se("/Root "+z+" 0 R"),se("/Info "+(z-1)+" 0 R"),g!==null&&se("/Encrypt "+ur.oid+" 0 R"),se("/ID [ <"+ee+"> <"+ee+"> ]"),se(">>")},yc=w.__private__.putHeader=function(){se("%PDF-"+S),se("%")},xc=w.__private__.putXRef=function(){var B="0000000000";se("xref"),se("0 "+(z+1)),se("0000000000 65535 f ");for(var T=1;T<=z;T++)typeof ie[T]=="function"?se((B+ie[T]()).slice(-10)+" 00000 n "):ie[T]!==void 0?se((B+ie[T]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Ts=w.__private__.buildDocument=function(){ut(),Te(he),Ee.publish("buildDocument"),yc(),Ls(),nA(),hA(),g!==null&&Mt(),bc(),Xs();var B=ue;return xc(),$u(),se("startxref"),se(""+B),se("%%EOF"),Te(Qe[k]),he.join(`
`)},mo=w.__private__.getBlob=function(B){return new Blob([st(B)],{type:"application/pdf"})},wo=w.output=w.__private__.output=oA((function(B,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",B){case void 0:return Ts();case"save":w.save(T.filename);break;case"arraybuffer":return st(Ts());case"blob":return mo(Ts());case"bloburi":case"bloburl":if(rA.URL!==void 0&&typeof rA.URL.createObjectURL=="function")return rA.URL&&rA.URL.createObjectURL(mo(Ts()))||void 0;lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",ge=Ts();try{oe=t1(ge)}catch{oe=t1(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+T.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rA)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(Fe=T.pdfObjectUrl,Ve="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",yt=rA.open();return yt!==null&&yt.document.write(lt),yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rA)==="[object Window]"){var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',sA=rA.open();if(sA!==null){sA.document.write(Gt);var lA=this;sA.document.documentElement.querySelector("#pdfViewer").onload=function(){sA.document.title=T.filename,sA.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(lA.output("bloburl"))}}return sA}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rA)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var SA='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',dr=rA.open();if(dr!==null&&(dr.document.write(SA),dr.document.title=T.filename),dr||typeof safari>"u")return dr;break;case"datauri":case"dataurl":return rA.document.location.href=this.output("datauristring",T);default:return null}})),Ui=function(B){return Array.isArray(Nt)===!0&&Nt.indexOf(B)>-1};switch(n){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=Ui("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ze=n}var ur=null;H(),le();var yl=function(B){return g!==null?ur.encryptor(B,0):function(T){return T}},vo=w.__private__.getPageInfo=w.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ht[B].objId,pageNumber:B,pageContext:Ht[B]}},Wt=w.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in Ht)if(Ht[T].objId===B)break;return vo(T)},Ga=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Ht[k].objId,pageNumber:k,pageContext:Ht[k]}};w.addPage=function(){return po.apply(this,arguments),this},w.setPage=function(){return go.apply(this,arguments),Te.call(this,Qe[k]),this},w.insertPage=function(B){return this.addPage(),this.movePage(k,B),this},w.movePage=function(B,T){var oe,ge;if(B>T){oe=Qe[B],ge=Ht[B];for(var Fe=B;Fe>T;Fe--)Qe[Fe]=Qe[Fe-1],Ht[Fe]=Ht[Fe-1];Qe[T]=oe,Ht[T]=ge,this.setPage(T)}else if(B<T){oe=Qe[B],ge=Ht[B];for(var Ve=B;Ve<T;Ve++)Qe[Ve]=Qe[Ve+1],Ht[Ve]=Ht[Ve+1];Qe[T]=oe,Ht[T]=ge,this.setPage(T)}return this},w.deletePage=function(){return vc.apply(this,arguments),this},w.__private__.text=w.text=function(B,T,oe,ge,Fe){var Ve,lt,yt,Gt,sA,lA,SA,dr,pr,Qr=(ge=ge||{}).scope||this;if(typeof B=="number"&&typeof T=="number"&&(typeof oe=="string"||Array.isArray(oe))){var sn=oe;oe=T,T=B,B=sn}if(arguments[3]instanceof $e?(V("The transform parameter of text() with a Matrix value"),pr=Fe):(yt=arguments[4],Gt=arguments[5],WA(SA=arguments[3])==="object"&&SA!==null||(typeof yt=="string"&&(Gt=yt,yt=null),typeof SA=="string"&&(Gt=SA,SA=null),typeof SA=="number"&&(yt=SA,SA=null),ge={flags:SA,angle:yt,align:Gt})),isNaN(T)||isNaN(oe)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Qr;var Mr="",hn=!1,Wn=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Ya,va=Qr.internal.scaleFactor;function _c(XA){return XA=XA.split("	").join(Array(ge.TabLen||9).join(" ")),Rr(XA,SA)}function Eo(XA){for(var ZA,Fr=XA.concat(),Ir=[],ra=Fr.length;ra--;)typeof(ZA=Fr.shift())=="string"?Ir.push(ZA):Array.isArray(XA)&&(ZA.length===1||ZA[1]===void 0&&ZA[2]===void 0)?Ir.push(ZA[0]):Ir.push([ZA[0],ZA[1],ZA[2]]);return Ir}function So(XA,ZA){var Fr;if(typeof XA=="string")Fr=ZA(XA)[0];else if(Array.isArray(XA)){for(var Ir,ra,na=XA.concat(),gn=[],Oi=na.length;Oi--;)typeof(Ir=na.shift())=="string"?gn.push(ZA(Ir)[0]):Array.isArray(Ir)&&typeof Ir[0]=="string"&&(ra=ZA(Ir[0],Ir[1],Ir[2]),gn.push([ra[0],ra[1],ra[2]]));Fr=gn}return Fr}var ea=!1,ba=!0;if(typeof B=="string")ea=!0;else if(Array.isArray(B)){var Fl=B.concat();lt=[];for(var ya,Cn=Fl.length;Cn--;)(typeof(ya=Fl.shift())!="string"||Array.isArray(ya)&&typeof ya[0]!="string")&&(ba=!1);ea=ba}if(ea===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var Di=fe/Qr.internal.scaleFactor,Za=Di*(Wn-1);switch(ge.baseline){case"bottom":oe-=Za;break;case"top":oe+=Di-Za;break;case"hanging":oe+=Di-2*Za;break;case"middle":oe+=Di/2-Za}if((lA=ge.maxWidth||0)>0&&(typeof B=="string"?B=Qr.splitTextToSize(B,lA):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce((function(XA,ZA){return XA.concat(Qr.splitTextToSize(ZA,lA))}),[]))),Ve={text:B,x:T,y:oe,options:ge,mutex:{pdfEscape:Rr,activeFontKey:zt,fonts:xt,activeFontSize:fe}},Ee.publish("preProcessText",Ve),B=Ve.text,yt=(ge=Ve.options).angle,!(pr instanceof $e)&&yt&&typeof yt=="number"){yt*=Math.PI/180,ge.rotationDirection===0&&(yt=-yt),L===Q.ADVANCED&&(yt=-yt);var ei=Math.cos(yt),_o=Math.sin(yt);pr=new $e(ei,_o,-_o,ei,0,0)}else yt&&yt instanceof $e&&(pr=yt);L!==Q.ADVANCED||pr||(pr=Vt),(sA=ge.charSpace||Bo)!==void 0&&(Mr+=J(O(sA))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dr=ge.horizontalScale)!==void 0&&(Mr+=J(100*dr)+` Tz
`),ge.lang;var En=-1,Nc=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,jl=Qr.internal.getCurrentPageInfo().pageContext;switch(Nc){case 0:case!1:case"fill":En=0;break;case 1:case!0:case"stroke":En=1;break;case 2:case"fillThenStroke":En=2;break;case 3:case"invisible":En=3;break;case 4:case"fillAndAddForClipping":En=4;break;case 5:case"strokeAndAddPathForClipping":En=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":En=6;break;case 7:case"addToPathForClipping":En=7}var Uc=jl.usedRenderingMode!==void 0?jl.usedRenderingMode:-1;En!==-1?Mr+=En+` Tr
`:Uc!==-1&&(Mr+=`0 Tr
`),En!==-1&&(jl.usedRenderingMode=En),Gt=ge.align||"left";var Rs,Ll=fe*Wn,Ju=Qr.internal.pageSize.getWidth(),Sn=xt[zt];sA=ge.charSpace||Bo,lA=ge.maxWidth||0,SA=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var us=[];if(Object.prototype.toString.call(B)==="[object Array]"){var Jn;lt=Eo(B),Gt!=="left"&&(Rs=lt.map((function(XA){return Qr.getStringUnitWidth(XA,{font:Sn,charSpace:sA,fontSize:fe,doKerning:!1})*fe/va})));var ds,xa=0;if(Gt==="right"){T-=Rs[0],B=[],Cn=lt.length;for(var Hs=0;Hs<Cn;Hs++)Hs===0?(ds=Os(T),Jn=cs(oe)):(ds=O(xa-Rs[Hs]),Jn=-Ll),B.push([lt[Hs],ds,Jn]),xa=Rs[Hs]}else if(Gt==="center"){T-=Rs[0]/2,B=[],Cn=lt.length;for(var Ms=0;Ms<Cn;Ms++)Ms===0?(ds=Os(T),Jn=cs(oe)):(ds=O((xa-Rs[Ms])/2),Jn=-Ll),B.push([lt[Ms],ds,Jn]),xa=Rs[Ms]}else if(Gt==="left"){B=[],Cn=lt.length;for(var No=0;No<Cn;No++)B.push(lt[No])}else{if(Gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');B=[],Cn=lt.length,lA=lA!==0?lA:Ju;for(var pn=0;pn<Cn;pn++)Jn=pn===0?cs(oe):-Ll,ds=pn===0?Os(T):0,pn<Cn-1?us.push(J(O((lA-Rs[pn])/(lt[pn].split(" ").length-1)))):us.push(0),B.push([lt[pn],ds,Jn])}}var ti=typeof ge.R2L=="boolean"?ge.R2L:at;ti===!0&&(B=So(B,(function(XA,ZA,Fr){return[XA.split("").reverse().join(""),ZA,Fr]}))),Ve={text:B,x:T,y:oe,options:ge,mutex:{pdfEscape:Rr,activeFontKey:zt,fonts:xt,activeFontSize:fe}},Ee.publish("postProcessText",Ve),B=Ve.text,hn=Ve.mutex.isHex||!1;var Ba=xt[zt].encoding;Ba!=="WinAnsiEncoding"&&Ba!=="StandardEncoding"||(B=So(B,(function(XA,ZA,Fr){return[_c(XA),ZA,Fr]}))),lt=Eo(B),B=[];for(var ta,fs,_n,hs=0,Ai=1,ri=Array.isArray(lt[0])?Ai:hs,On="",Uo=function(XA,ZA,Fr){var Ir="";return Fr instanceof $e?(Fr=typeof ge.angle=="number"?Ot(Fr,new $e(1,0,0,1,XA,ZA)):Ot(new $e(1,0,0,1,XA,ZA),Fr),L===Q.ADVANCED&&(Fr=Ot(new $e(1,0,0,-1,0,0),Fr)),Ir=Fr.join(" ")+` Tm
`):Ir=J(XA)+" "+J(ZA)+` Td
`,Ir},Xn=0;Xn<lt.length;Xn++){switch(On="",ri){case Ai:_n=(hn?"<":"(")+lt[Xn][0]+(hn?">":")"),ta=parseFloat(lt[Xn][1]),fs=parseFloat(lt[Xn][2]);break;case hs:_n=(hn?"<":"(")+lt[Xn]+(hn?">":")"),ta=Os(T),fs=cs(oe)}us!==void 0&&us[Xn]!==void 0&&(On=us[Xn]+` Tw
`),Xn===0?B.push(On+Uo(ta,fs,pr)+_n):ri===hs?B.push(On+_n):ri===Ai&&B.push(On+Uo(ta,fs,pr)+_n)}B=ri===hs?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var Aa=`BT
/`;return Aa+=zt+" "+fe+` Tf
`,Aa+=J(fe*Wn)+` TL
`,Aa+=Li+`
`,Aa+=Mr,Aa+=B,se(Aa+="ET"),x[zt]=!0,Qr};var Bc=w.__private__.clip=w.clip=function(B){return se(B==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Bc("evenodd")},w.__private__.discardPath=w.discardPath=function(){return se("n"),this};var os=w.__private__.isValidStyle=function(B){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(T=!0),T};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(B){return os(B)&&(h=B),this};var xl=w.__private__.getStyle=w.getStyle=function(B){var T=h;switch(B){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=B}return T},za=w.close=function(){return se("h"),this};w.stroke=function(){return se("S"),this},w.fill=function(B){return Dn("f",B),this},w.fillEvenOdd=function(B){return Dn("f*",B),this},w.fillStroke=function(B){return Dn("B",B),this},w.fillStrokeEvenOdd=function(B){return Dn("B*",B),this};var Dn=function(B,T){WA(T)==="object"?Zs(T,B):se(B)},Qi=function(B){B===null||L===Q.ADVANCED&&B===void 0||(B=xl(B),se(B))};function Fi(B,T,oe,ge,Fe){var Ve=new Uu(T||this.boundingBox,oe||this.xStep,ge||this.yStep,this.gState,Fe||this.matrix);Ve.stream=this.stream;var lt=B+"$$"+this.cloneIndex+++"$$";return bA(lt,Ve),Ve}var Zs=function(B,T){var oe=qA[B.key],ge=Xt[oe];if(ge instanceof rc)se("q"),se(Bl(T)),ge.gState&&w.setGState(ge.gState),se(B.matrix.toString()+" cm"),se("/"+oe+" sh"),se("Q");else if(ge instanceof Uu){var Fe=new $e(1,0,0,-1,0,Xa());B.matrix&&(Fe=Fe.multiply(B.matrix||Vt),oe=Fi.call(ge,B.key,B.boundingBox,B.xStep,B.yStep,Fe).id),se("q"),se("/Pattern cs"),se("/"+oe+" scn"),ge.gState&&w.setGState(ge.gState),se(T),se("Q")}},Bl=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Va=w.moveTo=function(B,T){return se(J(O(B))+" "+J(Ae(T))+" m"),this},$a=w.lineTo=function(B,T){return se(J(O(B))+" "+J(Ae(T))+" l"),this},Ds=w.curveTo=function(B,T,oe,ge,Fe,Ve){return se([J(O(B)),J(Ae(T)),J(O(oe)),J(Ae(ge)),J(O(Fe)),J(Ae(Ve)),"c"].join(" ")),this};w.__private__.line=w.line=function(B,T,oe,ge,Fe){if(isNaN(B)||isNaN(T)||isNaN(oe)||isNaN(ge)||!os(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return L===Q.COMPAT?this.lines([[oe-B,ge-T]],B,T,[1,1],Fe||"S"):this.lines([[oe-B,ge-T]],B,T,[1,1]).stroke()},w.__private__.lines=w.lines=function(B,T,oe,ge,Fe,Ve){var lt,yt,Gt,sA,lA,SA,dr,pr,Qr,sn,Mr,hn;if(typeof B=="number"&&(hn=oe,oe=T,T=B,B=hn),ge=ge||[1,1],Ve=Ve||!1,isNaN(T)||isNaN(oe)||!Array.isArray(B)||!Array.isArray(ge)||!os(Fe)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Va(T,oe),lt=ge[0],yt=ge[1],sA=B.length,sn=T,Mr=oe,Gt=0;Gt<sA;Gt++)(lA=B[Gt]).length===2?(sn=lA[0]*lt+sn,Mr=lA[1]*yt+Mr,$a(sn,Mr)):(SA=lA[0]*lt+sn,dr=lA[1]*yt+Mr,pr=lA[2]*lt+sn,Qr=lA[3]*yt+Mr,sn=lA[4]*lt+sn,Mr=lA[5]*yt+Mr,Ds(SA,dr,pr,Qr,sn,Mr));return Ve&&za(),Qi(Fe),this},w.path=function(B){for(var T=0;T<B.length;T++){var oe=B[T],ge=oe.c;switch(oe.op){case"m":Va(ge[0],ge[1]);break;case"l":$a(ge[0],ge[1]);break;case"c":Ds.apply(this,ge);break;case"h":za()}}return this},w.__private__.rect=w.rect=function(B,T,oe,ge,Fe){if(isNaN(B)||isNaN(T)||isNaN(oe)||isNaN(ge)||!os(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return L===Q.COMPAT&&(ge=-ge),se([J(O(B)),J(Ae(T)),J(O(oe)),J(O(ge)),"re"].join(" ")),Qi(Fe),this},w.__private__.triangle=w.triangle=function(B,T,oe,ge,Fe,Ve,lt){if(isNaN(B)||isNaN(T)||isNaN(oe)||isNaN(ge)||isNaN(Fe)||isNaN(Ve)||!os(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-B,ge-T],[Fe-oe,Ve-ge],[B-Fe,T-Ve]],B,T,[1,1],lt,!0),this},w.__private__.roundedRect=w.roundedRect=function(B,T,oe,ge,Fe,Ve,lt){if(isNaN(B)||isNaN(T)||isNaN(oe)||isNaN(ge)||isNaN(Fe)||isNaN(Ve)||!os(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*oe),Ve=Math.min(Ve,.5*ge),this.lines([[oe-2*Fe,0],[Fe*yt,0,Fe,Ve-Ve*yt,Fe,Ve],[0,ge-2*Ve],[0,Ve*yt,-Fe*yt,Ve,-Fe,Ve],[2*Fe-oe,0],[-Fe*yt,0,-Fe,-Ve*yt,-Fe,-Ve],[0,2*Ve-ge],[0,-Ve*yt,Fe*yt,-Ve,Fe,-Ve]],B+Fe,T,[1,1],lt,!0),this},w.__private__.ellipse=w.ellipse=function(B,T,oe,ge,Fe){if(isNaN(B)||isNaN(T)||isNaN(oe)||isNaN(ge)||!os(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*oe,lt=4/3*(Math.SQRT2-1)*ge;return Va(B+oe,T),Ds(B+oe,T-lt,B+Ve,T-ge,B,T-ge),Ds(B-Ve,T-ge,B-oe,T-lt,B-oe,T),Ds(B-oe,T+lt,B-Ve,T+ge,B,T+ge),Ds(B+Ve,T+ge,B+oe,T+lt,B+oe,T),Qi(Fe),this},w.__private__.circle=w.circle=function(B,T,oe,ge){if(isNaN(B)||isNaN(T)||isNaN(oe)||!os(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,T,oe,oe,ge)},w.setFont=function(B,T,oe){return oe&&(T=re(T,oe)),zt=bl(B,T,{disableWarning:!1}),this};var bo=w.__private__.getFont=w.getFont=function(){return xt[bl.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var B,T,oe={};for(B in _t)if(_t.hasOwnProperty(B))for(T in oe[B]=[],_t[B])_t[B].hasOwnProperty(T)&&oe[B].push(T);return oe},w.addFont=function(B,T,oe,ge,Fe){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(oe=re(oe,ge)),Fe=Fe||"Identity-H",Tn.call(this,B,T,oe,Fe)};var Ya,$r=A.lineWidth||.200025,ls=w.__private__.getLineWidth=w.getLineWidth=function(){return $r},ji=w.__private__.setLineWidth=w.setLineWidth=function(B){return $r=B,se(J(O(B))+" w"),this};w.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(B,T){if(B=B||[],T=T||0,isNaN(T)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map((function(oe){return J(O(oe))})).join(" "),T=J(O(T)),se("["+B+"] "+T+" d"),this};var Wa=w.__private__.getLineHeight=w.getLineHeight=function(){return fe*Ya};w.__private__.getLineHeight=w.getLineHeight=function(){return fe*Ya};var Cc=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(Ya=B),this},yo=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Ya};Cc(A.lineHeight);var Os=w.__private__.getHorizontalCoordinate=function(B){return O(B)},cs=w.__private__.getVerticalCoordinate=function(B){return L===Q.ADVANCED?B:Ht[k].mediaBox.topRightY-Ht[k].mediaBox.bottomLeftY-O(B)},xo=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(B){return J(Os(B))},wa=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(B){return J(cs(B))},ks=A.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return TA(ks)},w.__private__.setStrokeColor=w.setDrawColor=function(B,T,oe,ge){return ks=cr({ch1:B,ch2:T,ch3:oe,ch4:ge,pdfColorType:"draw",precision:2}),se(ks),this};var Cl=A.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return TA(Cl)},w.__private__.setFillColor=w.setFillColor=function(B,T,oe,ge){return Cl=cr({ch1:B,ch2:T,ch3:oe,ch4:ge,pdfColorType:"fill",precision:2}),se(Cl),this};var Li=A.textColor||"0 g",El=w.__private__.getTextColor=w.getTextColor=function(){return TA(Li)};w.__private__.setTextColor=w.setTextColor=function(B,T,oe,ge){return Li=cr({ch1:B,ch2:T,ch3:oe,ch4:ge,pdfColorType:"text",precision:3}),this};var Bo=A.charSpace,Yu=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Bo||0)};w.__private__.setCharSpace=w.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Bo=B,this};var Sl=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(B){var T=w.CapJoinStyles[B];if(T===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=T,se(T+" J"),this};var _l=0;w.__private__.setLineJoin=w.setLineJoin=function(B){var T=w.CapJoinStyles[B];if(T===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _l=T,se(T+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(J(O(B))+" M"),this},w.GState=_0,w.setGState=function(B){(B=typeof B=="string"?uA[LA[B]]:Ec(null,B)).equals(wA)||(se("/"+B.id+" gs"),wA=B)};var Ec=function(B,T){if(!B||!LA[B]){var oe=!1;for(var ge in uA)if(uA.hasOwnProperty(ge)&&uA[ge].equals(T)){oe=!0;break}if(oe)T=uA[ge];else{var Fe="GS"+(Object.keys(uA).length+1).toString(10);uA[Fe]=T,T.id=Fe}return B&&(LA[B]=T.id),Ee.publish("addGState",T),T}};w.addGState=function(B,T){return Ec(B,T),this},w.saveGraphicsState=function(){return se("q"),FA.push({key:zt,size:fe,color:Li}),this},w.restoreGraphicsState=function(){se("Q");var B=FA.pop();return zt=B.key,fe=B.size,Li=B.color,wA=null,this},w.setCurrentTransformationMatrix=function(B){return se(B.toString()+" cm"),this},w.comment=function(B){return se("#"+B),this};var Ii=function(B,T){var oe=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Ve){isNaN(Ve)||(oe=parseFloat(Ve))}});var ge=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Ve){isNaN(Ve)||(ge=parseFloat(Ve))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Ve){Fe=Ve.toString()}}),this},Nl=function(B,T,oe,ge){Ii.call(this,B,T),this.type="rect";var Fe=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(lt){isNaN(lt)||(Fe=parseFloat(lt))}});var Ve=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(lt){isNaN(lt)||(Ve=parseFloat(lt))}}),this},Ul=function(){this.page=wt,this.currentPage=k,this.pages=Qe.slice(0),this.pagesContext=Ht.slice(0),this.x=be,this.y=Me,this.matrix=dt,this.width=Ti(k),this.height=Xa(k),this.outputDestination=ot,this.id="",this.objectNumber=-1};Ul.prototype.restore=function(){wt=this.page,k=this.currentPage,Ht=this.pagesContext,Qe=this.pages,be=this.x,Me=this.y,dt=this.matrix,Ql(k,this.width),Co(k,this.height),ot=this.outputDestination};var Sc=function(B,T,oe,ge,Fe){Se.push(new Ul),wt=k=0,Qe=[],be=B,Me=T,dt=Fe,Hr([oe,ge])},Wu=function(B){if(ke[B])Se.pop().restore();else{var T=new Ul,oe="Xo"+(Object.keys(Ye).length+1).toString(10);T.id=oe,ke[B]=oe,Ye[oe]=T,Ee.publish("addFormObject",T),Se.pop().restore()}};for(var Ja in w.beginFormObject=function(B,T,oe,ge,Fe){return Sc(B,T,oe,ge,Fe),this},w.endFormObject=function(B){return Wu(B),this},w.doFormObject=function(B,T){var oe=Ye[ke[B]];return se("q"),se(T.toString()+" cm"),se("/"+oe.id+" Do"),se("Q"),this},w.getFormObject=function(B){var T=Ye[ke[B]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},w.save=function(B,T){return B=B||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(Xl(mo(Ts()),B),typeof Xl.unload=="function"&&rA.setTimeout&&setTimeout(Xl.unload,911),this):new Promise((function(oe,ge){try{var Fe=Xl(mo(Ts()),B);typeof Xl.unload=="function"&&rA.setTimeout&&setTimeout(Xl.unload,911),oe(Fe)}catch(Ve){ge(Ve.message)}}))},Jt.API)Jt.API.hasOwnProperty(Ja)&&(Ja==="events"&&Jt.API.events.length?(function(B,T){var oe,ge,Fe;for(Fe=T.length-1;Fe!==-1;Fe--)oe=T[Fe][0],ge=T[Fe][1],B.subscribe.apply(B,[oe].concat(typeof ge=="function"?[ge]:ge))})(Ee,Jt.API.events):w[Ja]=Jt.API[Ja]);var Ti=w.getPageWidth=function(B){return(Ht[B=B||k].mediaBox.topRightX-Ht[B].mediaBox.bottomLeftX)/ze},Ql=w.setPageWidth=function(B,T){Ht[B].mediaBox.topRightX=T*ze+Ht[B].mediaBox.bottomLeftX},Xa=w.getPageHeight=function(B){return(Ht[B=B||k].mediaBox.topRightY-Ht[B].mediaBox.bottomLeftY)/ze},Co=w.setPageHeight=function(B,T){Ht[B].mediaBox.topRightY=T*ze+Ht[B].mediaBox.bottomLeftY};return w.internal={pdfEscape:Rr,getStyle:xl,getFont:bo,getFontSize:Ge,getCharSpace:Yu,getTextColor:El,getLineHeight:Wa,getLineHeightFactor:yo,getLineWidth:ls,write:Qt,getHorizontalCoordinate:Os,getVerticalCoordinate:cs,getCoordinateString:xo,getVerticalCoordinateString:wa,collections:{},newObject:iA,newAdditionalObject:kr,newObjectDeferred:Tt,newObjectDeferredBegin:EA,getFilters:Ur,putStream:nn,events:Ee,scaleFactor:ze,pageSize:{getWidth:function(){return Ti(k)},setWidth:function(B){Ql(k,B)},getHeight:function(){return Xa(k)},setHeight:function(B){Co(k,B)}},encryptionOptions:g,encryption:ur,getEncryptor:yl,output:wo,getNumberOfPages:qa,pages:Qe,out:se,f2:me,f3:D,getPageInfo:vo,getPageInfoByObjId:Wt,getCurrentPageInfo:Ga,getPDFVersion:E,Point:Ii,Rectangle:Nl,Matrix:$e,hasHotfix:Ui},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Ti(k)},set:function(B){Ql(k,B)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Xa(k)},set:function(B){Co(k,B)},enumerable:!0,configurable:!0}),is.call(w,Je),zt="F1",po(a,t),Ee.publish("initialized"),w}Cu.prototype.lsbFirstWord=function(A){return String.fromCharCode(A>>0&255,A>>8&255,A>>16&255,A>>24&255)},Cu.prototype.toHexString=function(A){return A.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Cu.prototype.hexToBytes=function(A){for(var e=[],t=0;t<A.length;t+=2)e.push(String.fromCharCode(parseInt(A.substr(t,2),16)));return e.join("")},Cu.prototype.processOwnerPassword=function(A,e){return r1(A1(e).substr(0,5),A)},Cu.prototype.encryptor=function(A,e){var t=A1(this.encryptionKey+String.fromCharCode(255&A,A>>8&255,A>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return r1(t,n)}},_0.prototype.equals=function(A){var e,t="id,objectNumber,equals";if(!A||WA(A)!==WA(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!A.hasOwnProperty(e)||this[e]!==A[e])return!1;n++}for(e in A)A.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Jt.API={events:[]},Jt.version="2.5.1";var Or=Jt.API,G1=1,wc=function(A){return A.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pu=function(A){return A.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},fA=function(A){return A.toFixed(2)},el=function(A){return A.toFixed(5)};Or.__acroform__={};var js=function(A,e){A.prototype=Object.create(e.prototype),A.prototype.constructor=A},Jb=function(A){return A*G1},wi=function(A){var e=new xB,t=Dt.internal.getHeight(A)||0,n=Dt.internal.getWidth(A)||0;return e.BBox=[0,0,Number(fA(n)),Number(fA(t))],e},b6=Or.__acroform__.setBit=function(A,e){if(A=A||0,e=e||0,isNaN(A)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return A|=1<<e},y6=Or.__acroform__.clearBit=function(A,e){if(A=A||0,e=e||0,isNaN(A)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return A&=~(1<<e)},x6=Or.__acroform__.getBit=function(A,e){if(isNaN(A)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(A&1<<e)==0?0:1},Gr=Or.__acroform__.getBitForPdf=function(A,e){if(isNaN(A)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return x6(A,e-1)},zr=Or.__acroform__.setBitForPdf=function(A,e){if(isNaN(A)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return b6(A,e-1)},Vr=Or.__acroform__.clearBitForPdf=function(A,e){if(isNaN(A)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return y6(A,e-1)},B6=Or.__acroform__.calculateCoordinates=function(A,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=A[0],i=A[1],l=A[2],f=A[3],d={};return d.lowerLeft_X=t(a)||0,d.lowerLeft_Y=n(i+f)||0,d.upperRight_X=t(a+l)||0,d.upperRight_Y=n(i)||0,[Number(fA(d.lowerLeft_X)),Number(fA(d.lowerLeft_Y)),Number(fA(d.upperRight_X)),Number(fA(d.upperRight_Y))]},C6=function(A){if(A.appearanceStreamContent)return A.appearanceStreamContent;if(A.V||A.DV){var e=[],t=A._V||A.DV,n=n1(A,t),a=A.scope.internal.getFont(A.fontName,A.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(A.scope.__private__.encodeColorString(A.color)),e.push("/"+a+" "+fA(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=wi(A);return i.scope=A.scope,i.stream=e.join(`
`),i}},n1=function(A,e){var t=A.fontSize===0?A.maxFontSize:A.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=A.multiline?a.map((function(D){return D.split(`
`)})):a.map((function(D){return[D]}));var i=t,l=Dt.internal.getHeight(A)||0;l=l<0?-l:l;var f=Dt.internal.getWidth(A)||0;f=f<0?-f:f;var d=function(D,O,Y){if(D+1<a.length){var Ae=O+" "+a[D+1][0];return Oh(Ae,A,Y).width<=f-4}return!1};i++;e:for(;i>0;){e="",i--;var h,g,b=Oh("3",A,i).height,x=A.multiline?l-i:(l-b)/2,w=x+=2,S=0,E=0,U=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Oh(e,A,i=12).width+", FieldWidth:"+f+`
`;break}for(var _="",Q=0,L=0;L<a.length;L++)if(a.hasOwnProperty(L)){var W=!1;if(a[L].length!==1&&U!==a[L].length-1){if((b+2)*(Q+2)+2>l)continue e;_+=a[L][U],W=!0,E=L,L--}else{_=(_+=a[L][U]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var X=parseInt(L),re=d(X,_,i),J=L>=a.length-1;if(re&&!J){_+=" ",U=0;continue}if(re||J){if(J)E=X;else if(A.multiline&&(b+2)*(Q+2)+2>l)continue e}else{if(!A.multiline||(b+2)*(Q+2)+2>l)continue e;E=X}}for(var V="",ae=S;ae<=E;ae++){var me=a[ae];if(A.multiline){if(ae===E){V+=me[U]+" ",U=(U+1)%me.length;continue}if(ae===S){V+=me[me.length-1]+" ";continue}}V+=me[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,g=Oh(V,A,i).width,A.textAlign){case"right":h=f-g-2;break;case"center":h=(f-g)/2;break;case"left":default:h=2}e+=fA(h)+" "+fA(w)+` Td
`,e+="("+wc(V)+`) Tj
`,e+=-fA(h)+` 0 Td
`,w=-(i+2),g=0,S=W?E:E+1,Q++,_=""}break}return n.text=e,n.fontSize=i,n},Oh=function(A,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(A,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},E6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},S6=function(A,e){var t={type:"reference",object:A};e.internal.getPageInfo(A.page).pageContext.annotations.find((function(n){return n.type===t.type&&n.object===t.object}))===void 0&&e.internal.getPageInfo(A.page).pageContext.annotations.push(t)},_6=function(A,e){for(var t in A)if(A.hasOwnProperty(t)){var n=t,a=A[t];e.internal.newObjectDeferredBegin(a.objId,!0),WA(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete A[n]}},N6=function(A,e){if(e.scope=A,A.internal!==void 0&&(A.internal.acroformPlugin===void 0||A.internal.acroformPlugin.isInitialized===!1)){if(Pa.FieldNum=0,A.internal.acroformPlugin=JSON.parse(JSON.stringify(E6)),A.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");G1=A.internal.scaleFactor,A.internal.acroformPlugin.acroFormDictionaryRoot=new BB,A.internal.acroformPlugin.acroFormDictionaryRoot.scope=A,A.internal.acroformPlugin.acroFormDictionaryRoot._eventID=A.internal.events.subscribe("postPutResources",(function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(A)})),A.internal.events.subscribe("buildDocument",(function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&S6(i,t)}})(A)})),A.internal.events.subscribe("putCatalog",(function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(A)})),A.internal.events.subscribe("postPutPages",(function(t){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var f=n[l],d=[],h=f.Rect;if(f.Rect&&(f.Rect=B6(f.Rect,a)),a.internal.newObjectDeferredBegin(f.objId,!0),f.DA=Dt.createDefaultAppearanceStream(f),WA(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(d=f.getKeyValueListForStream()),f.Rect=h,f.hasAppearanceStream&&!f.appearanceStreamContent){var g=C6(f);d.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(f.appearanceStreamContent){var b="";for(var x in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(x)){var w=f.appearanceStreamContent[x];if(b+="/"+x+" ",b+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var l in w)if(w.hasOwnProperty(l)){var S=w[l];typeof S=="function"&&(S=S.call(a,f)),b+="/"+l+" "+S+" ",a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S)}}else typeof(S=w)=="function"&&(S=S.call(a,f)),b+="/"+l+" "+S,a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S);b+=">>"}d.push({key:"AP",value:`<<
`+b+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:f.objId}),a.internal.out("endobj")}i&&_6(a.internal.acroformPlugin.xForms,a)})(t,A)})),A.internal.acroformPlugin.isInitialized=!0}},yB=Or.__acroform__.arrayToPdfArray=function(A,e,t){var n=function(l){return l};if(Array.isArray(A)){for(var a="[",i=0;i<A.length;i++)switch(i!==0&&(a+=" "),WA(A[i])){case"boolean":case"number":case"object":a+=A[i].toString();break;case"string":A[i].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+wc(n(A[i].toString()))+")"):a+=A[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nm=function(A,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(A=A||"").toString(),A="("+wc(n(A))+")"},yi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(A){this._objId=A}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};yi.prototype.toString=function(){return this.objId+" 0 R"},yi.prototype.putStream=function(){var A=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:A,objectId:this.objId}),this.scope.internal.out("endobj")},yi.prototype.getKeyValueListForStream=function(){var A=[],e=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?A.push({key:n,value:yB(a,this.objId,this.scope)}):a instanceof yi?(a.scope=this.scope,A.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&A.push({key:n,value:a}))}return A};var xB=function(){yi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var A,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){A=t.trim()},get:function(){return A||null}})};js(xB,yi);var BB=function(){yi.call(this);var A,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(A){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+wc(t(A))+")"}},set:function(t){A=t}})};js(BB,yi);var Pa=function A(){yi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gr(e,3)},set:function(_){_?this.F=zr(e,3):this.F=Vr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');t=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof N0)return;i="FieldObject"+A.FieldNum++}var _=function(Q){return Q};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+wc(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/G1:h},set:function(_){h=_}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(_){g=_}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof N0||this instanceof hc))return nm(b,this.objId,this.scope)},set:function(_){_=_.toString(),b=_}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof xn?x:nm(x,this.objId,this.scope)},set:function(_){_=_.toString(),x=this instanceof xn?_:_.substr(0,1)==="("?pu(_.substr(1,_.length-2)):pu(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?pu(x.substr(1,x.length-1)):x},set:function(_){_=_.toString(),x=this instanceof xn?"/"+_:_}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof xn?w:nm(w,this.objId,this.scope)},set:function(_){_=_.toString(),w=this instanceof xn?_:_.substr(0,1)==="("?pu(_.substr(1,_.length-2)):pu(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?pu(w.substr(1,w.length-1)):w},set:function(_){_=_.toString(),w=this instanceof xn?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(_){_=!!_,E=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(_){S=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,1)},set:function(_){_?this.Ff=zr(this.Ff,1):this.Ff=Vr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,2)},set:function(_){_?this.Ff=zr(this.Ff,2):this.Ff=Vr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,3)},set:function(_){_?this.Ff=zr(this.Ff,3):this.Ff=Vr(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');U=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(U){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:U=2;break;case"center":case 1:U=1;break;case"left":case 0:default:U=0}}})};js(Pa,yi);var ju=function(){Pa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var A=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return A},set:function(t){A=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return A},set:function(t){A=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yB(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=(function(i,l,f){f||(f=1);for(var d,h=[];d=l.exec(i);)h.push(d[f]);return h})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,18)},set:function(t){t?this.Ff=zr(this.Ff,18):this.Ff=Vr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=zr(this.Ff,19):this.Ff=Vr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,20)},set:function(t){t?(this.Ff=zr(this.Ff,20),e.sort()):this.Ff=Vr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,22)},set:function(t){t?this.Ff=zr(this.Ff,22):this.Ff=Vr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,23)},set:function(t){t?this.Ff=zr(this.Ff,23):this.Ff=Vr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,27)},set:function(t){t?this.Ff=zr(this.Ff,27):this.Ff=Vr(this.Ff,27)}}),this.hasAppearanceStream=!1};js(ju,Pa);var Lu=function(){ju.call(this),this.fontName="helvetica",this.combo=!1};js(Lu,ju);var Iu=function(){Lu.call(this),this.combo=!0};js(Iu,Lu);var a0=function(){Iu.call(this),this.edit=!0};js(a0,Iu);var xn=function(){Pa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,15)},set:function(t){t?this.Ff=zr(this.Ff,15):this.Ff=Vr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,16)},set:function(t){t?this.Ff=zr(this.Ff,16):this.Ff=Vr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,17)},set:function(t){t?this.Ff=zr(this.Ff,17):this.Ff=Vr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,26)},set:function(t){t?this.Ff=zr(this.Ff,26):this.Ff=Vr(this.Ff,26)}});var A,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+wc(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){WA(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return A},set:function(t){A=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return A.substr(1,A.length-1)},set:function(t){A="/"+t}})};js(xn,Pa);var i0=function(){xn.call(this),this.pushButton=!0};js(i0,xn);var Tu=function(){xn.call(this),this.radio=!0,this.pushButton=!1;var A=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return A},set:function(e){A=e!==void 0?e:[]}})};js(Tu,xn);var N0=function(){var A,e;Pa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return A},set:function(a){A=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(f){return f};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+wc(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){WA(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};js(N0,Pa),Tu.prototype.setAppearance=function(A){if(!("createAppearanceStream"in A)||!("getCA"in A))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=A.createAppearanceStream(t.optionName),t.caption=A.getCA()}},Tu.prototype.createOption=function(A){var e=new N0;return e.Parent=this,e.optionName=A,this.Kids.push(e),U6.call(this.scope,e),e};var o0=function(){xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};js(o0,xn);var hc=function(){Pa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,13)},set:function(e){e?this.Ff=zr(this.Ff,13):this.Ff=Vr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,21)},set:function(e){e?this.Ff=zr(this.Ff,21):this.Ff=Vr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,23)},set:function(e){e?this.Ff=zr(this.Ff,23):this.Ff=Vr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,24)},set:function(e){e?this.Ff=zr(this.Ff,24):this.Ff=Vr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,25)},set:function(e){e?this.Ff=zr(this.Ff,25):this.Ff=Vr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,26)},set:function(e){e?this.Ff=zr(this.Ff,26):this.Ff=Vr(this.Ff,26)}});var A=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return A},set:function(e){A=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return A},set:function(e){Number.isInteger(e)&&(A=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};js(hc,Pa);var l0=function(){hc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,14)},set:function(A){A?this.Ff=zr(this.Ff,14):this.Ff=Vr(this.Ff,14)}}),this.password=!0};js(l0,hc);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(A){var e=wi(A);e.scope=A.scope;var t=[],n=A.scope.internal.getFont(A.fontName,A.fontStyle).id,a=A.scope.__private__.encodeColorString(A.color),i=n1(A,A.caption);return t.push("0.749023 g"),t.push("0 0 "+fA(Dt.internal.getWidth(A))+" "+fA(Dt.internal.getHeight(A))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+fA(i.fontSize)+" Tf "+a),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(A){var e=wi(A);e.scope=A.scope;var t=A.scope.internal.getFont(A.fontName,A.fontStyle).id,n=A.scope.__private__.encodeColorString(A.color),a=[],i=Dt.internal.getHeight(A),l=Dt.internal.getWidth(A),f=n1(A,A.caption);return a.push("1 g"),a.push("0 0 "+fA(l)+" "+fA(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+fA(l-1)+" "+fA(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+fA(f.fontSize)+" Tf "+n),a.push(f.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(A){var e=wi(A);e.scope=A.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+fA(Dt.internal.getWidth(A))+" "+fA(Dt.internal.getHeight(A))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(A){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[A]=Dt.RadioButton.Circle.YesNormal,e.D[A]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(A){var e=wi(A);e.scope=A.scope;var t=[],n=Dt.internal.getWidth(A)<=Dt.internal.getHeight(A)?Dt.internal.getWidth(A)/4:Dt.internal.getHeight(A)/4;n=Number((.9*n).toFixed(5));var a=Dt.internal.Bezier_C,i=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+el(Dt.internal.getWidth(A)/2)+" "+el(Dt.internal.getHeight(A)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(A){var e=wi(A);e.scope=A.scope;var t=[],n=Dt.internal.getWidth(A)<=Dt.internal.getHeight(A)?Dt.internal.getWidth(A)/4:Dt.internal.getHeight(A)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Dt.internal.Bezier_C).toFixed(5)),l=Number((n*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+el(Dt.internal.getWidth(A)/2)+" "+el(Dt.internal.getHeight(A)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+el(Dt.internal.getWidth(A)/2)+" "+el(Dt.internal.getHeight(A)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),t.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),t.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),t.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(A){var e=wi(A);e.scope=A.scope;var t=[],n=Dt.internal.getWidth(A)<=Dt.internal.getHeight(A)?Dt.internal.getWidth(A)/4:Dt.internal.getHeight(A)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+el(Dt.internal.getWidth(A)/2)+" "+el(Dt.internal.getHeight(A)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(A){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[A]=Dt.RadioButton.Cross.YesNormal,e.D[A]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(A){var e=wi(A);e.scope=A.scope;var t=[],n=Dt.internal.calculateCross(A);return t.push("q"),t.push("1 1 "+fA(Dt.internal.getWidth(A)-2)+" "+fA(Dt.internal.getHeight(A)-2)+" re"),t.push("W"),t.push("n"),t.push(fA(n.x1.x)+" "+fA(n.x1.y)+" m"),t.push(fA(n.x2.x)+" "+fA(n.x2.y)+" l"),t.push(fA(n.x4.x)+" "+fA(n.x4.y)+" m"),t.push(fA(n.x3.x)+" "+fA(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(A){var e=wi(A);e.scope=A.scope;var t=Dt.internal.calculateCross(A),n=[];return n.push("0.749023 g"),n.push("0 0 "+fA(Dt.internal.getWidth(A))+" "+fA(Dt.internal.getHeight(A))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+fA(Dt.internal.getWidth(A)-2)+" "+fA(Dt.internal.getHeight(A)-2)+" re"),n.push("W"),n.push("n"),n.push(fA(t.x1.x)+" "+fA(t.x1.y)+" m"),n.push(fA(t.x2.x)+" "+fA(t.x2.y)+" l"),n.push(fA(t.x4.x)+" "+fA(t.x4.y)+" m"),n.push(fA(t.x3.x)+" "+fA(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(A){var e=wi(A);e.scope=A.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+fA(Dt.internal.getWidth(A))+" "+fA(Dt.internal.getHeight(A))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(A){var e=A.scope.internal.getFont(A.fontName,A.fontStyle).id,t=A.scope.__private__.encodeColorString(A.color);return"/"+e+" "+A.fontSize+" Tf "+t}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(A){var e=Dt.internal.getWidth(A),t=Dt.internal.getHeight(A),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Dt.internal.getWidth=function(A){var e=0;return WA(A)==="object"&&(e=Jb(A.Rect[2])),e},Dt.internal.getHeight=function(A){var e=0;return WA(A)==="object"&&(e=Jb(A.Rect[3])),e};var U6=Or.addField=function(A){if(N6(this,A),!(A instanceof Pa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=A).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),A.page=A.scope.internal.getCurrentPageInfo().pageNumber,this};Or.AcroFormChoiceField=ju,Or.AcroFormListBox=Lu,Or.AcroFormComboBox=Iu,Or.AcroFormEditBox=a0,Or.AcroFormButton=xn,Or.AcroFormPushButton=i0,Or.AcroFormRadioButton=Tu,Or.AcroFormCheckBox=o0,Or.AcroFormTextField=hc,Or.AcroFormPasswordField=l0,Or.AcroFormAppearance=Dt,Or.AcroForm={ChoiceField:ju,ListBox:Lu,ComboBox:Iu,EditBox:a0,Button:xn,PushButton:i0,RadioButton:Tu,CheckBox:o0,TextField:hc,PasswordField:l0,Appearance:Dt},Jt.AcroForm={ChoiceField:ju,ListBox:Lu,ComboBox:Iu,EditBox:a0,Button:xn,PushButton:i0,RadioButton:Tu,CheckBox:o0,TextField:hc,PasswordField:l0,Appearance:Dt};Jt.AcroForm;function CB(A){return A.reduce((function(e,t,n){return e[t]=n,e}),{})}(function(A){A.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=A.__addimage__.getImageFileTypeByImageData=function(D,O){var Y,Ae,Ce,ee,ce,le=e;if((O=O||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(re(D))for(ce in t)for(Ce=t[ce],Y=0;Y<Ce.length;Y+=1){for(ee=!0,Ae=0;Ae<Ce[Y].length;Ae+=1)if(Ce[Y][Ae]!==void 0&&Ce[Y][Ae]!==D[Ae]){ee=!1;break}if(ee===!0){le=ce;break}}else for(ce in t)for(Ce=t[ce],Y=0;Y<Ce.length;Y+=1){for(ee=!0,Ae=0;Ae<Ce[Y].length;Ae+=1)if(Ce[Y][Ae]!==void 0&&Ce[Y][Ae]!==D.charCodeAt(Ae)){ee=!1;break}if(ee===!0){le=ce;break}}return le===e&&O!==e&&(le=O),le},a=function D(O){for(var Y=this.internal.write,Ae=this.internal.putStream,Ce=(0,this.internal.getFilters)();Ce.indexOf("FlateEncode")!==-1;)Ce.splice(Ce.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:O.width}),ee.push({key:"Height",value:O.height}),O.colorSpace===U.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===U.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var ce="",le=0,Ne=O.transparency.length;le<Ne;le++)ce+=O.transparency[le]+" "+O.transparency[le]+" ";ee.push({key:"Mask",value:"["+ce+"]"})}O.sMask!==void 0&&ee.push({key:"SMask",value:O.objectId+1+" 0 R"});var te=O.filter!==void 0?["/"+O.filter]:void 0;if(Ae({data:O.data,additionalKeyValues:ee,alreadyAppliedFilters:te,objectId:O.objectId}),Y("endobj"),"sMask"in O&&O.sMask!==void 0){var H="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,N={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:H,data:O.sMask};"filter"in O&&(N.filter=O.filter),D.call(this,N)}if(O.colorSpace===U.INDEXED){var k=this.internal.newObject();Ae({data:V(new Uint8Array(O.palette)),objectId:k}),Y("endobj")}},i=function(){var D=this.internal.collections.addImage_images;for(var O in D)a.call(this,D[O])},l=function(){var D,O=this.internal.collections.addImage_images,Y=this.internal.write;for(var Ae in O)Y("/I"+(D=O[Ae]).index,D.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var D=this.internal.collections.addImage_images;return f.call(this),D},h=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(D){return typeof A["process"+D.toUpperCase()]=="function"},b=function(D){return WA(D)==="object"&&D.nodeType===1},x=function(D,O){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var Y=""+D.getAttribute("src");if(Y.indexOf("data:image/")===0)return Af(unescape(Y).split("base64,").pop());var Ae=A.loadFile(Y,!0);if(Ae!==void 0)return Ae}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var Ce;switch(O){case"PNG":Ce="image/png";break;case"WEBP":Ce="image/webp";break;case"JPEG":case"JPG":default:Ce="image/jpeg"}return Af(D.toDataURL(Ce,1).split("base64,").pop())}},w=function(D){var O=this.internal.collections.addImage_images;if(O){for(var Y in O)if(D===O[Y].alias)return O[Y]}},S=function(D,O,Y){return D||O||(D=-96,O=-96),D<0&&(D=-1*Y.width*72/D/this.internal.scaleFactor),O<0&&(O=-1*Y.height*72/O/this.internal.scaleFactor),D===0&&(D=O*Y.width/Y.height),O===0&&(O=D*Y.height/Y.width),[D,O]},E=function(D,O,Y,Ae,Ce,ee){var ce=S.call(this,Y,Ae,Ce),le=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,te=d.call(this);if(Y=ce[0],Ae=ce[1],te[Ce.index]=Ce,ee){ee*=Math.PI/180;var H=Math.cos(ee),N=Math.sin(ee),k=function(G){return G.toFixed(4)},P=[k(H),k(N),k(-1*N),k(H),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,le(D),Ne(O+Ae),"cm"].join(" ")),this.internal.write(P.join(" ")),this.internal.write([le(Y),"0","0",le(Ae),"0","0","cm"].join(" "))):this.internal.write([le(Y),"0","0",le(Ae),le(D),Ne(O+Ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ce.index+" Do"),this.internal.write("Q")},U=A.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};A.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=A.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Q=A.__addimage__.sHashCode=function(D){var O,Y,Ae=0;if(typeof D=="string")for(Y=D.length,O=0;O<Y;O++)Ae=(Ae<<5)-Ae+D.charCodeAt(O),Ae|=0;else if(re(D))for(Y=D.byteLength/2,O=0;O<Y;O++)Ae=(Ae<<5)-Ae+D[O],Ae|=0;return Ae},L=A.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var O=!0;return D.length===0&&(O=!1),D.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(O=!1),O},W=A.__addimage__.extractImageFromDataUrl=function(D){var O=(D=D||"").split("base64,"),Y=null;if(O.length===2){var Ae=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(Ae)&&(Y={mimeType:Ae[1],charset:Ae[2],data:O[1]})}return Y},X=A.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};A.__addimage__.isArrayBuffer=function(D){return X()&&D instanceof ArrayBuffer};var re=A.__addimage__.isArrayBufferView=function(D){return X()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},J=A.__addimage__.binaryStringToUint8Array=function(D){for(var O=D.length,Y=new Uint8Array(O),Ae=0;Ae<O;Ae++)Y[Ae]=D.charCodeAt(Ae);return Y},V=A.__addimage__.arrayBufferToBinaryString=function(D){for(var O="",Y=re(D)?D:new Uint8Array(D),Ae=0;Ae<Y.length;Ae+=8192)O+=String.fromCharCode.apply(null,Y.subarray(Ae,Ae+8192));return O};A.addImage=function(){var D,O,Y,Ae,Ce,ee,ce,le,Ne;if(typeof arguments[1]=="number"?(O=e,Y=arguments[1],Ae=arguments[2],Ce=arguments[3],ee=arguments[4],ce=arguments[5],le=arguments[6],Ne=arguments[7]):(O=arguments[1],Y=arguments[2],Ae=arguments[3],Ce=arguments[4],ee=arguments[5],ce=arguments[6],le=arguments[7],Ne=arguments[8]),WA(D=arguments[0])==="object"&&!b(D)&&"imageData"in D){var te=D;D=te.imageData,O=te.format||O||e,Y=te.x||Y||0,Ae=te.y||Ae||0,Ce=te.w||te.width||Ce,ee=te.h||te.height||ee,ce=te.alias||ce,le=te.compression||le,Ne=te.rotation||te.angle||Ne}var H=this.internal.getFilters();if(le===void 0&&H.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(Y)||isNaN(Ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var N=ae.call(this,D,O,ce,le);return E.call(this,Y,Ae,Ce,ee,N,Ne),this};var ae=function(D,O,Y,Ae){var Ce,ee,ce;if(typeof D=="string"&&n(D)===e){D=unescape(D);var le=me(D,!1);(le!==""||(le=A.loadFile(D,!0))!==void 0)&&(D=le)}if(b(D)&&(D=x(D,O)),O=n(D,O),!g(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((ce=Y)==null||ce.length===0)&&(Y=(function(Ne){return typeof Ne=="string"||re(Ne)?Q(Ne):re(Ne.data)?Q(Ne.data):null})(D)),(Ce=w.call(this,Y))||(X()&&(D instanceof Uint8Array||O==="RGBA"||(ee=D,D=J(D))),Ce=this["process"+O.toUpperCase()](D,h.call(this),Y,(function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in A.image_compression?Ne:_.NONE})(Ae),ee)),!Ce)throw new Error("An unknown error occurred whilst processing the image.");return Ce},me=A.__addimage__.convertBase64ToBinaryString=function(D,O){var Y;O=typeof O!="boolean"||O;var Ae,Ce="";if(typeof D=="string"){Ae=(Y=W(D))!==null?Y.data:D;try{Ce=Af(Ae)}catch(ee){if(O)throw L(Ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ce};A.getImageProperties=function(D){var O,Y,Ae="";if(b(D)&&(D=x(D)),typeof D=="string"&&n(D)===e&&((Ae=me(D,!1))===""&&(Ae=A.loadFile(D)||""),D=Ae),Y=n(D),!g(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(!X()||D instanceof Uint8Array||(D=J(D)),!(O=this["process"+Y.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=Y,O}})(Jt.API),(function(A){var e=function(t){if(t!==void 0&&t!="")return!0};Jt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),A.events.push(["putPage",function(t){for(var n,a,i,l=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,g=!1,b=0;b<h.length&&!g;b++)switch((n=h[b]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var x=0;x<h.length;x++){n=h[x];var w=this.internal.pdfEscape,S=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(E.objId),Q=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+f(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+f(n.bounds.y)+"] ")+"/Contents ("+w(_(n.contents))+")",i+=" /Popup "+U.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+w(_(Q))+") >>",E.content=i;var L=E.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+f(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+f(n.bounds.y)+"] ")+" /Parent "+L,n.open&&(i+=" /Open true"),i+=" >>",U.content=i,this.internal.write(E.objId,"0 R",U.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+f(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+f(n.bounds.y+n.bounds.h)+"] ";var W=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(S(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var X=this.annotations._nameMap[n.options.name];n.options.pageNumber=X.page,n.options.top=X.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var re=f(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+re+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),A.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},A.link=function(t,n,a,i,l){var f=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:d(t),y:h(n),w:d(t+a),h:h(n+i)},options:l,type:"link"})},A.textWithLink=function(t,n,a,i){var l,f,d=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){f=i.maxWidth;var g=this.splitTextToSize(t,f).length;l=Math.ceil(h*g)}else f=d,l=h;return this.text(t,n,a,i),a+=.2*h,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,a-h,f,l,i),d},A.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(Jt.API),(function(A){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];A.__arabicParser__={};var i=A.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},l=A.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},f=A.__arabicParser__.isArabicEndLetter=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length<=2},d=A.__arabicParser__.isArabicAlfLetter=function(E){return l(E)&&a.indexOf(E.charCodeAt(0))>=0};A.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length>=1};var h=A.__arabicParser__.arabicLetterHasFinalForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length>=2};A.__arabicParser__.arabicLetterHasInitialForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length>=3};var g=A.__arabicParser__.arabicLetterHasMedialForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length==4},b=A.__arabicParser__.resolveLigatures=function(E){var U=0,_=t,Q="",L=0;for(U=0;U<E.length;U+=1)_[E.charCodeAt(U)]!==void 0?(L++,typeof(_=_[E.charCodeAt(U)])=="number"&&(Q+=String.fromCharCode(_),_=t,L=0),U===E.length-1&&(_=t,Q+=E.charAt(U-(L-1)),U-=L-1,L=0)):(_=t,Q+=E.charAt(U-L),U-=L,L=0);return Q};A.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&n[E.charCodeAt(0)]!==void 0};var x=A.__arabicParser__.getCorrectForm=function(E,U,_){return l(E)?i(E)===!1?-1:!h(E)||!l(U)&&!l(_)||!l(_)&&f(U)||f(E)&&!l(U)||f(E)&&d(U)||f(E)&&f(U)?0:g(E)&&l(U)&&!f(U)&&l(_)&&h(_)?3:f(E)||!l(_)?1:2:-1},w=function(E){var U=0,_=0,Q=0,L="",W="",X="",re=(E=E||"").split("\\s+"),J=[];for(U=0;U<re.length;U+=1){for(J.push(""),_=0;_<re[U].length;_+=1)L=re[U][_],W=re[U][_-1],X=re[U][_+1],l(L)?(Q=x(L,W,X),J[U]+=Q!==-1?String.fromCharCode(e[L.charCodeAt(0)][Q]):L):J[U]+=L;J[U]=b(J[U])}return J.join(" ")},S=A.__arabicParser__.processArabic=A.processArabic=function(){var E,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(U)){var Q=0;for(_=[],Q=0;Q<U.length;Q+=1)Array.isArray(U[Q])?_.push([w(U[Q][0]),U[Q][1],U[Q][2]]):_.push([w(U[Q])]);E=_}else E=w(U);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};A.events.push(["preProcessText",S])})(Jt.API),Jt.API.autoPrint=function(A){var e;switch((A=A||{}).variant=A.variant||"non-conform",A.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(A){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(f){t=f}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(f){n=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(f){a=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(f){i=f}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(f){l=f}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},A.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Jt.API),(function(A){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(E){b=E}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(E){w=E}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(E){S=E}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},A.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},A.getTextDimensions=function(d,h){n.call(this);var g=(h=h||{}).fontSize||this.getFontSize(),b=h.font||this.getFont(),x=h.scaleFactor||this.internal.scaleFactor,w=0,S=0,E=0,U=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var _=h.maxWidth;_>0?typeof d=="string"?d=this.splitTextToSize(d,_):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce((function(L,W){return L.concat(U.splitTextToSize(W,_))}),[])):d=Array.isArray(d)?d:[d];for(var Q=0;Q<d.length;Q++)w<(E=this.getStringUnitWidth(d[Q],{font:b})*g)&&(w=E);return w!==0&&(S=d.length),{w:w/=x,h:Math.max((S*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/x,0)}},A.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=A.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=b.top,w&&x&&(this.printHeaderRow(d.lineNumber,!0),d.y+=x[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-g,d.y+g,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+g,{align:"center",baseline:"top",maxWidth:d.width-g-g}):this.text(d.text,d.x+g,d.y+g,{align:"left",baseline:"top",maxWidth:d.width-g-g})),this.internal.__cell__.lastCell=d,this};A.table=function(d,h,g,b,x){if(n.call(this),!g)throw new Error("No data for PDF table.");var w,S,E,U,_=[],Q=[],L=[],W={},X={},re=[],J=[],V=(x=x||{}).autoSize||!1,ae=x.printHeaders!==!1,me=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,D=x.margins||Object.assign({width:this.getPageWidth()},e),O=typeof x.padding=="number"?x.padding:3,Y=x.headerBackgroundColor||"#c8c8c8",Ae=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=ae,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=me,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=Ae,this.setFontSize(me),b==null)Q=_=Object.keys(g[0]),L=_.map((function(){return"left"}));else if(Array.isArray(b)&&WA(b[0])==="object")for(_=b.map((function(te){return te.name})),Q=b.map((function(te){return te.prompt||te.name||""})),L=b.map((function(te){return te.align||"left"})),w=0;w<b.length;w+=1)X[b[w].name]=b[w].width*(19.049976/25.4);else Array.isArray(b)&&typeof b[0]=="string"&&(Q=_=b,L=_.map((function(){return"left"})));if(V||Array.isArray(b)&&typeof b[0]=="string")for(w=0;w<_.length;w+=1){for(W[U=_[w]]=g.map((function(te){return te[U]})),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(Q[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=W[U],this.setFont(void 0,"normal"),E=0;E<S.length;E+=1)re.push(this.getTextDimensions(S[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[U]=Math.max.apply(null,re)+O+O,re=[]}if(ae){var Ce={};for(w=0;w<_.length;w+=1)Ce[_[w]]={},Ce[_[w]].text=Q[w],Ce[_[w]].align=L[w];var ee=f.call(this,Ce,X);J=_.map((function(te){return new i(d,h,X[te],ee,Ce[te].text,void 0,Ce[te].align)})),this.setTableHeaderRow(J),this.printHeaderRow(1,!1)}var ce=b.reduce((function(te,H){return te[H.name]=H.align,te}),{});for(w=0;w<g.length;w+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:w,data:g[w]},this);var le=f.call(this,g[w],X);for(E=0;E<_.length;E+=1){var Ne=g[w][_[E]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:w,col:E,data:Ne},this),l.call(this,new i(d,h,X[_[E]],le,Ne,w+2,ce[_[E]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var f=function(d,h){var g=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(d).map((function(w){var S=d[w];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[w]-g-g)}),this).map((function(w){return this.getLineHeightFactor()*w.length*b/x+g+g}),this).reduce((function(w,S){return Math.max(w,S)}),0)};A.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},A.printHeaderRow=function(d,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){g=this.internal.__cell__.tableHeaderRow[w].clone(),h&&(g.y=this.internal.__cell__.margins.top||0,x.push(g)),g.lineNumber=d;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,g),this.setTextColor(S)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(Jt.API);var EB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},SB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],s1=CB(SB),_B=[100,200,300,400,500,600,700,800,900],Q6=CB(_B);function a1(A){var e=A.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return EB[i=i||"normal"]?i:"normal"})(A.style),n=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(A.weight),a=(function(i){return typeof s1[i=i||"normal"]=="number"?i:"normal"})(A.stretch);return{family:e,style:t,weight:n,stretch:a,src:A.src||[],ref:A.ref||{name:e,style:[a,t,n].join(" ")}}}function Xb(A,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(A[e[a]])return A[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(A[e[a]])return A[e[a]]}var F6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Zb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ey(A){return[A.stretch,A.style,A.weight,A.family].join(" ")}function j6(A,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",a=Object.assign({},F6,t.genericFontFamilies||{}),i=null,l=null,f=0;f<e.length;++f)if(a[(i=a1(e[f])).family]&&(i.family=a[i.family]),A.hasOwnProperty(i.family)){l=A[i.family];break}if(!(l=l||A[n]))throw new Error("Could not find a font-family for the rule '"+ey(i)+"' and default family '"+n+"'.");if(l=(function(d,h){if(h[d])return h[d];var g=s1[d],b=g<=s1.normal?-1:1,x=Xb(h,SB,g,b);if(!x)throw new Error("Could not find a matching font-stretch value for "+d);return x})(i.stretch,l),l=(function(d,h){if(h[d])return h[d];for(var g=EB[d],b=0;b<g.length;++b)if(h[g[b]])return h[g[b]];throw new Error("Could not find a matching font-style for "+d)})(i.style,l),!(l=(function(d,h){if(h[d])return h[d];if(d===400&&h[500])return h[500];if(d===500&&h[400])return h[400];var g=Q6[d],b=Xb(h,_B,g,d<400?-1:1);if(!b)throw new Error("Could not find a matching font-weight for value "+d);return b})(i.weight,l)))throw new Error("Failed to resolve a font for the rule '"+ey(i)+"'.");return l}function ty(A){return A.trimLeft()}function L6(A,e){for(var t=0;t<A.length;){if(A.charAt(t)===e)return[A.substring(0,t),A.substring(t+1)];t+=1}return null}function I6(A){var e=A.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],A.substring(e[0].length)]}var kh,Ay,ry,sm=["times"];(function(A){var e,t,n,a,i,l,f,d,h,g=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new d,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new l,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new l,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};A.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,f=this.internal.Rectangle,d=this.internal.Matrix,h=new g}]);var b=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var k=N;Object.defineProperty(this,"pdf",{get:function(){return k}});var P=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return P},set:function(Te){P=!!Te}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(Te){G=!!Te}});var z=0;Object.defineProperty(this,"posX",{get:function(){return z},set:function(Te){isNaN(Te)||(z=Te)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(Te){isNaN(Te)||(ie=Te)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Te){var se;typeof Te=="number"?se=[Te,Te,Te,Te]:((se=new Array(4))[0]=Te[0],se[1]=Te.length>=2?Te[1]:se[0],se[2]=Te.length>=3?Te[2]:se[0],se[3]=Te.length>=4?Te[3]:se[1]),h.margin=se}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Te){he=Te}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(Te){ue=Te}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(Te){Be=Te}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Te){Te instanceof g&&(h=Te)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Te){h.path=Te}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(Te){Qe=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var se;se=x(Te),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var se=x(Te);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var Pe=null;function ot(Te,se){if(Pe===null){var Qt=(function(st){var Je=[];return Object.keys(st).forEach((function(fe){st[fe].forEach((function(He){var Ge=null;switch(He){case"bold":Ge={family:fe,weight:"bold"};break;case"italic":Ge={family:fe,style:"italic"};break;case"bolditalic":Ge={family:fe,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:fe}}Ge!==null&&(Ge.ref={name:fe,style:He},Je.push(Ge))}))})),Je})(Te.getFontList());Pe=(function(st){for(var Je={},fe=0;fe<st.length;++fe){var He=a1(st[fe]),Ge=He.family,at=He.stretch,ct=He.style,It=He.weight;Je[Ge]=Je[Ge]||{},Je[Ge][at]=Je[Ge][at]||{},Je[Ge][at][ct]=Je[Ge][at][ct]||{},Je[Ge][at][ct][It]=He}return Je})(Qt.concat(se))}return Pe}var ut=null;Object.defineProperty(this,"fontFaces",{get:function(){return ut},set:function(Te){Pe=null,ut=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var se;if(this.ctx.font=Te,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var Qt=se[1],st=(se[2],se[3]),Je=se[4],fe=(se[5],se[6]),He=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(He==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:He==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var Ge=(function(Ct){var zt,ze,be=[],Me=Ct.trim();if(Me==="")return sm;if(Me in Zb)return[Zb[Me]];for(;Me!=="";){switch(ze=null,zt=(Me=ty(Me)).charAt(0)){case'"':case"'":ze=L6(Me.substring(1),zt);break;default:ze=I6(Me)}if(ze===null||(be.push(ze[0]),(Me=ty(ze[1]))!==""&&Me.charAt(0)!==","))return sm;Me=Me.replace(/^,/,"")}return be})(fe);if(this.fontFaces){var at=j6(ot(this.pdf,this.fontFaces),Ge.map((function(Ct){return{family:Ct,stretch:"normal",weight:st,style:Qt}})));this.pdf.setFont(at.ref.name,at.ref.style)}else{var ct="";(st==="bold"||parseInt(st,10)>=700||Qt==="bold")&&(ct="bold"),Qt==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var It="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<Ge.length;Pt++){if(this.pdf.internal.getFont(Ge[Pt],ct,{noFallback:!0,disableWarning:!0})!==void 0){It=Ge[Pt];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(Ge[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)It=Ge[Pt],ct="bold";else if(this.pdf.internal.getFont(Ge[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){It=Ge[Pt],ct="normal";break}}if(It===""){for(var ht=0;ht<Ge.length;ht++)if(St[Ge[ht]]){It=St[Ge[ht]];break}}It=It===""?"Times":It,this.pdf.setFont(It,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};b.prototype.setLineDash=function(N){this.lineDash=N},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){W.call(this,"fill",!1)},b.prototype.stroke=function(){W.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(N,k){if(isNaN(N)||isNaN(k))throw lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var P=this.ctx.transform.applyToPoint(new l(N,k));this.path.push({type:"mt",x:P.x,y:P.y}),this.ctx.lastPoint=new l(N,k)},b.prototype.closePath=function(){var N=new l(0,0),k=0;for(k=this.path.length-1;k!==-1;k--)if(this.path[k].type==="begin"&&WA(this.path[k+1])==="object"&&typeof this.path[k+1].x=="number"){N=new l(this.path[k+1].x,this.path[k+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(N.x,N.y)},b.prototype.lineTo=function(N,k){if(isNaN(N)||isNaN(k))throw lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var P=this.ctx.transform.applyToPoint(new l(N,k));this.path.push({type:"lt",x:P.x,y:P.y}),this.ctx.lastPoint=new l(P.x,P.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},b.prototype.quadraticCurveTo=function(N,k,P,G){if(isNaN(P)||isNaN(G)||isNaN(N)||isNaN(k))throw lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var z=this.ctx.transform.applyToPoint(new l(P,G)),ie=this.ctx.transform.applyToPoint(new l(N,k));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:z.x,y:z.y}),this.ctx.lastPoint=new l(z.x,z.y)},b.prototype.bezierCurveTo=function(N,k,P,G,z,ie){if(isNaN(z)||isNaN(ie)||isNaN(N)||isNaN(k)||isNaN(P)||isNaN(G))throw lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new l(z,ie)),ue=this.ctx.transform.applyToPoint(new l(N,k)),Be=this.ctx.transform.applyToPoint(new l(P,G));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:Be.x,y2:Be.y,x:he.x,y:he.y}),this.ctx.lastPoint=new l(he.x,he.y)},b.prototype.arc=function(N,k,P,G,z,ie){if(isNaN(N)||isNaN(k)||isNaN(P)||isNaN(G)||isNaN(z))throw lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new l(N,k));N=he.x,k=he.y;var ue=this.ctx.transform.applyToPoint(new l(0,P)),Be=this.ctx.transform.applyToPoint(new l(0,0));P=Math.sqrt(Math.pow(ue.x-Be.x,2)+Math.pow(ue.y-Be.y,2))}Math.abs(z-G)>=2*Math.PI&&(G=0,z=2*Math.PI),this.path.push({type:"arc",x:N,y:k,radius:P,startAngle:G,endAngle:z,counterclockwise:ie})},b.prototype.arcTo=function(N,k,P,G,z){throw new Error("arcTo not implemented.")},b.prototype.rect=function(N,k,P,G){if(isNaN(N)||isNaN(k)||isNaN(P)||isNaN(G))throw lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,k),this.lineTo(N+P,k),this.lineTo(N+P,k+G),this.lineTo(N,k+G),this.lineTo(N,k),this.lineTo(N+P,k),this.lineTo(N,k)},b.prototype.fillRect=function(N,k,P,G){if(isNaN(N)||isNaN(k)||isNaN(P)||isNaN(G))throw lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var z={};this.lineCap!=="butt"&&(z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,k,P,G),this.fill(),z.hasOwnProperty("lineCap")&&(this.lineCap=z.lineCap),z.hasOwnProperty("lineJoin")&&(this.lineJoin=z.lineJoin)}},b.prototype.strokeRect=function(N,k,P,G){if(isNaN(N)||isNaN(k)||isNaN(P)||isNaN(G))throw lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(N,k,P,G),this.stroke())},b.prototype.clearRect=function(N,k,P,G){if(isNaN(N)||isNaN(k)||isNaN(P)||isNaN(G))throw lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,k,P,G))},b.prototype.save=function(N){N=typeof N!="boolean"||N;for(var k=this.pdf.internal.getCurrentPageInfo().pageNumber,P=0;P<this.pdf.internal.getNumberOfPages();P++)this.pdf.setPage(P+1),this.pdf.internal.out("q");if(this.pdf.setPage(k),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},b.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var k=this.pdf.internal.getCurrentPageInfo().pageNumber,P=0;P<this.pdf.internal.getNumberOfPages();P++)this.pdf.setPage(P+1),this.pdf.internal.out("Q");this.pdf.setPage(k),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(N){var k,P,G,z;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))k=0,P=0,G=0,z=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(ie!==null)k=parseInt(ie[1]),P=parseInt(ie[2]),G=parseInt(ie[3]),z=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)k=parseInt(ie[1]),P=parseInt(ie[2]),G=parseInt(ie[3]),z=parseFloat(ie[4]);else{if(z=1,typeof N=="string"&&N.charAt(0)!=="#"){var he=new wB(N);N=he.ok?he.toHex():"#000000"}N.length===4?(k=N.substring(1,2),k+=k,P=N.substring(2,3),P+=P,G=N.substring(3,4),G+=G):(k=N.substring(1,3),P=N.substring(3,5),G=N.substring(5,7)),k=parseInt(k,16),P=parseInt(P,16),G=parseInt(G,16)}}return{r:k,g:P,b:G,a:z,style:N}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(N,k,P,G){if(isNaN(k)||isNaN(P)||typeof N!="string")throw lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!w.call(this)){var z=le(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;O.call(this,{text:N,x:k,y:P,scale:ie,angle:z,align:this.textAlign,maxWidth:G})}},b.prototype.strokeText=function(N,k,P,G){if(isNaN(k)||isNaN(P)||typeof N!="string")throw lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){G=isNaN(G)?void 0:G;var z=le(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;O.call(this,{text:N,x:k,y:P,scale:ie,renderingMode:"stroke",angle:z,align:this.textAlign,maxWidth:G})}},b.prototype.measureText=function(N){if(typeof N!="string")throw lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var k=this.pdf,P=this.pdf.internal.scaleFactor,G=k.internal.getFontSize(),z=k.getStringUnitWidth(N)*G/k.internal.scaleFactor,ie=function(he){var ue=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new ie({width:z*=Math.round(96*P/72*1e4)/1e4})},b.prototype.scale=function(N,k){if(isNaN(N)||isNaN(k))throw lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var P=new d(N,0,0,k,0,0);this.ctx.transform=this.ctx.transform.multiply(P)},b.prototype.rotate=function(N){if(isNaN(N))throw lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var k=new d(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(k)},b.prototype.translate=function(N,k){if(isNaN(N)||isNaN(k))throw lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var P=new d(1,0,0,1,N,k);this.ctx.transform=this.ctx.transform.multiply(P)},b.prototype.transform=function(N,k,P,G,z,ie){if(isNaN(N)||isNaN(k)||isNaN(P)||isNaN(G)||isNaN(z)||isNaN(ie))throw lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new d(N,k,P,G,z,ie);this.ctx.transform=this.ctx.transform.multiply(he)},b.prototype.setTransform=function(N,k,P,G,z,ie){N=isNaN(N)?1:N,k=isNaN(k)?0:k,P=isNaN(P)?0:P,G=isNaN(G)?1:G,z=isNaN(z)?0:z,ie=isNaN(ie)?0:ie,this.ctx.transform=new d(N,k,P,G,z,ie)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(N,k,P,G,z,ie,he,ue,Be){var Qe=this.pdf.getImageProperties(N),Pe=1,ot=1,ut=1,Te=1;G!==void 0&&ue!==void 0&&(ut=ue/G,Te=Be/z,Pe=Qe.width/G*ue/G,ot=Qe.height/z*Be/z),ie===void 0&&(ie=k,he=P,k=0,P=0),G!==void 0&&ue===void 0&&(ue=G,Be=z),G===void 0&&ue===void 0&&(ue=Qe.width,Be=Qe.height);for(var se,Qt=this.ctx.transform.decompose(),st=le(Qt.rotate.shx),Je=new d,fe=(Je=(Je=(Je=Je.multiply(Qt.translate)).multiply(Qt.skew)).multiply(Qt.scale)).applyToRectangle(new f(ie-k*ut,he-P*Te,G*Pe,z*ot)),He=U.call(this,fe),Ge=[],at=0;at<He.length;at+=1)Ge.indexOf(He[at])===-1&&Ge.push(He[at]);if(L(Ge),this.autoPaging)for(var ct=Ge[0],It=Ge[Ge.length-1],St=ct;St<It+1;St++){this.pdf.setPage(St);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=St===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=St===1?0:Ct+(St-2)*zt;if(this.ctx.clip_path.length!==0){var be=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(se,this.posX+this.margin[3],-ze+ht+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=be}var Me=JSON.parse(JSON.stringify(fe));Me=Q([Me],this.posX+this.margin[3],-ze+ht+this.ctx.prevPageLastElemOffset)[0];var dt=(St>ct||St<It)&&E.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,zt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,st),dt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",fe.x,fe.y,fe.w,fe.h,null,null,st)};var U=function(N,k,P){var G=[];k=k||this.pdf.internal.pageSize.width,P=P||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var z=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":G.push(Math.floor((N.y+z)/P)+1);break;case"arc":G.push(Math.floor((N.y+z-N.radius)/P)+1),G.push(Math.floor((N.y+z+N.radius)/P)+1);break;case"qct":var ie=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);G.push(Math.floor((ie.y+z)/P)+1),G.push(Math.floor((ie.y+ie.h+z)/P)+1);break;case"bct":var he=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);G.push(Math.floor((he.y+z)/P)+1),G.push(Math.floor((he.y+he.h+z)/P)+1);break;case"rect":G.push(Math.floor((N.y+z)/P)+1),G.push(Math.floor((N.y+N.h+z)/P)+1)}for(var ue=0;ue<G.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<G[ue];)_.call(this);return G},_=function(){var N=this.fillStyle,k=this.strokeStyle,P=this.font,G=this.lineCap,z=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=k,this.font=P,this.lineCap=G,this.lineWidth=z,this.lineJoin=ie},Q=function(N,k,P){for(var G=0;G<N.length;G++)switch(N[G].type){case"bct":N[G].x2+=k,N[G].y2+=P;case"qct":N[G].x1+=k,N[G].y1+=P;case"mt":case"lt":case"arc":default:N[G].x+=k,N[G].y+=P}return N},L=function(N){return N.sort((function(k,P){return k-P}))},W=function(N,k){for(var P,G,z=this.fillStyle,ie=this.strokeStyle,he=this.lineCap,ue=this.lineWidth,Be=Math.abs(ue*this.ctx.transform.scaleX),Qe=this.lineJoin,Pe=JSON.parse(JSON.stringify(this.path)),ot=JSON.parse(JSON.stringify(this.path)),ut=[],Te=0;Te<ot.length;Te++)if(ot[Te].x!==void 0)for(var se=U.call(this,ot[Te]),Qt=0;Qt<se.length;Qt+=1)ut.indexOf(se[Qt])===-1&&ut.push(se[Qt]);for(var st=0;st<ut.length;st++)for(;this.pdf.internal.getNumberOfPages()<ut[st];)_.call(this);if(L(ut),this.autoPaging)for(var Je=ut[0],fe=ut[ut.length-1],He=Je;He<fe+1;He++){this.pdf.setPage(He),this.fillStyle=z,this.strokeStyle=ie,this.lineCap=he,this.lineWidth=Be,this.lineJoin=Qe;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=He===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=He===1?0:ct+(He-2)*It;if(this.ctx.clip_path.length!==0){var Pt=this.path;P=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(P,this.posX+this.margin[3],-St+at+this.ctx.prevPageLastElemOffset),X.call(this,N,!0),this.path=Pt}if(G=JSON.parse(JSON.stringify(Pe)),this.path=Q(G,this.posX+this.margin[3],-St+at+this.ctx.prevPageLastElemOffset),k===!1||He===0){var ht=(He>Je||He<fe)&&E.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,It,null).clip().discardPath()),X.call(this,N,k),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=Be,X.call(this,N,k),this.lineWidth=ue;this.path=Pe},X=function(N,k){if((N!=="stroke"||k||!S.call(this))&&(N==="stroke"||k||!w.call(this))){for(var P,G,z=[],ie=this.path,he=0;he<ie.length;he++){var ue=ie[he];switch(ue.type){case"begin":z.push({begin:!0});break;case"close":z.push({close:!0});break;case"mt":z.push({start:ue,deltas:[],abs:[]});break;case"lt":var Be=z.length;if(ie[he-1]&&!isNaN(ie[he-1].x)&&(P=[ue.x-ie[he-1].x,ue.y-ie[he-1].y],Be>0)){for(;Be>=0;Be--)if(z[Be-1].close!==!0&&z[Be-1].begin!==!0){z[Be-1].deltas.push(P),z[Be-1].abs.push(ue);break}}break;case"bct":P=[ue.x1-ie[he-1].x,ue.y1-ie[he-1].y,ue.x2-ie[he-1].x,ue.y2-ie[he-1].y,ue.x-ie[he-1].x,ue.y-ie[he-1].y],z[z.length-1].deltas.push(P);break;case"qct":var Qe=ie[he-1].x+2/3*(ue.x1-ie[he-1].x),Pe=ie[he-1].y+2/3*(ue.y1-ie[he-1].y),ot=ue.x+2/3*(ue.x1-ue.x),ut=ue.y+2/3*(ue.y1-ue.y),Te=ue.x,se=ue.y;P=[Qe-ie[he-1].x,Pe-ie[he-1].y,ot-ie[he-1].x,ut-ie[he-1].y,Te-ie[he-1].x,se-ie[he-1].y],z[z.length-1].deltas.push(P);break;case"arc":z.push({deltas:[],abs:[],arc:!0}),Array.isArray(z[z.length-1].abs)&&z[z.length-1].abs.push(ue)}}G=k?null:N==="stroke"?"stroke":"fill";for(var Qt=!1,st=0;st<z.length;st++)if(z[st].arc)for(var Je=z[st].abs,fe=0;fe<Je.length;fe++){var He=Je[fe];He.type==="arc"?V.call(this,He.x,He.y,He.radius,He.startAngle,He.endAngle,He.counterclockwise,void 0,k,!Qt):Y.call(this,He.x,He.y),Qt=!0}else if(z[st].close===!0)this.pdf.internal.out("h"),Qt=!1;else if(z[st].begin!==!0){var Ge=z[st].start.x,at=z[st].start.y;Ae.call(this,z[st].deltas,Ge,at),Qt=!0}G&&ae.call(this,G),k&&me.call(this)}},re=function(N){var k=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,P=k*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-P;case"top":return N+k-P;case"hanging":return N+k-2*P;case"middle":return N+k/2-P;case"ideographic":return N;case"alphabetic":default:return N}},J=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(k,P){this.colorStops.push([k,P])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(N,k,P,G,z,ie,he,ue,Be){for(var Qe=ee.call(this,P,G,z,ie),Pe=0;Pe<Qe.length;Pe++){var ot=Qe[Pe];Pe===0&&(Be?D.call(this,ot.x1+N,ot.y1+k):Y.call(this,ot.x1+N,ot.y1+k)),Ce.call(this,N,k,ot.x2,ot.y2,ot.x3,ot.y3,ot.x4,ot.y4)}ue?me.call(this):ae.call(this,he)},ae=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},me=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(N,k){this.pdf.internal.out(t(N)+" "+n(k)+" m")},O=function(N){var k;switch(N.align){case"right":case"end":k="right";break;case"center":k="center";break;case"left":case"start":default:k="left"}var P=this.pdf.getTextDimensions(N.text),G=re.call(this,N.y),z=J.call(this,G)-P.h,ie=this.ctx.transform.applyToPoint(new l(N.x,G)),he=this.ctx.transform.decompose(),ue=new d;ue=(ue=(ue=ue.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Be,Qe,Pe,ot=this.ctx.transform.applyToRectangle(new f(N.x,G,P.w,P.h)),ut=ue.applyToRectangle(new f(N.x,z,P.w,P.h)),Te=U.call(this,ut),se=[],Qt=0;Qt<Te.length;Qt+=1)se.indexOf(Te[Qt])===-1&&se.push(Te[Qt]);if(L(se),this.autoPaging)for(var st=se[0],Je=se[se.length-1],fe=st;fe<Je+1;fe++){this.pdf.setPage(fe);var He=fe===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],ct=at-this.margin[0],It=this.pdf.internal.pageSize.width-this.margin[1],St=It-this.margin[3],Pt=fe===1?0:Ge+(fe-2)*ct;if(this.ctx.clip_path.length!==0){var ht=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(Be,this.posX+this.margin[3],-1*Pt+He),X.call(this,"fill",!0),this.path=ht}var Ct=Q([JSON.parse(JSON.stringify(ut))],this.posX+this.margin[3],-Pt+He+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*N.scale),Pe=this.lineWidth,this.lineWidth=Pe*N.scale);var zt=this.autoPaging!=="text";if(zt||Ct.y+Ct.h<=at){if(zt||Ct.y>=He&&Ct.x<=It){var ze=zt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||It-Ct.x)[0],be=Q([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Pt+He+this.ctx.prevPageLastElemOffset)[0],Me=zt&&(fe>st||fe<Je)&&E.call(this);Me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,ct,null).clip().discardPath()),this.pdf.text(ze,be.x,be.y,{angle:N.angle,align:k,renderingMode:N.renderingMode}),Me&&this.pdf.restoreGraphicsState()}}else Ct.y<at&&(this.ctx.prevPageLastElemOffset+=at-Ct.y);N.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=Pe)}else N.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*N.scale),Pe=this.lineWidth,this.lineWidth=Pe*N.scale),this.pdf.text(N.text,ie.x+this.posX,ie.y+this.posY,{angle:N.angle,align:k,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=Pe)},Y=function(N,k,P,G){P=P||0,G=G||0,this.pdf.internal.out(t(N+P)+" "+n(k+G)+" l")},Ae=function(N,k,P){return this.pdf.lines(N,k,P,null,null)},Ce=function(N,k,P,G,z,ie,he,ue){this.pdf.internal.out([e(a(P+N)),e(i(G+k)),e(a(z+N)),e(i(ie+k)),e(a(he+N)),e(i(ue+k)),"c"].join(" "))},ee=function(N,k,P,G){for(var z=2*Math.PI,ie=Math.PI/2;k>P;)k-=z;var he=Math.abs(P-k);he<z&&G&&(he=z-he);for(var ue=[],Be=G?-1:1,Qe=k;he>1e-5;){var Pe=Qe+Be*Math.min(he,ie);ue.push(ce.call(this,N,Qe,Pe)),he-=Math.abs(Pe-Qe),Qe=Pe}return ue},ce=function(N,k,P){var G=(P-k)/2,z=N*Math.cos(G),ie=N*Math.sin(G),he=z,ue=-ie,Be=he*he+ue*ue,Qe=Be+he*z+ue*ie,Pe=4/3*(Math.sqrt(2*Be*Qe)-Qe)/(he*ie-ue*z),ot=he-Pe*ue,ut=ue+Pe*he,Te=ot,se=-ut,Qt=G+k,st=Math.cos(Qt),Je=Math.sin(Qt);return{x1:N*Math.cos(k),y1:N*Math.sin(k),x2:ot*st-ut*Je,y2:ot*Je+ut*st,x3:Te*st-se*Je,y3:Te*Je+se*st,x4:N*Math.cos(P),y4:N*Math.sin(P)}},le=function(N){return 180*N/Math.PI},Ne=function(N,k,P,G,z,ie){var he=N+.5*(P-N),ue=k+.5*(G-k),Be=z+.5*(P-z),Qe=ie+.5*(G-ie),Pe=Math.min(N,z,he,Be),ot=Math.max(N,z,he,Be),ut=Math.min(k,ie,ue,Qe),Te=Math.max(k,ie,ue,Qe);return new f(Pe,ut,ot-Pe,Te-ut)},te=function(N,k,P,G,z,ie,he,ue){var Be,Qe,Pe,ot,ut,Te,se,Qt,st,Je,fe,He,Ge,at,ct=P-N,It=G-k,St=z-P,Pt=ie-G,ht=he-z,Ct=ue-ie;for(Qe=0;Qe<41;Qe++)st=(se=(Pe=N+(Be=Qe/40)*ct)+Be*((ut=P+Be*St)-Pe))+Be*(ut+Be*(z+Be*ht-ut)-se),Je=(Qt=(ot=k+Be*It)+Be*((Te=G+Be*Pt)-ot))+Be*(Te+Be*(ie+Be*Ct-Te)-Qt),Qe==0?(fe=st,He=Je,Ge=st,at=Je):(fe=Math.min(fe,st),He=Math.min(He,Je),Ge=Math.max(Ge,st),at=Math.max(at,Je));return new f(Math.round(fe),Math.round(He),Math.round(Ge-fe),Math.round(at-He))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,k,P=(N=this.ctx.lineDash,k=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:k}));this.prevLineDash!==P&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=P)}}})(Jt.API),(function(A){var e=function(i){var l,f,d,h,g,b,x,w,S,E;for(f=[],d=0,h=(i+=l="\0\0\0\0".slice(i.length%4||4)).length;h>d;d+=4)(g=(i.charCodeAt(d)<<24)+(i.charCodeAt(d+1)<<16)+(i.charCodeAt(d+2)<<8)+i.charCodeAt(d+3))!==0?(b=(g=((g=((g=((g=(g-(E=g%85))/85)-(S=g%85))/85)-(w=g%85))/85)-(x=g%85))/85)%85,f.push(b+33,x+33,w+33,S+33,E+33)):f.push(122);return(function(U,_){for(var Q=_;Q>0;Q--)U.pop()})(f,l.length),String.fromCharCode.apply(String,f)+"~>"},t=function(i){var l,f,d,h,g,b=String,x="length",w=255,S="charCodeAt",E="slice",U="replace";for(i[E](-2),i=i[E](0,-2)[U](/\s/g,"")[U]("z","!!!!!"),d=[],h=0,g=(i+=l="uuuuu"[E](i[x]%5||5))[x];g>h;h+=5)f=52200625*(i[S](h)-33)+614125*(i[S](h+1)-33)+7225*(i[S](h+2)-33)+85*(i[S](h+3)-33)+(i[S](h+4)-33),d.push(w&f>>24,w&f>>16,w&f>>8,w&f);return(function(_,Q){for(var L=Q;L>0;L--)_.pop()})(d,l[x]),b.fromCharCode.apply(b,d)},n=function(i){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),l.test(i)===!1)return"";for(var f="",d=0;d<i.length;d+=2)f+=String.fromCharCode("0x"+(i[d]+i[d+1]));return f},a=function(i){for(var l=new Uint8Array(i.length),f=i.length;f--;)l[f]=i.charCodeAt(f);return i=(l=e1(l)).reduce((function(d,h){return d+String.fromCharCode(h)}),"")};A.processDataByFilters=function(i,l){var f=0,d=i||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),f=0;f<l.length;f+=1)switch(l[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map((function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)})).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[f]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}})(Jt.API),(function(A){A.loadFile=function(e,t,n){return(function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var f=void 0;try{f=(function(d,h,g){var b=new XMLHttpRequest,x=0,w=function(S){var E=S.length,U=[],_=String.fromCharCode;for(x=0;x<E;x+=1)U.push(_(255&S.charCodeAt(x)));return U.join("")};if(b.open("GET",d,!h),b.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(b.onload=function(){b.status===200?g(w(this.responseText)):g(void 0)}),b.send(null),h&&b.status===200)return w(b.responseText)})(a,i,l)}catch{}return f})(e,t,n)},A.loadImageFile=A.loadFile})(Jt.API),(function(A){function e(){return(rA.html2canvas?Promise.resolve(rA.html2canvas):$m(()=>Promise.resolve().then(()=>ZF),[])).catch((function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))})).then((function(l){return l.default?l.default:l}))}function t(){return(rA.DOMPurify?Promise.resolve(rA.DOMPurify):$m(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(l){return Promise.reject(new Error("Could not load dompurify: "+l))})).then((function(l){return l.default?l.default:l}))}var n=function(l){var f=WA(l);return f==="undefined"?"undefined":f==="string"||l instanceof String?"string":f==="number"||l instanceof Number?"number":f==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(l,f){var d=document.createElement(l);for(var h in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[h]=f.style[h];return d},i=function l(f){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),d);return h=(h=h.setProgress(1,l,1,[l])).set(f)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(l,f){return l.__proto__=f||i.prototype,l},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(l,f){return this.then((function(){switch(f=f||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l)){case"string":return this.then(t).then((function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})}));case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=(function d(h,g){for(var b=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),x=h.firstChild;x;x=x.nextSibling)g!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||b.appendChild(d(x,g));return h.nodeType===1&&(h.nodeName==="CANVAS"?(b.width=h.width,b.height=h.height,b.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(b.value=h.value),b.addEventListener("load",(function(){b.scrollTop=h.scrollTop,b.scrollLeft=h.scrollLeft}),!0)),b})(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then((function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)})).then((function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then((function(f){var d=this.opt.jsPDF,h=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var w=h[x],S=w.src.find((function(E){return E.format==="truetype"}));S&&d.addFont(S.url,w.ref.name,w.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,d.context2d.save(!0),f(this.prop.container,b)})).then((function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(l,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,f):this.outputPdf(l,f)},i.prototype.outputPdf=function(l,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(l,f)}))},i.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}}))},i.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(l){if(n(l)!=="object")return this;var f=Object.keys(l||{}).map((function(d){if(d in i.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}}),this);return this.then((function(){return this.thenList(f)}))},i.prototype.get=function(l,f){return this.then((function(){var d=l in i.template.prop?this.prop[l]:this.opt[l];return f?f(d):d}))},i.prototype.setMargin=function(l){return this.then((function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l})).then(this.setPageSize)},i.prototype.setPageSize=function(l){function f(d,h){return Math.floor(d*h/72*96)}return this.then((function(){(l=l||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:f(l.inner.width,l.k),height:f(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l}))},i.prototype.setProgress=function(l,f,d,h){return l!=null&&(this.progress.val=l),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(l,f,d,h){return this.setProgress(l?this.progress.val+l:null,f||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},i.prototype.then=function(l,f){var d=this;return this.thenCore(l,f,(function(h,g){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,(function(b){return d.updateProgress(null,h),b})).then(h,g).then((function(b){return d.updateProgress(1),b}))}))},i.prototype.thenCore=function(l,f,d){d=d||Promise.prototype.then,l&&(l=l.bind(this)),f&&(f=f.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),g=d.call(h,l,f);return i.convert(g,this.__proto__)},i.prototype.thenExternal=function(l,f){return Promise.prototype.then.call(this,l,f)},i.prototype.thenList=function(l){var f=this;return l.forEach((function(d){f=f.thenCore(d)})),f},i.prototype.catch=function(l){l&&(l=l.bind(this));var f=Promise.prototype.catch.call(this,l);return i.convert(f,this)},i.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},i.prototype.error=function(l){return this.then((function(){throw new Error(l)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Jt.getPageSize=function(l,f,d){if(WA(l)==="object"){var h=l;l=h.orientation,f=h.unit||f,d=h.format||d}f=f||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var g,b=(""+d).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+f}var w,S=0,E=0;if(x.hasOwnProperty(b))S=x[b][1]/g,E=x[b][0]/g;else try{S=d[1],E=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",E>S&&(w=E,E=S,S=w);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",S>E&&(w=E,E=S,S=w)}return{width:E,height:S,unit:f,k:g,orientation:l}},A.html=function(l,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(a1):null;var d=new i(f);return f.worker?d:d.from(l).doCallback()}})(Jt.API),Jt.API.addJS=function(A){return ry=A,this.internal.events.subscribe("postPutResources",(function(){kh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ay=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ry+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){kh!==void 0&&Ay!==void 0&&this.internal.out("/Names <</JavaScript "+kh+" 0 R>>")})),this},(function(A){var e;A.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],f=n.exec(l);if(f!=null){var d=f[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,g=[];for(i=0;i<h;i++){var b=t.internal.newObject();g.push(b);var x=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<g.length;i++)t.internal.write("(page_"+(i+1)+")"+g[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),A.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),A.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var f=this.count=this.count_r({count:0},l);if(f>0&&this.line("/Count "+f),l.options&&l.options.pageNumber){var d=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(Jt.API),(function(A){var e=[192,193,194,195,196,197,198,199];A.processJPEG=function(t,n,a,i,l,f){var d,h=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(d=(function(b){for(var x,w=256*b.charCodeAt(4)+b.charCodeAt(5),S=b.length,E={width:0,height:0,numcomponents:1},U=4;U<S;U+=2){if(U+=w,e.indexOf(b.charCodeAt(U+1))!==-1){x=256*b.charCodeAt(U+5)+b.charCodeAt(U+6),E={width:256*b.charCodeAt(U+7)+b.charCodeAt(U+8),height:x,numcomponents:b.charCodeAt(U+9)};break}w=256*b.charCodeAt(U+2)+b.charCodeAt(U+3)}return E})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}g={data:t,width:d.width,height:d.height,colorSpace:f,bitsPerComponent:8,filter:h,index:n,alias:a}}return g}})(Jt.API);var gu,Rh,ny,sy,ay,T6=(function(){var A,e,t;function n(i){var l,f,d,h,g,b,x,w,S,E,U,_,Q,L;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},b=null;;){switch(l=this.readUInt32(),S=(function(){var W,X;for(X=[],W=0;W<4;++W)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":b&&this.animation.frames.push(b),this.pos+=4,b={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),h=this.readUInt16()||100,b.delay=1e3*g/h,b.disposeOp=this.data[this.pos++],b.blendOp=this.data[this.pos++],b.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,l-=4),i=(b!=null?b.data:void 0)||this.imgData,_=0;0<=l?_<l:_>l;0<=l?++_:--_)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((E=d-this.transparency.indexed.length)>0)for(Q=0;0<=E?Q<E:Q>E;0<=E?++Q:--Q)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":x=(U=this.read(l)).indexOf(0),w=String.fromCharCode.apply(String,U.slice(0,x)),this.text[w]=String.fromCharCode.apply(String,U.slice(x+1));break;case"IEND":return b&&this.animation.frames.push(b),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var l,f;for(f=[],l=0;0<=i?l<i:l>i;0<=i?++l:--l)f.push(this.data[this.pos++]);return f},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var l=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*l),d=0,h=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function g(b,x,w,S){var E,U,_,Q,L,W,X,re,J,V,ae,me,D,O,Y,Ae,Ce,ee,ce,le,Ne,te=Math.ceil((h.width-b)/w),H=Math.ceil((h.height-x)/S),N=h.width==te&&h.height==H;for(O=l*te,me=N?f:new Uint8Array(O*H),W=i.length,D=0,U=0;D<H&&d<W;){switch(i[d++]){case 0:for(Q=Ce=0;Ce<O;Q=Ce+=1)me[U++]=i[d++];break;case 1:for(Q=ee=0;ee<O;Q=ee+=1)E=i[d++],L=Q<l?0:me[U-l],me[U++]=(E+L)%256;break;case 2:for(Q=ce=0;ce<O;Q=ce+=1)E=i[d++],_=(Q-Q%l)/l,Y=D&&me[(D-1)*O+_*l+Q%l],me[U++]=(Y+E)%256;break;case 3:for(Q=le=0;le<O;Q=le+=1)E=i[d++],_=(Q-Q%l)/l,L=Q<l?0:me[U-l],Y=D&&me[(D-1)*O+_*l+Q%l],me[U++]=(E+Math.floor((L+Y)/2))%256;break;case 4:for(Q=Ne=0;Ne<O;Q=Ne+=1)E=i[d++],_=(Q-Q%l)/l,L=Q<l?0:me[U-l],D===0?Y=Ae=0:(Y=me[(D-1)*O+_*l+Q%l],Ae=_&&me[(D-1)*O+(_-1)*l+Q%l]),X=L+Y-Ae,re=Math.abs(X-L),V=Math.abs(X-Y),ae=Math.abs(X-Ae),J=re<=V&&re<=ae?L:V<=ae?Y:Ae,me[U++]=(E+J)%256;break;default:throw new Error("Invalid filter algorithm: "+i[d-1])}if(!N){var k=((x+D*S)*h.width+b)*l,P=D*O;for(Q=0;Q<te;Q+=1){for(var G=0;G<l;G+=1)f[k++]=me[P++];k+=(w-1)*l}}D++}}return i=p6(i),h.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),f},n.prototype.decodePalette=function(){var i,l,f,d,h,g,b,x,w;for(f=this.palette,g=this.transparency.indexed||[],h=new Uint8Array((g.length||0)+f.length),d=0,i=0,l=b=0,x=f.length;b<x;l=b+=3)h[d++]=f[l],h[d++]=f[l+1],h[d++]=f[l+2],h[d++]=(w=g[i++])!=null?w:255;return h},n.prototype.copyToImageData=function(i,l){var f,d,h,g,b,x,w,S,E,U,_;if(d=this.colors,E=null,f=this.hasAlphaChannel,this.palette.length&&(E=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),d=4,f=!0),S=(h=i.data||i).length,b=E||l,g=x=0,d===1)for(;g<S;)w=E?4*l[g/4]:x,U=b[w++],h[g++]=U,h[g++]=U,h[g++]=U,h[g++]=f?b[w++]:255,x=w;else for(;g<S;)w=E?4*l[g/4]:x,h[g++]=b[w++],h[g++]=b[w++],h[g++]=b[w++],h[g++]=f?b[w++]:255,x=w},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(rA)==="[object Window]"){try{e=rA.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),A=function(i){var l;if(a()===!0)return t.width=i.width,t.height=i.height,t.clearRect(0,0,i.width,i.height),t.putImageData(i,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var l,f,d,h,g,b,x,w;if(this.animation){for(w=[],f=g=0,b=(x=this.animation.frames).length;g<b;f=++g)l=x[f],d=i.createImageData(l.width,l.height),h=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(d,h),l.imageData=d,w.push(l.image=A(d));return w}},n.prototype.renderFrame=function(i,l){var f,d,h;return f=(d=this.animation.frames)[l],h=d[l-1],l===0&&i.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?i.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&i.putImageData(h.imageData,h.xOffset,h.yOffset),f.blendOp===0&&i.clearRect(f.xOffset,f.yOffset,f.width,f.height),i.drawImage(f.image,f.xOffset,f.yOffset)},n.prototype.animate=function(i){var l,f,d,h,g,b,x=this;return f=0,b=this.animation,h=b.numFrames,d=b.frames,g=b.numPlays,(l=function(){var w,S;if(w=f++%h,S=d[w],x.renderFrame(i,w),h>1&&f/h<g)return x.animation._timeout=setTimeout(l,S.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var l,f;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,l=i.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(f=l.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),l.putImageData(f,0,0))},n})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function D6(A){var e=0;if(A[e++]!==71||A[e++]!==73||A[e++]!==70||A[e++]!==56||(A[e++]+1&253)!=56||A[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=A[e++]|A[e++]<<8,n=A[e++]|A[e++]<<8,a=A[e++],i=a>>7,l=1<<(7&a)+1;A[e++],A[e++];var f=null,d=null;i&&(f=e,d=l,e+=3*l);var h=!0,g=[],b=0,x=null,w=0,S=null;for(this.width=t,this.height=n;h&&e<A.length;)switch(A[e++]){case 33:switch(A[e++]){case 255:if(A[e]!==11||A[e+1]==78&&A[e+2]==69&&A[e+3]==84&&A[e+4]==83&&A[e+5]==67&&A[e+6]==65&&A[e+7]==80&&A[e+8]==69&&A[e+9]==50&&A[e+10]==46&&A[e+11]==48&&A[e+12]==3&&A[e+13]==1&&A[e+16]==0)e+=14,S=A[e++]|A[e++]<<8,e++;else for(e+=12;;){if(!((D=A[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(A[e++]!==4||A[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=A[e++];b=A[e++]|A[e++]<<8,x=A[e++],(1&E)==0&&(x=null),w=E>>2&7,e++;break;case 254:for(;;){if(!((D=A[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+A[e-1].toString(16))}break;case 44:var U=A[e++]|A[e++]<<8,_=A[e++]|A[e++]<<8,Q=A[e++]|A[e++]<<8,L=A[e++]|A[e++]<<8,W=A[e++],X=W>>6&1,re=1<<(7&W)+1,J=f,V=d,ae=!1;W>>7&&(ae=!0,J=e,V=re,e+=3*re);var me=e;for(e++;;){var D;if(!((D=A[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}g.push({x:U,y:_,width:Q,height:L,has_local_palette:ae,palette_offset:J,palette_size:V,data_offset:me,data_length:e-me,transparent_index:x,interlaced:!!X,delay:b,disposal:w});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+A[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return S},this.frameInfo=function(O){if(O<0||O>=g.length)throw new Error("Frame index out of range.");return g[O]},this.decodeAndBlitFrameBGRA=function(O,Y){var Ae=this.frameInfo(O),Ce=Ae.width*Ae.height,ee=new Uint8Array(Ce);iy(A,Ae.data_offset,ee,Ce);var ce=Ae.palette_offset,le=Ae.transparent_index;le===null&&(le=256);var Ne=Ae.width,te=t-Ne,H=Ne,N=4*(Ae.y*t+Ae.x),k=4*((Ae.y+Ae.height)*t+Ae.x),P=N,G=4*te;Ae.interlaced===!0&&(G+=4*t*7);for(var z=8,ie=0,he=ee.length;ie<he;++ie){var ue=ee[ie];if(H===0&&(H=Ne,(P+=G)>=k&&(G=4*te+4*t*(z-1),P=N+(Ne+te)*(z<<1),z>>=1)),ue===le)P+=4;else{var Be=A[ce+3*ue],Qe=A[ce+3*ue+1],Pe=A[ce+3*ue+2];Y[P++]=Pe,Y[P++]=Qe,Y[P++]=Be,Y[P++]=255}--H}},this.decodeAndBlitFrameRGBA=function(O,Y){var Ae=this.frameInfo(O),Ce=Ae.width*Ae.height,ee=new Uint8Array(Ce);iy(A,Ae.data_offset,ee,Ce);var ce=Ae.palette_offset,le=Ae.transparent_index;le===null&&(le=256);var Ne=Ae.width,te=t-Ne,H=Ne,N=4*(Ae.y*t+Ae.x),k=4*((Ae.y+Ae.height)*t+Ae.x),P=N,G=4*te;Ae.interlaced===!0&&(G+=4*t*7);for(var z=8,ie=0,he=ee.length;ie<he;++ie){var ue=ee[ie];if(H===0&&(H=Ne,(P+=G)>=k&&(G=4*te+4*t*(z-1),P=N+(Ne+te)*(z<<1),z>>=1)),ue===le)P+=4;else{var Be=A[ce+3*ue],Qe=A[ce+3*ue+1],Pe=A[ce+3*ue+2];Y[P++]=Be,Y[P++]=Qe,Y[P++]=Pe,Y[P++]=255}--H}}}function iy(A,e,t,n){for(var a=A[e++],i=1<<a,l=i+1,f=l+1,d=a+1,h=(1<<d)-1,g=0,b=0,x=0,w=A[e++],S=new Int32Array(4096),E=null;;){for(;g<16&&w!==0;)b|=A[e++]<<g,g+=8,w===1?w=A[e++]:--w;if(g<d)break;var U=b&h;if(b>>=d,g-=d,U!==i){if(U===l)break;for(var _=U<f?U:E,Q=0,L=_;L>i;)L=S[L]>>8,++Q;var W=L;if(x+Q+(_!==U?1:0)>n)return void lr.log("Warning, gif stream longer than expected.");t[x++]=W;var X=x+=Q;for(_!==U&&(t[x++]=W),L=_;Q--;)L=S[L],t[--X]=255&L,L>>=8;E!==null&&f<4096&&(S[f++]=E<<8|W,f>=h+1&&d<12&&(++d,h=h<<1|1)),E=U}else f=l+1,h=(1<<(d=a+1))-1,E=null}return x!==n&&lr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function am(A){var e,t,n,a,i,l=Math.floor,f=new Array(64),d=new Array(64),h=new Array(64),g=new Array(64),b=new Array(65535),x=new Array(65535),w=new Array(64),S=new Array(64),E=[],U=0,_=7,Q=new Array(64),L=new Array(64),W=new Array(64),X=new Array(256),re=new Array(2048),J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],me=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],Ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(N,k){for(var P=0,G=0,z=new Array,ie=1;ie<=16;ie++){for(var he=1;he<=N[ie];he++)z[k[G]]=[],z[k[G]][0]=P,z[k[G]][1]=ie,G++,P++;P*=2}return z}function ce(N){for(var k=N[0],P=N[1]-1;P>=0;)k&1<<P&&(U|=1<<_),P--,--_<0&&(U==255?(le(255),le(0)):le(U),_=7,U=0)}function le(N){E.push(N)}function Ne(N){le(N>>8&255),le(255&N)}function te(N,k,P,G,z){for(var ie,he=z[0],ue=z[240],Be=(function(Je,fe){var He,Ge,at,ct,It,St,Pt,ht,Ct,zt,ze=0;for(Ct=0;Ct<8;++Ct){He=Je[ze],Ge=Je[ze+1],at=Je[ze+2],ct=Je[ze+3],It=Je[ze+4],St=Je[ze+5],Pt=Je[ze+6];var be=He+(ht=Je[ze+7]),Me=He-ht,dt=Ge+Pt,xt=Ge-Pt,_t=at+St,FA=at-St,Xt=ct+It,qA=ct-It,uA=be+Xt,LA=be-Xt,wA=dt+_t,wt=dt-_t;Je[ze]=uA+wA,Je[ze+4]=uA-wA;var Ht=.707106781*(wt+LA);Je[ze+2]=LA+Ht,Je[ze+6]=LA-Ht;var Ee=.382683433*((uA=qA+FA)-(wt=xt+Me)),Nt=.5411961*uA+Ee,Ye=1.306562965*wt+Ee,ke=.707106781*(wA=FA+xt),Se=Me+ke,$e=Me-ke;Je[ze+5]=$e+Nt,Je[ze+3]=$e-Nt,Je[ze+1]=Se+Ye,Je[ze+7]=Se-Ye,ze+=8}for(ze=0,Ct=0;Ct<8;++Ct){He=Je[ze],Ge=Je[ze+8],at=Je[ze+16],ct=Je[ze+24],It=Je[ze+32],St=Je[ze+40],Pt=Je[ze+48];var Ot=He+(ht=Je[ze+56]),Vt=He-ht,bA=Ge+Pt,iA=Ge-Pt,Tt=at+St,EA=at-St,kr=ct+It,zA=ct-It,IA=Ot+kr,TA=Ot-kr,cr=bA+Tt,Ur=bA-Tt;Je[ze]=IA+cr,Je[ze+32]=IA-cr;var nn=.707106781*(Ur+TA);Je[ze+16]=TA+nn,Je[ze+48]=TA-nn;var as=.382683433*((IA=zA+EA)-(Ur=iA+Vt)),Ls=.5411961*IA+as,$n=1.306562965*Ur+as,Is=.707106781*(cr=EA+iA),pe=Vt+Is,De=Vt-Is;Je[ze+40]=De+Ls,Je[ze+24]=De-Ls,Je[ze+8]=pe+$n,Je[ze+56]=pe-$n,ze++}for(Ct=0;Ct<64;++Ct)zt=Je[Ct]*fe[Ct],w[Ct]=zt>0?zt+.5|0:zt-.5|0;return w})(N,k),Qe=0;Qe<64;++Qe)S[J[Qe]]=Be[Qe];var Pe=S[0]-P;P=S[0],Pe==0?ce(G[0]):(ce(G[x[ie=32767+Pe]]),ce(b[ie]));for(var ot=63;ot>0&&S[ot]==0;)ot--;if(ot==0)return ce(he),P;for(var ut,Te=1;Te<=ot;){for(var se=Te;S[Te]==0&&Te<=ot;)++Te;var Qt=Te-se;if(Qt>=16){ut=Qt>>4;for(var st=1;st<=ut;++st)ce(ue);Qt&=15}ie=32767+S[Te],ce(z[(Qt<<4)+x[ie]]),ce(b[ie]),Te++}return ot!=63&&ce(he),P}function H(N){N=Math.min(Math.max(N,1),100),i!=N&&((function(k){for(var P=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var z=l((P[G]*k+50)/100);z=Math.min(Math.max(z,1),255),f[J[G]]=z}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ue=l((ie[he]*k+50)/100);ue=Math.min(Math.max(ue,1),255),d[J[he]]=ue}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,Pe=0;Pe<8;Pe++)for(var ot=0;ot<8;ot++)h[Qe]=1/(f[J[Qe]]*Be[Pe]*Be[ot]*8),g[Qe]=1/(d[J[Qe]]*Be[Pe]*Be[ot]*8),Qe++})(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),i=N)}this.encode=function(N,k){k&&H(k),E=new Array,U=0,_=7,Ne(65496),Ne(65504),Ne(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),Ne(1),Ne(1),le(0),le(0),(function(){Ne(65499),Ne(132),le(0);for(var Ge=0;Ge<64;Ge++)le(f[Ge]);le(1);for(var at=0;at<64;at++)le(d[at])})(),(function(Ge,at){Ne(65472),Ne(17),le(8),Ne(at),Ne(Ge),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(N.width,N.height),(function(){Ne(65476),Ne(418),le(0);for(var Ge=0;Ge<16;Ge++)le(V[Ge+1]);for(var at=0;at<=11;at++)le(ae[at]);le(16);for(var ct=0;ct<16;ct++)le(me[ct+1]);for(var It=0;It<=161;It++)le(D[It]);le(1);for(var St=0;St<16;St++)le(O[St+1]);for(var Pt=0;Pt<=11;Pt++)le(Y[Pt]);le(17);for(var ht=0;ht<16;ht++)le(Ae[ht+1]);for(var Ct=0;Ct<=161;Ct++)le(Ce[Ct])})(),Ne(65498),Ne(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var P=0,G=0,z=0;U=0,_=7,this.encode.displayName="_encode_";for(var ie,he,ue,Be,Qe,Pe,ot,ut,Te,se=N.data,Qt=N.width,st=N.height,Je=4*Qt,fe=0;fe<st;){for(ie=0;ie<Je;){for(Qe=Je*fe+ie,ot=-1,ut=0,Te=0;Te<64;Te++)Pe=Qe+(ut=Te>>3)*Je+(ot=4*(7&Te)),fe+ut>=st&&(Pe-=Je*(fe+1+ut-st)),ie+ot>=Je&&(Pe-=ie+ot-Je+4),he=se[Pe++],ue=se[Pe++],Be=se[Pe++],Q[Te]=(re[he]+re[ue+256>>0]+re[Be+512>>0]>>16)-128,L[Te]=(re[he+768>>0]+re[ue+1024>>0]+re[Be+1280>>0]>>16)-128,W[Te]=(re[he+1280>>0]+re[ue+1536>>0]+re[Be+1792>>0]>>16)-128;P=te(Q,h,P,e,n),G=te(L,g,G,t,a),z=te(W,g,z,t,a),ie+=32}fe+=8}if(_>=0){var He=[];He[1]=_+1,He[0]=(1<<_+1)-1,ce(He)}return Ne(65497),new Uint8Array(E)},A=A||50,(function(){for(var N=String.fromCharCode,k=0;k<256;k++)X[k]=N(k)})(),e=ee(V,ae),t=ee(O,Y),n=ee(me,D),a=ee(Ae,Ce),(function(){for(var N=1,k=2,P=1;P<=15;P++){for(var G=N;G<k;G++)x[32767+G]=P,b[32767+G]=[],b[32767+G][1]=P,b[32767+G][0]=G;for(var z=-(k-1);z<=-N;z++)x[32767+z]=P,b[32767+z]=[],b[32767+z][1]=P,b[32767+z][0]=k-1+z;N<<=1,k<<=1}})(),(function(){for(var N=0;N<256;N++)re[N]=19595*N,re[N+256>>0]=38470*N,re[N+512>>0]=7471*N+32768,re[N+768>>0]=-11059*N,re[N+1024>>0]=-21709*N,re[N+1280>>0]=32768*N+8421375,re[N+1536>>0]=-27439*N,re[N+1792>>0]=-5329*N})(),H(A)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ia(A,e){if(this.pos=0,this.buffer=A,this.datav=new DataView(A.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oy(A){function e(V){if(!V)throw Error("assert :P")}function t(V,ae,me){for(var D=0;4>D;D++)if(V[ae+D]!=me.charCodeAt(D))return!0;return!1}function n(V,ae,me,D,O){for(var Y=0;Y<O;Y++)V[ae+Y]=me[D+Y]}function a(V,ae,me,D){for(var O=0;O<D;O++)V[ae+O]=me}function i(V){return new Int32Array(V)}function l(V,ae){for(var me=[],D=0;D<V;D++)me.push(new ae);return me}function f(V,ae){var me=[];return(function D(O,Y,Ae){for(var Ce=Ae[Y],ee=0;ee<Ce&&(O.push(Ae.length>Y+1?[]:new ae),!(Ae.length<Y+1));ee++)D(O[ee],Y+1,Ae)})(me,0,V),me}var d=function(){var V=this;function ae(p,v){for(var C=1<<v-1>>>0;p&C;)C>>>=1;return C?(p&C-1)+C:p}function me(p,v,C,F,I){e(!(F%C));do p[v+(F-=C)]=I;while(0<F)}function D(p,v,C,F,I){if(e(2328>=I),512>=I)var R=i(512);else if((R=i(I))==null)return 0;return(function(M,K,$,ne,we,Le){var je,_e,tt=K,qe=1<<$,ve=i(16),xe=i(16);for(e(we!=0),e(ne!=null),e(M!=null),e(0<$),_e=0;_e<we;++_e){if(15<ne[_e])return 0;++ve[ne[_e]]}if(ve[0]==we)return 0;for(xe[1]=0,je=1;15>je;++je){if(ve[je]>1<<je)return 0;xe[je+1]=xe[je]+ve[je]}for(_e=0;_e<we;++_e)je=ne[_e],0<ne[_e]&&(Le[xe[je]++]=_e);if(xe[15]==1)return(ne=new O).g=0,ne.value=Le[0],me(M,tt,1,qe,ne),qe;var Ze,nt=-1,Xe=qe-1,bt=0,ft=1,Kt=1,gt=1<<$;for(_e=0,je=1,we=2;je<=$;++je,we<<=1){if(ft+=Kt<<=1,0>(Kt-=ve[je]))return 0;for(;0<ve[je];--ve[je])(ne=new O).g=je,ne.value=Le[_e++],me(M,tt+bt,we,gt,ne),bt=ae(bt,je)}for(je=$+1,we=2;15>=je;++je,we<<=1){if(ft+=Kt<<=1,0>(Kt-=ve[je]))return 0;for(;0<ve[je];--ve[je]){if(ne=new O,(bt&Xe)!=nt){for(tt+=gt,Ze=1<<(nt=je)-$;15>nt&&!(0>=(Ze-=ve[nt]));)++nt,Ze<<=1;qe+=gt=1<<(Ze=nt-$),M[K+(nt=bt&Xe)].g=Ze+$,M[K+nt].value=tt-K-nt}ne.g=je-$,ne.value=Le[_e++],me(M,tt+(bt>>$),we,gt,ne),bt=ae(bt,je)}}return ft!=2*xe[15]-1?0:qe})(p,v,C,F,I,R)}function O(){this.value=this.g=0}function Y(){this.value=this.g=0}function Ae(){this.G=l(5,O),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Cn,Y)}function Ce(p,v,C,F){e(p!=null),e(v!=null),e(2147483648>F),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=C,p.Jd=v,p.Yc=C+F,p.Zc=4<=F?C+F-4+1:C,ie(p)}function ee(p,v){for(var C=0;0<v--;)C|=ue(p,128)<<v;return C}function ce(p,v){var C=ee(p,v);return he(p)?-C:C}function le(p,v,C,F){var I,R=0;for(e(p!=null),e(v!=null),e(4294967288>F),p.Sb=F,p.Ra=0,p.u=0,p.h=0,4<F&&(F=4),I=0;I<F;++I)R+=v[C+I]<<8*I;p.Ra=R,p.bb=F,p.oa=v,p.pa=C}function Ne(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ei-8>>>0,++p.bb,p.u-=8;P(p)&&(p.h=1,p.u=0)}function te(p,v){if(e(0<=v),!p.h&&v<=Za){var C=k(p)&Di[v];return p.u+=v,Ne(p),C}return p.h=1,p.u=0}function H(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function k(p){return p.Ra>>>(p.u&ei-1)>>>0}function P(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ei}function G(p,v){p.u=v,p.h=P(p)}function z(p){p.u>=_o&&(e(p.u>=_o),Ne(p))}function ie(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function he(p){return ee(p,1)}function ue(p,v){var C=p.Ca;0>p.b&&ie(p);var F=p.b,I=C*v>>>8,R=(p.I>>>F>I)+0;for(R?(C-=I,p.I-=I+1<<F>>>0):C=I+1,F=C,I=0;256<=F;)I+=8,F>>=8;return F=7^I+En[F],p.b-=F,p.Ca=(C<<F)-1,R}function Be(p,v,C){p[v+0]=C>>24&255,p[v+1]=C>>16&255,p[v+2]=C>>8&255,p[v+3]=C>>0&255}function Qe(p,v){return p[v+0]<<0|p[v+1]<<8}function Pe(p,v){return Qe(p,v)|p[v+2]<<16}function ot(p,v){return Qe(p,v)|Qe(p,v+2)<<16}function ut(p,v){var C=1<<v;return e(p!=null),e(0<v),p.X=i(C),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function Te(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),n(v.X,0,p.X,0,1<<v.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function Qt(p,v,C,F){e(C!=null),e(F!=null);var I=C[0],R=F[0];return I==0&&(I=(p*R+v/2)/v),R==0&&(R=(v*I+p/2)/p),0>=I||0>=R?0:(C[0]=I,F[0]=R,1)}function st(p,v){return p+(1<<v)-1>>>v}function Je(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function fe(p,v){V[v]=function(C,F,I,R,M,K,$){var ne;for(ne=0;ne<M;++ne){var we=V[p](K[$+ne-1],I,R+ne);K[$+ne]=Je(C[F+ne],we)}}}function He(){this.ud=this.hd=this.jd=0}function Ge(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function at(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function ct(p,v){return at(p+(p-v+.5>>1))}function It(p,v,C){return Math.abs(v-C)-Math.abs(p-C)}function St(p,v,C,F,I,R,M){for(F=R[M-1],C=0;C<I;++C)R[M+C]=F=Je(p[v+C],F)}function Pt(p,v,C,F,I){var R;for(R=0;R<C;++R){var M=p[v+R],K=M>>8&255,$=16711935&($=($=16711935&M)+((K<<16)+K));F[I+R]=(4278255360&M)+$>>>0}}function ht(p,v){v.jd=p>>0&255,v.hd=p>>8&255,v.ud=p>>16&255}function Ct(p,v,C,F,I,R){var M;for(M=0;M<F;++M){var K=v[C+M],$=K>>>8,ne=K,we=255&(we=(we=K>>>16)+((p.jd<<24>>24)*($<<24>>24)>>>5));ne=255&(ne=(ne=ne+((p.hd<<24>>24)*($<<24>>24)>>>5))+((p.ud<<24>>24)*(we<<24>>24)>>>5)),I[R+M]=(4278255360&K)+(we<<16)+ne}}function zt(p,v,C,F,I){V[v]=function(R,M,K,$,ne,we,Le,je,_e){for($=Le;$<je;++$)for(Le=0;Le<_e;++Le)ne[we++]=I(K[F(R[M++])])},V[p]=function(R,M,K,$,ne,we,Le){var je=8>>R.b,_e=R.Ea,tt=R.K[0],qe=R.w;if(8>je)for(R=(1<<R.b)-1,qe=(1<<je)-1;M<K;++M){var ve,xe=0;for(ve=0;ve<_e;++ve)ve&R||(xe=F($[ne++])),we[Le++]=I(tt[xe&qe]),xe>>=je}else V["VP8LMapColor"+C]($,ne,tt,qe,we,Le,M,K,_e)}}function ze(p,v,C,F,I){for(C=v+C;v<C;){var R=p[v++];F[I++]=R>>16&255,F[I++]=R>>8&255,F[I++]=R>>0&255}}function be(p,v,C,F,I){for(C=v+C;v<C;){var R=p[v++];F[I++]=R>>16&255,F[I++]=R>>8&255,F[I++]=R>>0&255,F[I++]=R>>24&255}}function Me(p,v,C,F,I){for(C=v+C;v<C;){var R=(M=p[v++])>>16&240|M>>12&15,M=M>>0&240|M>>28&15;F[I++]=R,F[I++]=M}}function dt(p,v,C,F,I){for(C=v+C;v<C;){var R=(M=p[v++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;F[I++]=R,F[I++]=M}}function xt(p,v,C,F,I){for(C=v+C;v<C;){var R=p[v++];F[I++]=R>>0&255,F[I++]=R>>8&255,F[I++]=R>>16&255}}function _t(p,v,C,F,I,R){if(R==0)for(C=v+C;v<C;)Be(F,((R=p[v++])[0]>>24|R[1]>>8&65280|R[2]<<8&16711680|R[3]<<24)>>>0),I+=32;else n(F,I,p,v,C)}function FA(p,v){V[v][0]=V[p+"0"],V[v][1]=V[p+"1"],V[v][2]=V[p+"2"],V[v][3]=V[p+"3"],V[v][4]=V[p+"4"],V[v][5]=V[p+"5"],V[v][6]=V[p+"6"],V[v][7]=V[p+"7"],V[v][8]=V[p+"8"],V[v][9]=V[p+"9"],V[v][10]=V[p+"10"],V[v][11]=V[p+"11"],V[v][12]=V[p+"12"],V[v][13]=V[p+"13"],V[v][14]=V[p+"0"],V[v][15]=V[p+"0"]}function Xt(p){return p==kl||p==Ic||p==Fo||p==Tc}function qA(){this.eb=[],this.size=this.A=this.fb=0}function uA(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function LA(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qA,this.f.kb=new uA,this.sd=null}function wA(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ht(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Ee(p,v){var C=p.T,F=v.ba.f.RGBA,I=F.eb,R=F.fb+p.ka*F.A,M=ln[v.ba.S],K=p.y,$=p.O,ne=p.f,we=p.N,Le=p.ea,je=p.W,_e=v.cc,tt=v.dc,qe=v.Mc,ve=v.Nc,xe=p.ka,Ze=p.ka+p.T,nt=p.U,Xe=nt+1>>1;for(xe==0?M(K,$,null,null,ne,we,Le,je,ne,we,Le,je,I,R,null,null,nt):(M(v.ec,v.fc,K,$,_e,tt,qe,ve,ne,we,Le,je,I,R-F.A,I,R,nt),++C);xe+2<Ze;xe+=2)_e=ne,tt=we,qe=Le,ve=je,we+=p.Rc,je+=p.Rc,R+=2*F.A,M(K,($+=2*p.fa)-p.fa,K,$,_e,tt,qe,ve,ne,we,Le,je,I,R-F.A,I,R,nt);return $+=p.fa,p.j+Ze<p.o?(n(v.ec,v.fc,K,$,nt),n(v.cc,v.dc,ne,we,Xe),n(v.Mc,v.Nc,Le,je,Xe),C--):1&Ze||M(K,$,null,null,ne,we,Le,je,ne,we,Le,je,I,R+F.A,null,null,nt),C}function Nt(p,v,C){var F=p.F,I=[p.J];if(F!=null){var R=p.U,M=v.ba.S,K=M==Ol||M==Fo;v=v.ba.f.RGBA;var $=[0],ne=p.ka;$[0]=p.T,p.Kb&&(ne==0?--$[0]:(--ne,I[0]-=p.width),p.j+p.ka+p.T==p.o&&($[0]=p.o-p.j-ne));var we=v.eb;ne=v.fb+ne*v.A,p=Oi(F,I[0],p.width,R,$,we,ne+(K?0:3),v.A),e(C==$),p&&Xt(M)&&na(we,ne,K,R,$,v.A)}return 0}function Ye(p){var v=p.ma,C=v.ba.S,F=11>C,I=C==wn||C==ps||C==Ol||C==Qo||C==12||Xt(C);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ba(v.Oa,p,I?11:12))return 0;if(I&&Xt(C)&&lt(),p.da)alert("todo:use_scaling");else{if(F){if(v.Ib=Ht,p.Kb){if(C=p.U+1>>1,v.memory=i(p.U+2*C),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+C,v.Ib=Ee,lt()}}else alert("todo:EmitYUV");I&&(v.Jb=Nt,F&&Fe())}if(F&&!ci){for(p=0;256>p;++p)cn[p]=89858*(p-128)+Io>>ys,ap[p]=-22014*(p-128)+Io,Cf[p]=-45773*(p-128),Hc[p]=113618*(p-128)+Io>>ys;for(p=Mi;p<li;++p)v=76283*(p-16)+Io>>ys,ip[p-Mi]=Wn(v,255),op[p-Mi]=Wn(v+8>>4,15);ci=1}return 1}function ke(p){var v=p.ma,C=p.U,F=p.T;return e(!(1&p.ka)),0>=C||0>=F?0:(C=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,C),v.Dc+=C,1)}function Se(p){p.ma.memory=null}function $e(p,v,C,F){return te(p,8)!=47?0:(v[0]=te(p,14)+1,C[0]=te(p,14)+1,F[0]=te(p,1),te(p,3)!=0?0:!p.h)}function Ot(p,v){if(4>p)return p+1;var C=p-2>>1;return(2+(1&p)<<C)+te(v,C)+1}function Vt(p,v){return 120<v?v-120:1<=(C=((C=ms[v-1])>>4)*p+(8-(15&C)))?C:1;var C}function bA(p,v,C){var F=k(C),I=p[v+=255&F].g-8;return 0<I&&(G(C,C.u+8),F=k(C),v+=p[v].value,v+=F&(1<<I)-1),G(C,C.u+p[v].g),p[v].value}function iA(p,v,C){return C.g+=p.g,C.value+=p.value<<v>>>0,e(8>=C.g),p.g}function Tt(p,v,C){var F=p.xc;return e((v=F==0?0:p.vc[p.md*(C>>F)+(v>>F)])<p.Wb),p.Ya[v]}function EA(p,v,C,F){var I=p.ab,R=p.c*v,M=p.C;v=M+v;var K=C,$=F;for(F=p.Ta,C=p.Ua;0<I--;){var ne=p.gc[I],we=M,Le=v,je=K,_e=$,tt=($=F,K=C,ne.Ea);switch(e(we<Le),e(Le<=ne.nc),ne.hc){case 2:Uc(je,_e,(Le-we)*tt,$,K);break;case 0:var qe=we,ve=Le,xe=$,Ze=K,nt=(gt=ne).Ea;qe==0&&(Nc(je,_e,null,null,1,xe,Ze),St(je,_e+1,0,0,nt-1,xe,Ze+1),_e+=nt,Ze+=nt,++qe);for(var Xe=1<<gt.b,bt=Xe-1,ft=st(nt,gt.b),Kt=gt.K,gt=gt.w+(qe>>gt.b)*ft;qe<ve;){var DA=Kt,xA=gt,_A=1;for(jl(je,_e,xe,Ze-nt,1,xe,Ze);_A<nt;){var cA=(_A&~bt)+Xe;cA>nt&&(cA=nt),(0,us[DA[xA++]>>8&15])(je,_e+ +_A,xe,Ze+_A-nt,cA-_A,xe,Ze+_A),_A=cA}_e+=nt,Ze+=nt,++qe&bt||(gt+=ft)}Le!=ne.nc&&n($,K-tt,$,K+(Le-we-1)*tt,tt);break;case 1:for(tt=je,ve=_e,nt=(je=ne.Ea)-(Ze=je&~(xe=(_e=1<<ne.b)-1)),qe=st(je,ne.b),Xe=ne.K,ne=ne.w+(we>>ne.b)*qe;we<Le;){for(bt=Xe,ft=ne,Kt=new He,gt=ve+Ze,DA=ve+je;ve<gt;)ht(bt[ft++],Kt),Jn(Kt,tt,ve,_e,$,K),ve+=_e,K+=_e;ve<DA&&(ht(bt[ft++],Kt),Jn(Kt,tt,ve,nt,$,K),ve+=nt,K+=nt),++we&xe||(ne+=qe)}break;case 3:if(je==$&&_e==K&&0<ne.b){for(ve=$,je=tt=K+(Le-we)*tt-(Ze=(Le-we)*st(ne.Ea,ne.b)),_e=$,xe=K,qe=[],Ze=(nt=Ze)-1;0<=Ze;--Ze)qe[Ze]=_e[xe+Ze];for(Ze=nt-1;0<=Ze;--Ze)ve[je+Ze]=qe[Ze];Rs(ne,we,Le,$,tt,$,K)}else Rs(ne,we,Le,je,_e,$,K)}K=F,$=C}$!=C&&n(F,C,K,$,R)}function kr(p,v){var C=p.V,F=p.Ba+p.c*p.C,I=v-p.C;if(e(v<=p.l.o),e(16>=I),0<I){var R=p.l,M=p.Ta,K=p.Ua,$=R.width;if(EA(p,I,C,F),I=K=[K],e((C=p.C)<(F=v)),e(R.v<R.va),F>R.o&&(F=R.o),C<R.j){var ne=R.j-C;C=R.j,I[0]+=ne*$}if(C>=F?C=0:(I[0]+=4*R.v,R.ka=C-R.j,R.U=R.va-R.v,R.T=F-C,C=1),C){if(K=K[0],11>(C=p.ca).S){var we=C.f.RGBA,Le=(F=C.S,I=R.U,R=R.T,ne=we.eb,we.A),je=R;for(we=we.fb+p.Ma*we.A;0<je--;){var _e=M,tt=K,qe=I,ve=ne,xe=we;switch(F){case jc:ds(_e,tt,qe,ve,xe);break;case wn:xa(_e,tt,qe,ve,xe);break;case kl:xa(_e,tt,qe,ve,xe),na(ve,xe,0,qe,1,0);break;case Lc:No(_e,tt,qe,ve,xe);break;case ps:_t(_e,tt,qe,ve,xe,1);break;case Ic:_t(_e,tt,qe,ve,xe,1),na(ve,xe,0,qe,1,0);break;case Ol:_t(_e,tt,qe,ve,xe,0);break;case Fo:_t(_e,tt,qe,ve,xe,0),na(ve,xe,1,qe,1,0);break;case Qo:Hs(_e,tt,qe,ve,xe);break;case Tc:Hs(_e,tt,qe,ve,xe),gn(ve,xe,qe,1,0);break;case ni:Ms(_e,tt,qe,ve,xe);break;default:e(0)}K+=$,we+=Le}p.Ma+=R}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=C.height)}}p.C=v,e(p.C<=p.i)}function zA(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var C=p.Ya[v].G,F=p.Ya[v].H;if(0<C[1][F[1]+0].g||0<C[2][F[2]+0].g||0<C[3][F[3]+0].g)return 0}return 1}function IA(p,v,C,F,I,R){if(p.Z!=0){var M=p.qd,K=p.rd;for(e(Ea[p.Z]!=null);v<C;++v)Ea[p.Z](M,K,F,I,F,I,R),M=F,K=I,I+=R;p.qd=M,p.rd=K}}function TA(p,v){var C=p.l.ma,F=C.Z==0||C.Z==1?p.l.j:p.C;if(F=p.C<F?F:p.C,e(v<=p.l.o),v>F){var I=p.l.width,R=C.ca,M=C.tb+I*F,K=p.V,$=p.Ba+p.c*F,ne=p.gc;e(p.ab==1),e(ne[0].hc==3),Ju(ne[0],F,v,K,$,R,M),IA(C,F,v,R,M,I)}p.C=p.Ma=v}function cr(p,v,C,F,I,R,M){var K=p.$/F,$=p.$%F,ne=p.m,we=p.s,Le=C+p.$,je=Le;I=C+F*I;var _e=C+F*R,tt=280+we.ua,qe=p.Pb?K:16777216,ve=0<we.ua?we.Wa:null,xe=we.wc,Ze=Le<_e?Tt(we,$,K):null;e(p.C<R),e(_e<=I);var nt=!1;e:for(;;){for(;nt||Le<_e;){var Xe=0;if(K>=qe){var bt=Le-C;e((qe=p).Pb),qe.wd=qe.m,qe.xd=bt,0<qe.s.ua&&Te(qe.s.Wa,qe.s.vb),qe=K+si}if($&xe||(Ze=Tt(we,$,K)),e(Ze!=null),Ze.Qb&&(v[Le]=Ze.qb,nt=!0),!nt)if(z(ne),Ze.jc){Xe=ne,bt=v;var ft=Le,Kt=Ze.pd[k(Xe)&Cn-1];e(Ze.jc),256>Kt.g?(G(Xe,Xe.u+Kt.g),bt[ft]=Kt.value,Xe=0):(G(Xe,Xe.u+Kt.g-256),e(256<=Kt.value),Xe=Kt.value),Xe==0&&(nt=!0)}else Xe=bA(Ze.G[0],Ze.H[0],ne);if(ne.h)break;if(nt||256>Xe){if(!nt)if(Ze.nd)v[Le]=(Ze.qb|Xe<<8)>>>0;else{if(z(ne),nt=bA(Ze.G[1],Ze.H[1],ne),z(ne),bt=bA(Ze.G[2],Ze.H[2],ne),ft=bA(Ze.G[3],Ze.H[3],ne),ne.h)break;v[Le]=(ft<<24|nt<<16|Xe<<8|bt)>>>0}if(nt=!1,++Le,++$>=F&&($=0,++K,M!=null&&K<=R&&!(K%16)&&M(p,K),ve!=null))for(;je<Le;)Xe=v[je++],ve.X[(506832829*Xe&4294967295)>>>ve.Mb]=Xe}else if(280>Xe){if(Xe=Ot(Xe-256,ne),bt=bA(Ze.G[4],Ze.H[4],ne),z(ne),bt=Vt(F,bt=Ot(bt,ne)),ne.h)break;if(Le-C<bt||I-Le<Xe)break e;for(ft=0;ft<Xe;++ft)v[Le+ft]=v[Le+ft-bt];for(Le+=Xe,$+=Xe;$>=F;)$-=F,++K,M!=null&&K<=R&&!(K%16)&&M(p,K);if(e(Le<=I),$&xe&&(Ze=Tt(we,$,K)),ve!=null)for(;je<Le;)Xe=v[je++],ve.X[(506832829*Xe&4294967295)>>>ve.Mb]=Xe}else{if(!(Xe<tt))break e;for(nt=Xe-280,e(ve!=null);je<Le;)Xe=v[je++],ve.X[(506832829*Xe&4294967295)>>>ve.Mb]=Xe;Xe=Le,e(!(nt>>>(bt=ve).Xa)),v[Xe]=bt.X[nt],nt=!0}nt||e(ne.h==P(ne))}if(p.Pb&&ne.h&&Le<I)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Te(p.s.vb,p.s.Wa);else{if(ne.h)break e;M!=null&&M(p,K>R?R:K),p.a=0,p.$=Le-C}return 1}return p.a=3,0}function Ur(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function nn(){var p=new Wu;return p==null?null:(p.a=0,p.xb=Zu,FA("Predictor","VP8LPredictors"),FA("Predictor","VP8LPredictors_C"),FA("PredictorAdd","VP8LPredictorsAdd"),FA("PredictorAdd","VP8LPredictorsAdd_C"),Uc=Pt,Jn=Ct,ds=ze,xa=be,Hs=Me,Ms=dt,No=xt,V.VP8LMapColor32b=Ll,V.VP8LMapColor8b=Sn,p)}function as(p,v,C,F,I){var R=1,M=[p],K=[v],$=F.m,ne=F.s,we=null,Le=0;e:for(;;){if(C)for(;R&&te($,1);){var je=M,_e=K,tt=F,qe=1,ve=tt.m,xe=tt.gc[tt.ab],Ze=te(ve,2);if(tt.Oc&1<<Ze)R=0;else{switch(tt.Oc|=1<<Ze,xe.hc=Ze,xe.Ea=je[0],xe.nc=_e[0],xe.K=[null],++tt.ab,e(4>=tt.ab),Ze){case 0:case 1:xe.b=te(ve,3)+2,qe=as(st(xe.Ea,xe.b),st(xe.nc,xe.b),0,tt,xe.K),xe.K=xe.K[0];break;case 3:var nt,Xe=te(ve,8)+1,bt=16<Xe?0:4<Xe?1:2<Xe?2:3;if(je[0]=st(xe.Ea,bt),xe.b=bt,nt=qe=as(Xe,1,0,tt,xe.K)){var ft,Kt=Xe,gt=xe,DA=1<<(8>>gt.b),xA=i(DA);if(xA==null)nt=0;else{var _A=gt.K[0],cA=gt.w;for(xA[0]=gt.K[0][0],ft=1;ft<1*Kt;++ft)xA[ft]=Je(_A[cA+ft],xA[ft-1]);for(;ft<4*DA;++ft)xA[ft]=0;gt.K[0]=null,gt.K[0]=xA,nt=1}}qe=nt;break;case 2:break;default:e(0)}R=qe}}if(M=M[0],K=K[0],R&&te($,1)&&!(R=1<=(Le=te($,4))&&11>=Le)){F.a=3;break e}var PA;if(PA=R)t:{var OA,Zt,VA,Yr=F,yr=M,vn=K,jA=Le,un=C,kn=Yr.m,Pr=Yr.s,xr=[null],Wr=1,ts=0,xs=ws[jA];A:for(;;){if(un&&te(kn,1)){var Tr=te(kn,3)+2,Lr=st(yr,Tr),Jr=st(vn,Tr),As=Lr*Jr;if(!as(Lr,Jr,0,Yr,xr))break A;for(xr=xr[0],Pr.xc=Tr,OA=0;OA<As;++OA){var aa=xr[OA]>>8&65535;xr[OA]=aa,aa>=Wr&&(Wr=aa+1)}}if(kn.h)break A;for(Zt=0;5>Zt;++Zt){var gr=Ri[Zt];!Zt&&0<jA&&(gr+=1<<jA),ts<gr&&(ts=gr)}var ia=l(Wr*xs,O),Rn=Wr,Br=l(Rn,Ae);if(Br==null)var Pi=null;else e(65536>=Rn),Pi=Br;var rs=i(ts);if(Pi==null||rs==null||ia==null){Yr.a=1;break A}var aA=ia;for(OA=VA=0;OA<Wr;++OA){var mA=Pi[OA],ir=mA.G,Sa=mA.H,Ki=0,oa=1,Pl=0;for(Zt=0;5>Zt;++Zt){gr=Ri[Zt],ir[Zt]=aA,Sa[Zt]=VA,!Zt&&0<jA&&(gr+=1<<jA);n:{var ui,di=gr,Pc=Yr,er=rs,td=aA,Ad=VA,Kc=0,_a=Pc.m,lp=te(_a,1);if(a(er,0,0,di),lp){var rd=te(_a,1)+1,nd=te(_a,1),qc=te(_a,nd==0?1:8);er[qc]=1,rd==2&&(er[qc=te(_a,8)]=1);var Xr=1}else{var Cr=i(19),Kl=te(_a,4)+4;if(19<Kl){Pc.a=3;var fi=0;break n}for(ui=0;ui<Kl;++ui)Cr[Rl[ui]]=te(_a,3);var Do=void 0,qi=void 0,la=Pc,Gc=Cr,Oo=di,zc=er,Vc=0,Na=la.m,sd=8,ad=l(128,O);r:for(;D(ad,0,7,Gc,19);){if(te(Na,1)){var Ef=2+2*te(Na,3);if((Do=2+te(Na,Ef))>Oo)break r}else Do=Oo;for(qi=0;qi<Oo&&Do--;){z(Na);var id=ad[0+(127&k(Na))];G(Na,Na.u+id.g);var hi=id.value;if(16>hi)zc[qi++]=hi,hi!=0&&(sd=hi);else{var Sf=hi==16,_f=hi-16,Nf=jo[_f],od=te(Na,gs[_f])+Nf;if(qi+od>Oo)break r;for(var Uf=Sf?sd:0;0<od--;)zc[qi++]=Uf}}Vc=1;break r}Vc||(la.a=3),Xr=Vc}(Xr=Xr&&!_a.h)&&(Kc=D(td,Ad,8,er,di)),Xr&&Kc!=0?fi=Kc:(Pc.a=3,fi=0)}if(fi==0)break A;if(oa&&Dc[Zt]==1&&(oa=aA[VA].g==0),Ki+=aA[VA].g,VA+=fi,3>=Zt){var Gi,$c=rs[0];for(Gi=1;Gi<gr;++Gi)rs[Gi]>$c&&($c=rs[Gi]);Pl+=$c}}if(mA.nd=oa,mA.Qb=0,oa&&(mA.qb=(ir[3][Sa[3]+0].value<<24|ir[1][Sa[1]+0].value<<16|ir[2][Sa[2]+0].value)>>>0,Ki==0&&256>ir[0][Sa[0]+0].value&&(mA.Qb=1,mA.qb+=ir[0][Sa[0]+0].value<<8)),mA.jc=!mA.Qb&&6>Pl,mA.jc){var ql,ca=mA;for(ql=0;ql<Cn;++ql){var Ua=ql,Qa=ca.pd[Ua],Yc=ca.G[0][ca.H[0]+Ua];256<=Yc.value?(Qa.g=Yc.g+256,Qa.value=Yc.value):(Qa.g=0,Qa.value=0,Ua>>=iA(Yc,8,Qa),Ua>>=iA(ca.G[1][ca.H[1]+Ua],16,Qa),Ua>>=iA(ca.G[2][ca.H[2]+Ua],0,Qa),iA(ca.G[3][ca.H[3]+Ua],24,Qa))}}}Pr.vc=xr,Pr.Wb=Wr,Pr.Ya=Pi,Pr.yc=ia,PA=1;break t}PA=0}if(!(R=PA)){F.a=3;break e}if(0<Le){if(ne.ua=1<<Le,!ut(ne.Wa,Le)){F.a=1,R=0;break e}}else ne.ua=0;var Wc=F,zi=M,Qf=K,ko=Wc.s,Ro=ko.xc;if(Wc.c=zi,Wc.i=Qf,ko.md=st(zi,Ro),ko.wc=Ro==0?-1:(1<<Ro)-1,C){F.xb=ai;break e}if((we=i(M*K))==null){F.a=1,R=0;break e}R=(R=cr(F,we,0,M,K,K,null))&&!$.h;break e}return R?(I!=null?I[0]=we:(e(we==null),e(C)),F.$=0,C||Ur(ne)):Ur(ne),R}function Ls(p,v){var C=p.c*p.i,F=C+v+16*v;return e(p.c<=v),p.V=i(F),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+C+v,1)}function $n(p,v){var C=p.C,F=v-C,I=p.V,R=p.Ba+p.c*C;for(e(v<=p.l.o);0<F;){var M=16<F?16:F,K=p.l.ma,$=p.l.width,ne=$*M,we=K.ca,Le=K.tb+$*C,je=p.Ta,_e=p.Ua;EA(p,M,I,R),Zn(je,_e,we,Le,ne),IA(K,C,C+M,we,Le,$),F-=M,I+=M*p.c,C+=M}e(C==v),p.C=p.Ma=v}function Is(){this.ub=this.yd=this.td=this.Rb=0}function pe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function De(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function At(){this.Yb=(function(){var p=[];return(function v(C,F,I){for(var R=I[F],M=0;M<R&&(C.push(I.length>F+1?[]:0),!(I.length<F+1));M++)v(C[M],F+1,I)})(p,0,[3,11]),p})()}function pt(){this.jb=i(3),this.Wc=f([4,8],At),this.Xc=f([4,17],At)}function it(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ut(){this.ld=this.La=this.dd=this.tc=0}function qt(){this.Na=this.la=0}function Yt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function AA(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ut),this.Y=0,this.ya=Array(new AA),this.aa=0,this.l=new MA}function HA(){this.y=i(16),this.f=i(8),this.ea=i(8)}function vr(){this.cb=this.a=0,this.sc="",this.m=new H,this.Od=new Is,this.Kc=new pe,this.ed=new it,this.Qa=new De,this.Ic=this.$c=this.Aa=0,this.D=new Mt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,H),this.ia=0,this.pb=l(4,Yt),this.Pa=new pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new HA),this.Hd=0,this.rb=Array(new qt),this.sb=0,this.wa=Array(new Ut),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new AA),this.L=this.aa=0,this.gd=f([4,2],Ut),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function MA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yn(){var p=new vr;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,es||(es=sr)),p}function pA(p,v,C){return p.a==0&&(p.a=v,p.sc=C,p.cb=0),0}function hA(p,v,C){return 3<=C&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function nA(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return pA(p,2,"null VP8Io passed to VP8GetHeaders()");var C=v.data,F=v.w,I=v.ha;if(4>I)return pA(p,7,"Truncated header.");var R=C[F+0]|C[F+1]<<8|C[F+2]<<16,M=p.Od;if(M.Rb=!(1&R),M.td=R>>1&7,M.yd=R>>4&1,M.ub=R>>5,3<M.td)return pA(p,3,"Incorrect keyframe parameters.");if(!M.yd)return pA(p,4,"Frame not displayable.");F+=3,I-=3;var K=p.Kc;if(M.Rb){if(7>I)return pA(p,7,"cannot parse picture header");if(!hA(C,F,I))return pA(p,3,"Bad code word");K.c=16383&(C[F+4]<<8|C[F+3]),K.Td=C[F+4]>>6,K.i=16383&(C[F+6]<<8|C[F+5]),K.Ud=C[F+6]>>6,F+=7,I-=7,p.za=K.c+15>>4,p.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((R=p.Pa).jb,0,255,R.jb.length),e((R=p.Qa)!=null),R.Cb=0,R.Bb=0,R.Fb=1,a(R.Zb,0,0,R.Zb.length),a(R.Lb,0,0,R.Lb)}if(M.ub>I)return pA(p,7,"bad partition length");Ce(R=p.m,C,F,M.ub),F+=M.ub,I-=M.ub,M.Rb&&(K.Ld=he(R),K.Kd=he(R)),K=p.Qa;var $,ne=p.Pa;if(e(R!=null),e(K!=null),K.Cb=he(R),K.Cb){if(K.Bb=he(R),he(R)){for(K.Fb=he(R),$=0;4>$;++$)K.Zb[$]=he(R)?ce(R,7):0;for($=0;4>$;++$)K.Lb[$]=he(R)?ce(R,6):0}if(K.Bb)for($=0;3>$;++$)ne.jb[$]=he(R)?ee(R,8):255}else K.Bb=0;if(R.Ka)return pA(p,3,"cannot parse segment header");if((K=p.ed).zd=he(R),K.Tb=ee(R,6),K.wb=ee(R,3),K.Pc=he(R),K.Pc&&he(R)){for(ne=0;4>ne;++ne)he(R)&&(K.vd[ne]=ce(R,6));for(ne=0;4>ne;++ne)he(R)&&(K.od[ne]=ce(R,6))}if(p.L=K.Tb==0?0:K.zd?1:2,R.Ka)return pA(p,3,"cannot parse filter header");var we=I;if(I=$=F,F=$+we,K=we,p.Xb=(1<<ee(p.m,2))-1,we<3*(ne=p.Xb))C=7;else{for($+=3*ne,K-=3*ne,we=0;we<ne;++we){var Le=C[I+0]|C[I+1]<<8|C[I+2]<<16;Le>K&&(Le=K),Ce(p.Jc[+we],C,$,Le),$+=Le,K-=Le,I+=3}Ce(p.Jc[+ne],C,$,K),C=$<F?0:5}if(C!=0)return pA(p,C,"cannot parse partitions");for(C=ee($=p.m,7),I=he($)?ce($,4):0,F=he($)?ce($,4):0,K=he($)?ce($,4):0,ne=he($)?ce($,4):0,$=he($)?ce($,4):0,we=p.Qa,Le=0;4>Le;++Le){if(we.Cb){var je=we.Zb[Le];we.Fb||(je+=C)}else{if(0<Le){p.pb[Le]=p.pb[0];continue}je=C}var _e=p.pb[Le];_e.Sc[0]=vs[Wn(je+I,127)],_e.Sc[1]=bs[Wn(je+0,127)],_e.Eb[0]=2*vs[Wn(je+F,127)],_e.Eb[1]=101581*bs[Wn(je+K,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=vs[Wn(je+ne,117)],_e.Qc[1]=bs[Wn(je+$,127)],_e.lc=je+$}if(!M.Rb)return pA(p,4,"Not a key frame.");for(he(R),M=p.Pa,C=0;4>C;++C){for(I=0;8>I;++I)for(F=0;3>F;++F)for(K=0;11>K;++K)ne=ue(R,ar[C][I][F][K])?ee(R,8):Bf[C][I][F][K],M.Wc[C][I].Yb[F][K]=ne;for(I=0;17>I;++I)M.Xc[C][I]=M.Wc[C][yA[I]]}return p.kc=he(R),p.kc&&(p.Bd=ee(R,8)),p.cb=1}function sr(p,v,C,F,I,R,M){var K=v[I].Yb[C];for(C=0;16>I;++I){if(!ue(p,K[C+0]))return I;for(;!ue(p,K[C+1]);)if(K=v[++I].Yb[0],C=0,I==16)return 16;var $=v[I+1].Yb;if(ue(p,K[C+2])){var ne=p,we=0;if(ue(ne,(je=K)[(Le=C)+3]))if(ue(ne,je[Le+6])){for(K=0,Le=2*(we=ue(ne,je[Le+8]))+(je=ue(ne,je[Le+9+we])),we=0,je=xf[Le];je[K];++K)we+=we+ue(ne,je[K]);we+=3+(8<<Le)}else ue(ne,je[Le+7])?(we=7+2*ue(ne,165),we+=ue(ne,145)):we=5+ue(ne,159);else we=ue(ne,je[Le+4])?3+ue(ne,je[Le+5]):2;K=$[2]}else we=1,K=$[1];$=M+Xu[I],0>(ne=p).b&&ie(ne);var Le,je=ne.b,_e=(Le=ne.Ca>>1)-(ne.I>>je)>>31;--ne.b,ne.Ca+=_e,ne.Ca|=1,ne.I-=(Le+1&_e)<<je,R[$]=((we^_e)-_e)*F[(0<I)+0]}return 16}function Tn(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function is(p,v){if(p==null)return 0;if(v==null)return pA(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!nA(p,v))return 0;if(e(p.cb),v.ac==null||v.ac(v)){v.ob&&(p.L=0);var C=To[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=v.v-C>>4,p.zb=v.j-C>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=v.o+15+C>>4,p.Hb=v.va+15+C>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var F=p.ed;for(C=0;4>C;++C){var I;if(p.Qa.Cb){var R=p.Qa.Lb[C];p.Qa.Fb||(R+=F.Tb)}else R=F.Tb;for(I=0;1>=I;++I){var M=p.gd[C][I],K=R;if(F.Pc&&(K+=F.vd[0],I&&(K+=F.od[0])),0<(K=0>K?0:63<K?63:K)){var $=K;0<F.wb&&($=4<F.wb?$>>2:$>>1)>9-F.wb&&($=9-F.wb),1>$&&($=1),M.dd=$,M.tc=2*K+$,M.ld=40<=K?2:15<=K?1:0}else M.tc=0;M.La=I}}}C=0}else pA(p,6,"Frame setup failed"),C=p.a;if(C=C==0){if(C){p.$c=0,0<p.Aa||(p.Ic=Ml);e:{C=p.Ic,F=4*($=p.za);var ne=32*$,we=$+1,Le=0<p.L?$*(0<p.Aa?2:1):0,je=(p.Aa==2?2:1)*$;if((M=F+832+(I=3*(16*C+To[p.L])/2*ne)+(R=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=M)C=0;else{if(M>p.Vb){if(p.Vb=0,p.Ec=i(M),p.Fc=0,p.Ec==null){C=pA(p,1,"no memory during frame initialization.");break e}p.Vb=M}M=p.Ec,K=p.Fc,p.Ac=M,p.Bc=K,K+=F,p.Gd=l(ne,HA),p.Hd=0,p.rb=l(we+1,qt),p.sb=1,p.wa=Le?l(Le,Ut):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=$),e(!0),p.oc=M,p.pc=K,K+=832,p.ya=l(je,AA),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=$),p.R=16*$,p.B=8*$,$=(ne=To[p.L])*p.R,ne=ne/2*p.B,p.sa=M,p.ta=K+$,p.qa=p.sa,p.ra=p.ta+16*C*p.R+ne,p.Ha=p.qa,p.Ia=p.ra+8*C*p.B+ne,p.$c=0,K+=I,p.mb=R?M:null,p.nb=R?K:null,e(K+R<=p.Fc+p.Vb),Tn(p),a(p.Ac,p.Bc,0,F),C=1}}if(C){if(v.ka=0,v.y=p.sa,v.O=p.ta,v.f=p.qa,v.N=p.ra,v.ea=p.Ha,v.Vd=p.Ia,v.fa=p.R,v.Rc=p.B,v.F=null,v.J=0,!Fc){for(C=-255;255>=C;++C)ki[255+C]=0>C?-C:C;for(C=-1020;1020>=C;++C)Qc[1020+C]=-128>C?-128:127<C?127:C;for(C=-112;112>=C;++C)Il[112+C]=-16>C?-16:15<C?15:C;for(C=-255;510>=C;++C)Tl[255+C]=0>C?0:255<C?255:C;Fc=1}pn=bc,ti=vc,ta=go,fs=qa,_n=bl,Ba=po,hs=Cl,Ai=Li,ri=Yu,On=Sl,Uo=El,Xn=Bo,Aa=_l,XA=Ec,ZA=yo,Fr=Os,Ir=cs,ra=xo,br[0]=os,br[1]=$u,br[2]=Ga,br[3]=Bc,br[4]=xl,br[5]=Dn,br[6]=za,br[7]=Qi,br[8]=Zs,br[9]=Fi,Nn[0]=Ui,Nn[1]=xc,Nn[2]=Ts,Nn[3]=mo,Nn[4]=ur,Nn[5]=yl,Nn[6]=vo,Ps[0]=Ds,Ps[1]=yc,Ps[2]=Bl,Ps[3]=Va,Ps[4]=Ya,Ps[5]=bo,Ps[6]=$r,C=1}else C=0}C&&(C=(function(_e,tt){for(_e.M=0;_e.M<_e.Va;++_e.M){var qe,ve=_e.Jc[_e.M&_e.Xb],xe=_e.m,Ze=_e;for(qe=0;qe<Ze.za;++qe){var nt=xe,Xe=Ze,bt=Xe.Ac,ft=Xe.Bc+4*qe,Kt=Xe.zc,gt=Xe.ya[Xe.aa+qe];if(Xe.Qa.Bb?gt.$b=ue(nt,Xe.Pa.jb[0])?2+ue(nt,Xe.Pa.jb[2]):ue(nt,Xe.Pa.jb[1]):gt.$b=0,Xe.kc&&(gt.Ad=ue(nt,Xe.Bd)),gt.Za=!ue(nt,145)+0,gt.Za){var DA=gt.Ob,xA=0;for(Xe=0;4>Xe;++Xe){var _A,cA=Kt[0+Xe];for(_A=0;4>_A;++_A){cA=on[bt[ft+_A]][cA];for(var PA=Oc[ue(nt,cA[0])];0<PA;)PA=Oc[2*PA+ue(nt,cA[PA])];cA=-PA,bt[ft+_A]=cA}n(DA,xA,bt,ft,4),xA+=4,Kt[0+Xe]=cA}}else cA=ue(nt,156)?ue(nt,128)?1:3:ue(nt,163)?2:0,gt.Ob[0]=cA,a(bt,ft,cA,4),a(Kt,0,cA,4);gt.Dd=ue(nt,142)?ue(nt,114)?ue(nt,183)?1:3:2:0}if(Ze.m.Ka)return pA(_e,7,"Premature end-of-partition0 encountered.");for(;_e.ja<_e.za;++_e.ja){if(Ze=ve,nt=(xe=_e).rb[xe.sb-1],bt=xe.rb[xe.sb+xe.ja],qe=xe.ya[xe.aa+xe.ja],ft=xe.kc?qe.Ad:0)nt.la=bt.la=0,qe.Za||(nt.Na=bt.Na=0),qe.Hc=0,qe.Gc=0,qe.ia=0;else{var OA,Zt;if(nt=bt,bt=Ze,ft=xe.Pa.Xc,Kt=xe.ya[xe.aa+xe.ja],gt=xe.pb[Kt.$b],Xe=Kt.ad,DA=0,xA=xe.rb[xe.sb-1],cA=_A=0,a(Xe,DA,0,384),Kt.Za)var VA=0,Yr=ft[3];else{PA=i(16);var yr=nt.Na+xA.Na;if(yr=es(bt,ft[1],yr,gt.Eb,0,PA,0),nt.Na=xA.Na=(0<yr)+0,1<yr)pn(PA,0,Xe,DA);else{var vn=PA[0]+3>>3;for(PA=0;256>PA;PA+=16)Xe[DA+PA]=vn}VA=1,Yr=ft[0]}var jA=15&nt.la,un=15&xA.la;for(PA=0;4>PA;++PA){var kn=1&un;for(vn=Zt=0;4>vn;++vn)jA=jA>>1|(kn=(yr=es(bt,Yr,yr=kn+(1&jA),gt.Sc,VA,Xe,DA))>VA)<<7,Zt=Zt<<2|(3<yr?3:1<yr?2:Xe[DA+0]!=0),DA+=16;jA>>=4,un=un>>1|kn<<7,_A=(_A<<8|Zt)>>>0}for(Yr=jA,VA=un>>4,OA=0;4>OA;OA+=2){for(Zt=0,jA=nt.la>>4+OA,un=xA.la>>4+OA,PA=0;2>PA;++PA){for(kn=1&un,vn=0;2>vn;++vn)yr=kn+(1&jA),jA=jA>>1|(kn=0<(yr=es(bt,ft[2],yr,gt.Qc,0,Xe,DA)))<<3,Zt=Zt<<2|(3<yr?3:1<yr?2:Xe[DA+0]!=0),DA+=16;jA>>=2,un=un>>1|kn<<5}cA|=Zt<<4*OA,Yr|=jA<<4<<OA,VA|=(240&un)<<OA}nt.la=Yr,xA.la=VA,Kt.Hc=_A,Kt.Gc=cA,Kt.ia=43690&cA?0:gt.ia,ft=!(_A|cA)}if(0<xe.L&&(xe.wa[xe.Y+xe.ja]=xe.gd[qe.$b][qe.Za],xe.wa[xe.Y+xe.ja].La|=!ft),Ze.Ka)return pA(_e,7,"Premature end-of-file encountered.")}if(Tn(_e),xe=tt,Ze=1,qe=(ve=_e).D,nt=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(qe.M=ve.M,qe.uc=nt,So(ve,qe),Ze=1,qe=(Zt=ve.D).Nb,nt=(cA=To[ve.L])*ve.R,bt=cA/2*ve.B,PA=16*qe*ve.R,vn=8*qe*ve.B,ft=ve.sa,Kt=ve.ta-nt+PA,gt=ve.qa,Xe=ve.ra-bt+vn,DA=ve.Ha,xA=ve.Ia-bt+vn,un=(jA=Zt.M)==0,_A=jA>=ve.Va-1,ve.Aa==2&&So(ve,Zt),Zt.uc)for(kn=(yr=ve).D.M,e(yr.D.uc),Zt=yr.yb;Zt<yr.Hb;++Zt){VA=Zt,Yr=kn;var Pr=(xr=(gr=yr).D).Nb;OA=gr.R;var xr=xr.wa[xr.Y+VA],Wr=gr.sa,ts=gr.ta+16*Pr*OA+16*VA,xs=xr.dd,Tr=xr.tc;if(Tr!=0)if(e(3<=Tr),gr.L==1)0<VA&&Fr(Wr,ts,OA,Tr+4),xr.La&&ra(Wr,ts,OA,Tr),0<Yr&&ZA(Wr,ts,OA,Tr+4),xr.La&&Ir(Wr,ts,OA,Tr);else{var Lr=gr.B,Jr=gr.qa,As=gr.ra+8*Pr*Lr+8*VA,aa=gr.Ha,gr=gr.Ia+8*Pr*Lr+8*VA;Pr=xr.ld,0<VA&&(Ai(Wr,ts,OA,Tr+4,xs,Pr),On(Jr,As,aa,gr,Lr,Tr+4,xs,Pr)),xr.La&&(Xn(Wr,ts,OA,Tr,xs,Pr),XA(Jr,As,aa,gr,Lr,Tr,xs,Pr)),0<Yr&&(hs(Wr,ts,OA,Tr+4,xs,Pr),ri(Jr,As,aa,gr,Lr,Tr+4,xs,Pr)),xr.La&&(Uo(Wr,ts,OA,Tr,xs,Pr),Aa(Jr,As,aa,gr,Lr,Tr,xs,Pr))}}if(ve.ia&&alert("todo:DitherRow"),xe.put!=null){if(Zt=16*jA,jA=16*(jA+1),un?(xe.y=ve.sa,xe.O=ve.ta+PA,xe.f=ve.qa,xe.N=ve.ra+vn,xe.ea=ve.Ha,xe.W=ve.Ia+vn):(Zt-=cA,xe.y=ft,xe.O=Kt,xe.f=gt,xe.N=Xe,xe.ea=DA,xe.W=xA),_A||(jA-=cA),jA>xe.o&&(jA=xe.o),xe.F=null,xe.J=null,ve.Fa!=null&&0<ve.Fa.length&&Zt<jA&&(xe.J=Co(ve,xe,Zt,jA-Zt),xe.F=ve.mb,xe.F==null&&xe.F.length==0)){Ze=pA(ve,3,"Could not decode alpha data.");break e}Zt<xe.j&&(cA=xe.j-Zt,Zt=xe.j,e(!(1&cA)),xe.O+=ve.R*cA,xe.N+=ve.B*(cA>>1),xe.W+=ve.B*(cA>>1),xe.F!=null&&(xe.J+=xe.width*cA)),Zt<jA&&(xe.O+=xe.v,xe.N+=xe.v>>1,xe.W+=xe.v>>1,xe.F!=null&&(xe.J+=xe.v),xe.ka=Zt-xe.j,xe.U=xe.va-xe.v,xe.T=jA-Zt,Ze=xe.put(xe))}qe+1!=ve.Ic||_A||(n(ve.sa,ve.ta-nt,ft,Kt+16*ve.R,nt),n(ve.qa,ve.ra-bt,gt,Xe+8*ve.B,bt),n(ve.Ha,ve.Ia-bt,DA,xA+8*ve.B,bt))}if(!Ze)return pA(_e,6,"Output aborted.")}return 1})(p,v)),v.bc!=null&&v.bc(v),C&=1}return C?(p.cb=0,C):0}function oA(p,v,C,F,I){I=p[v+C+32*F]+(I>>3),p[v+C+32*F]=-256&I?0>I?0:255:I}function JA(p,v,C,F,I,R){oA(p,v,0,C,F+I),oA(p,v,1,C,F+R),oA(p,v,2,C,F-R),oA(p,v,3,C,F-I)}function Rr(p){return(20091*p>>16)+p}function Hr(p,v,C,F){var I,R=0,M=i(16);for(I=0;4>I;++I){var K=p[v+0]+p[v+8],$=p[v+0]-p[v+8],ne=(35468*p[v+4]>>16)-Rr(p[v+12]),we=Rr(p[v+4])+(35468*p[v+12]>>16);M[R+0]=K+we,M[R+1]=$+ne,M[R+2]=$-ne,M[R+3]=K-we,R+=4,v++}for(I=R=0;4>I;++I)K=(p=M[R+0]+4)+M[R+8],$=p-M[R+8],ne=(35468*M[R+4]>>16)-Rr(M[R+12]),oA(C,F,0,0,K+(we=Rr(M[R+4])+(35468*M[R+12]>>16))),oA(C,F,1,0,$+ne),oA(C,F,2,0,$-ne),oA(C,F,3,0,K-we),R++,F+=32}function po(p,v,C,F){var I=p[v+0]+4,R=35468*p[v+4]>>16,M=Rr(p[v+4]),K=35468*p[v+1]>>16;JA(C,F,0,I+M,p=Rr(p[v+1]),K),JA(C,F,1,I+R,p,K),JA(C,F,2,I-R,p,K),JA(C,F,3,I-M,p,K)}function vc(p,v,C,F,I){Hr(p,v,C,F),I&&Hr(p,v+16,C,F+4)}function go(p,v,C,F){ti(p,v+0,C,F,1),ti(p,v+32,C,F+128,1)}function qa(p,v,C,F){var I;for(p=p[v+0]+4,I=0;4>I;++I)for(v=0;4>v;++v)oA(C,F,v,I,p)}function bl(p,v,C,F){p[v+0]&&fs(p,v+0,C,F),p[v+16]&&fs(p,v+16,C,F+4),p[v+32]&&fs(p,v+32,C,F+128),p[v+48]&&fs(p,v+48,C,F+128+4)}function bc(p,v,C,F){var I,R=i(16);for(I=0;4>I;++I){var M=p[v+0+I]+p[v+12+I],K=p[v+4+I]+p[v+8+I],$=p[v+4+I]-p[v+8+I],ne=p[v+0+I]-p[v+12+I];R[0+I]=M+K,R[8+I]=M-K,R[4+I]=ne+$,R[12+I]=ne-$}for(I=0;4>I;++I)M=(p=R[0+4*I]+3)+R[3+4*I],K=R[1+4*I]+R[2+4*I],$=R[1+4*I]-R[2+4*I],ne=p-R[3+4*I],C[F+0]=M+K>>3,C[F+16]=ne+$>>3,C[F+32]=M-K>>3,C[F+48]=ne-$>>3,F+=64}function Xs(p,v,C){var F,I=v-32,R=mn,M=255-p[I-1];for(F=0;F<C;++F){var K,$=R,ne=M+p[v-1];for(K=0;K<C;++K)p[v+K]=$[ne+p[I+K]];v+=32}}function $u(p,v){Xs(p,v,4)}function yc(p,v){Xs(p,v,8)}function xc(p,v){Xs(p,v,16)}function Ts(p,v){var C;for(C=0;16>C;++C)n(p,v+32*C,p,v-32,16)}function mo(p,v){var C;for(C=16;0<C;--C)a(p,v,p[v-1],16),v+=32}function wo(p,v,C){var F;for(F=0;16>F;++F)a(v,C+32*F,p,16)}function Ui(p,v){var C,F=16;for(C=0;16>C;++C)F+=p[v-1+32*C]+p[v+C-32];wo(F>>5,p,v)}function ur(p,v){var C,F=8;for(C=0;16>C;++C)F+=p[v-1+32*C];wo(F>>4,p,v)}function yl(p,v){var C,F=8;for(C=0;16>C;++C)F+=p[v+C-32];wo(F>>4,p,v)}function vo(p,v){wo(128,p,v)}function Wt(p,v,C){return p+2*v+C+2>>2}function Ga(p,v){var C,F=v-32;for(F=new Uint8Array([Wt(p[F-1],p[F+0],p[F+1]),Wt(p[F+0],p[F+1],p[F+2]),Wt(p[F+1],p[F+2],p[F+3]),Wt(p[F+2],p[F+3],p[F+4])]),C=0;4>C;++C)n(p,v+32*C,F,0,F.length)}function Bc(p,v){var C=p[v-1],F=p[v-1+32],I=p[v-1+64],R=p[v-1+96];Be(p,v+0,16843009*Wt(p[v-1-32],C,F)),Be(p,v+32,16843009*Wt(C,F,I)),Be(p,v+64,16843009*Wt(F,I,R)),Be(p,v+96,16843009*Wt(I,R,R))}function os(p,v){var C,F=4;for(C=0;4>C;++C)F+=p[v+C-32]+p[v-1+32*C];for(F>>=3,C=0;4>C;++C)a(p,v+32*C,F,4)}function xl(p,v){var C=p[v-1+0],F=p[v-1+32],I=p[v-1+64],R=p[v-1-32],M=p[v+0-32],K=p[v+1-32],$=p[v+2-32],ne=p[v+3-32];p[v+0+96]=Wt(F,I,p[v-1+96]),p[v+1+96]=p[v+0+64]=Wt(C,F,I),p[v+2+96]=p[v+1+64]=p[v+0+32]=Wt(R,C,F),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Wt(M,R,C),p[v+3+64]=p[v+2+32]=p[v+1+0]=Wt(K,M,R),p[v+3+32]=p[v+2+0]=Wt($,K,M),p[v+3+0]=Wt(ne,$,K)}function za(p,v){var C=p[v+1-32],F=p[v+2-32],I=p[v+3-32],R=p[v+4-32],M=p[v+5-32],K=p[v+6-32],$=p[v+7-32];p[v+0+0]=Wt(p[v+0-32],C,F),p[v+1+0]=p[v+0+32]=Wt(C,F,I),p[v+2+0]=p[v+1+32]=p[v+0+64]=Wt(F,I,R),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Wt(I,R,M),p[v+3+32]=p[v+2+64]=p[v+1+96]=Wt(R,M,K),p[v+3+64]=p[v+2+96]=Wt(M,K,$),p[v+3+96]=Wt(K,$,$)}function Dn(p,v){var C=p[v-1+0],F=p[v-1+32],I=p[v-1+64],R=p[v-1-32],M=p[v+0-32],K=p[v+1-32],$=p[v+2-32],ne=p[v+3-32];p[v+0+0]=p[v+1+64]=R+M+1>>1,p[v+1+0]=p[v+2+64]=M+K+1>>1,p[v+2+0]=p[v+3+64]=K+$+1>>1,p[v+3+0]=$+ne+1>>1,p[v+0+96]=Wt(I,F,C),p[v+0+64]=Wt(F,C,R),p[v+0+32]=p[v+1+96]=Wt(C,R,M),p[v+1+32]=p[v+2+96]=Wt(R,M,K),p[v+2+32]=p[v+3+96]=Wt(M,K,$),p[v+3+32]=Wt(K,$,ne)}function Qi(p,v){var C=p[v+0-32],F=p[v+1-32],I=p[v+2-32],R=p[v+3-32],M=p[v+4-32],K=p[v+5-32],$=p[v+6-32],ne=p[v+7-32];p[v+0+0]=C+F+1>>1,p[v+1+0]=p[v+0+64]=F+I+1>>1,p[v+2+0]=p[v+1+64]=I+R+1>>1,p[v+3+0]=p[v+2+64]=R+M+1>>1,p[v+0+32]=Wt(C,F,I),p[v+1+32]=p[v+0+96]=Wt(F,I,R),p[v+2+32]=p[v+1+96]=Wt(I,R,M),p[v+3+32]=p[v+2+96]=Wt(R,M,K),p[v+3+64]=Wt(M,K,$),p[v+3+96]=Wt(K,$,ne)}function Fi(p,v){var C=p[v-1+0],F=p[v-1+32],I=p[v-1+64],R=p[v-1+96];p[v+0+0]=C+F+1>>1,p[v+2+0]=p[v+0+32]=F+I+1>>1,p[v+2+32]=p[v+0+64]=I+R+1>>1,p[v+1+0]=Wt(C,F,I),p[v+3+0]=p[v+1+32]=Wt(F,I,R),p[v+3+32]=p[v+1+64]=Wt(I,R,R),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=R}function Zs(p,v){var C=p[v-1+0],F=p[v-1+32],I=p[v-1+64],R=p[v-1+96],M=p[v-1-32],K=p[v+0-32],$=p[v+1-32],ne=p[v+2-32];p[v+0+0]=p[v+2+32]=C+M+1>>1,p[v+0+32]=p[v+2+64]=F+C+1>>1,p[v+0+64]=p[v+2+96]=I+F+1>>1,p[v+0+96]=R+I+1>>1,p[v+3+0]=Wt(K,$,ne),p[v+2+0]=Wt(M,K,$),p[v+1+0]=p[v+3+32]=Wt(C,M,K),p[v+1+32]=p[v+3+64]=Wt(F,C,M),p[v+1+64]=p[v+3+96]=Wt(I,F,C),p[v+1+96]=Wt(R,I,F)}function Bl(p,v){var C;for(C=0;8>C;++C)n(p,v+32*C,p,v-32,8)}function Va(p,v){var C;for(C=0;8>C;++C)a(p,v,p[v-1],8),v+=32}function $a(p,v,C){var F;for(F=0;8>F;++F)a(v,C+32*F,p,8)}function Ds(p,v){var C,F=8;for(C=0;8>C;++C)F+=p[v+C-32]+p[v-1+32*C];$a(F>>4,p,v)}function bo(p,v){var C,F=4;for(C=0;8>C;++C)F+=p[v+C-32];$a(F>>3,p,v)}function Ya(p,v){var C,F=4;for(C=0;8>C;++C)F+=p[v-1+32*C];$a(F>>3,p,v)}function $r(p,v){$a(128,p,v)}function ls(p,v,C){var F=p[v-C],I=p[v+0],R=3*(I-F)+Ca[1020+p[v-2*C]-p[v+C]],M=Dl[112+(R+4>>3)];p[v-C]=mn[255+F+Dl[112+(R+3>>3)]],p[v+0]=mn[255+I-M]}function ji(p,v,C,F){var I=p[v+0],R=p[v+C];return an[255+p[v-2*C]-p[v-C]]>F||an[255+R-I]>F}function Wa(p,v,C,F){return 4*an[255+p[v-C]-p[v+0]]+an[255+p[v-2*C]-p[v+C]]<=F}function Cc(p,v,C,F,I){var R=p[v-3*C],M=p[v-2*C],K=p[v-C],$=p[v+0],ne=p[v+C],we=p[v+2*C],Le=p[v+3*C];return 4*an[255+K-$]+an[255+M-ne]>F?0:an[255+p[v-4*C]-R]<=I&&an[255+R-M]<=I&&an[255+M-K]<=I&&an[255+Le-we]<=I&&an[255+we-ne]<=I&&an[255+ne-$]<=I}function yo(p,v,C,F){var I=2*F+1;for(F=0;16>F;++F)Wa(p,v+F,C,I)&&ls(p,v+F,C)}function Os(p,v,C,F){var I=2*F+1;for(F=0;16>F;++F)Wa(p,v+F*C,1,I)&&ls(p,v+F*C,1)}function cs(p,v,C,F){var I;for(I=3;0<I;--I)yo(p,v+=4*C,C,F)}function xo(p,v,C,F){var I;for(I=3;0<I;--I)Os(p,v+=4,C,F)}function wa(p,v,C,F,I,R,M,K){for(R=2*R+1;0<I--;){if(Cc(p,v,C,R,M))if(ji(p,v,C,K))ls(p,v,C);else{var $=p,ne=v,we=C,Le=$[ne-2*we],je=$[ne-we],_e=$[ne+0],tt=$[ne+we],qe=$[ne+2*we],ve=27*(Ze=Ca[1020+3*(_e-je)+Ca[1020+Le-tt]])+63>>7,xe=18*Ze+63>>7,Ze=9*Ze+63>>7;$[ne-3*we]=mn[255+$[ne-3*we]+Ze],$[ne-2*we]=mn[255+Le+xe],$[ne-we]=mn[255+je+ve],$[ne+0]=mn[255+_e-ve],$[ne+we]=mn[255+tt-xe],$[ne+2*we]=mn[255+qe-Ze]}v+=F}}function ks(p,v,C,F,I,R,M,K){for(R=2*R+1;0<I--;){if(Cc(p,v,C,R,M))if(ji(p,v,C,K))ls(p,v,C);else{var $=p,ne=v,we=C,Le=$[ne-we],je=$[ne+0],_e=$[ne+we],tt=Dl[112+((qe=3*(je-Le))+4>>3)],qe=Dl[112+(qe+3>>3)],ve=tt+1>>1;$[ne-2*we]=mn[255+$[ne-2*we]+ve],$[ne-we]=mn[255+Le+qe],$[ne+0]=mn[255+je-tt],$[ne+we]=mn[255+_e-ve]}v+=F}}function Cl(p,v,C,F,I,R){wa(p,v,C,1,16,F,I,R)}function Li(p,v,C,F,I,R){wa(p,v,1,C,16,F,I,R)}function El(p,v,C,F,I,R){var M;for(M=3;0<M;--M)ks(p,v+=4*C,C,1,16,F,I,R)}function Bo(p,v,C,F,I,R){var M;for(M=3;0<M;--M)ks(p,v+=4,1,C,16,F,I,R)}function Yu(p,v,C,F,I,R,M,K){wa(p,v,I,1,8,R,M,K),wa(C,F,I,1,8,R,M,K)}function Sl(p,v,C,F,I,R,M,K){wa(p,v,1,I,8,R,M,K),wa(C,F,1,I,8,R,M,K)}function _l(p,v,C,F,I,R,M,K){ks(p,v+4*I,I,1,8,R,M,K),ks(C,F+4*I,I,1,8,R,M,K)}function Ec(p,v,C,F,I,R,M,K){ks(p,v+4,1,I,8,R,M,K),ks(C,F+4,1,I,8,R,M,K)}function Ii(){this.ba=new LA,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Nl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ul(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Sc(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ae,this.yc=new O}function Wu(){this.xb=this.a=0,this.l=new MA,this.ca=new LA,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Sc,this.ab=0,this.gc=l(4,Ul),this.Oc=0}function Ja(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new MA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ti(p,v,C,F,I,R,M){for(p=p==null?0:p[v+0],v=0;v<M;++v)I[R+v]=p+C[F+v]&255,p=I[R+v]}function Ql(p,v,C,F,I,R,M){var K;if(p==null)Ti(null,null,C,F,I,R,M);else for(K=0;K<M;++K)I[R+K]=p[v+K]+C[F+K]&255}function Xa(p,v,C,F,I,R,M){if(p==null)Ti(null,null,C,F,I,R,M);else{var K,$=p[v+0],ne=$,we=$;for(K=0;K<M;++K)ne=we+($=p[v+K])-ne,we=C[F+K]+(-256&ne?0>ne?0:255:ne)&255,ne=$,I[R+K]=we}}function Co(p,v,C,F){var I=v.width,R=v.o;if(e(p!=null&&v!=null),0>C||0>=F||C+F>R)return null;if(!p.Cc){if(p.ga==null){var M;if(p.ga=new Ja,(M=p.ga==null)||(M=v.width*v.o,e(p.Gb.length==0),p.Gb=i(M),p.Uc=0,p.Gb==null?M=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,M=1),M=!M),!M){M=p.ga;var K=p.Fa,$=p.P,ne=p.qc,we=p.mb,Le=p.nb,je=$+1,_e=ne-1,tt=M.l;if(e(K!=null&&we!=null&&v!=null),Ea[0]=null,Ea[1]=Ti,Ea[2]=Ql,Ea[3]=Xa,M.ca=we,M.tb=Le,M.c=v.width,M.i=v.height,e(0<M.c&&0<M.i),1>=ne)v=0;else if(M.$a=K[$+0]>>0&3,M.Z=K[$+0]>>2&3,M.Lc=K[$+0]>>4&3,$=K[$+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||$)v=0;else if(tt.put=ke,tt.ac=Ye,tt.bc=Se,tt.ma=M,tt.width=v.width,tt.height=v.height,tt.Da=v.Da,tt.v=v.v,tt.va=v.va,tt.j=v.j,tt.o=v.o,M.$a)e:{e(M.$a==1),v=nn();t:for(;;){if(v==null){v=0;break e}if(e(M!=null),M.mc=v,v.c=M.c,v.i=M.i,v.l=M.l,v.l.ma=M,v.l.width=M.c,v.l.height=M.i,v.a=0,le(v.m,K,je,_e),!as(M.c,M.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&zA(v.s)?(M.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=i(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(M.ic=0,v=Ls(v,M.c)),!v))break t;v=1;break e}M.mc=null,v=0}else v=_e>=M.c*M.i;M=!v}if(M)return null;p.ga.Lc!=1?p.Ga=0:F=R-C}e(p.ga!=null),e(C+F<=R);e:{if(v=(K=p.ga).c,R=K.l.o,K.$a==0){if(je=p.rc,_e=p.Vc,tt=p.Fa,$=p.P+1+C*v,ne=p.mb,we=p.nb+C*v,e($<=p.P+p.qc),K.Z!=0)for(e(Ea[K.Z]!=null),M=0;M<F;++M)Ea[K.Z](je,_e,tt,$,ne,we,v),je=ne,_e=we,we+=v,$+=v;else for(M=0;M<F;++M)n(ne,we,tt,$,v),je=ne,_e=we,we+=v,$+=v;p.rc=je,p.Vc=_e}else{if(e(K.mc!=null),v=C+F,e((M=K.mc)!=null),e(v<=M.i),M.C>=v)v=1;else if(K.ic||Fe(),K.ic){K=M.V,je=M.Ba,_e=M.c;var qe=M.i,ve=(tt=1,$=M.$/_e,ne=M.$%_e,we=M.m,Le=M.s,M.$),xe=_e*qe,Ze=_e*v,nt=Le.wc,Xe=ve<Ze?Tt(Le,ne,$):null;e(ve<=xe),e(v<=qe),e(zA(Le));t:for(;;){for(;!we.h&&ve<Ze;){if(ne&nt||(Xe=Tt(Le,ne,$)),e(Xe!=null),z(we),256>(qe=bA(Xe.G[0],Xe.H[0],we)))K[je+ve]=qe,++ve,++ne>=_e&&(ne=0,++$<=v&&!($%16)&&TA(M,$));else{if(!(280>qe)){tt=0;break t}qe=Ot(qe-256,we);var bt,ft=bA(Xe.G[4],Xe.H[4],we);if(z(we),!(ve>=(ft=Vt(_e,ft=Ot(ft,we)))&&xe-ve>=qe)){tt=0;break t}for(bt=0;bt<qe;++bt)K[je+ve+bt]=K[je+ve+bt-ft];for(ve+=qe,ne+=qe;ne>=_e;)ne-=_e,++$<=v&&!($%16)&&TA(M,$);ve<Ze&&ne&nt&&(Xe=Tt(Le,ne,$))}e(we.h==P(we))}TA(M,$>v?v:$);break t}!tt||we.h&&ve<xe?(tt=0,M.a=we.h?5:3):M.$=ve,v=tt}else v=cr(M,M.V,M.Ba,M.c,M.i,v,$n);if(!v){F=0;break e}}C+F>=R&&(p.Cc=1),F=1}if(!F)return null;if(p.Cc&&((F=p.ga)!=null&&(F.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+C*I}function B(p,v,C,F,I,R){for(;0<I--;){var M,K=p,$=v+(C?1:0),ne=p,we=v+(C?0:3);for(M=0;M<F;++M){var Le=ne[we+4*M];Le!=255&&(Le*=32897,K[$+4*M+0]=K[$+4*M+0]*Le>>23,K[$+4*M+1]=K[$+4*M+1]*Le>>23,K[$+4*M+2]=K[$+4*M+2]*Le>>23)}v+=R}}function T(p,v,C,F,I){for(;0<F--;){var R;for(R=0;R<C;++R){var M=p[v+2*R+0],K=15&(ne=p[v+2*R+1]),$=4369*K,ne=(240&ne|ne>>4)*$>>16;p[v+2*R+0]=(240&M|M>>4)*$>>16&240|(15&M|M<<4)*$>>16>>4&15,p[v+2*R+1]=240&ne|K}v+=I}}function oe(p,v,C,F,I,R,M,K){var $,ne,we=255;for(ne=0;ne<I;++ne){for($=0;$<F;++$){var Le=p[v+$];R[M+4*$]=Le,we&=Le}v+=C,M+=K}return we!=255}function ge(p,v,C,F,I){var R;for(R=0;R<I;++R)C[F+R]=p[v+R]>>8}function Fe(){na=B,gn=T,Oi=oe,Zn=ge}function Ve(p,v,C){V[p]=function(F,I,R,M,K,$,ne,we,Le,je,_e,tt,qe,ve,xe,Ze,nt){var Xe,bt=nt-1>>1,ft=K[$+0]|ne[we+0]<<16,Kt=Le[je+0]|_e[tt+0]<<16;e(F!=null);var gt=3*ft+Kt+131074>>2;for(v(F[I+0],255&gt,gt>>16,qe,ve),R!=null&&(gt=3*Kt+ft+131074>>2,v(R[M+0],255&gt,gt>>16,xe,Ze)),Xe=1;Xe<=bt;++Xe){var DA=K[$+Xe]|ne[we+Xe]<<16,xA=Le[je+Xe]|_e[tt+Xe]<<16,_A=ft+DA+Kt+xA+524296,cA=_A+2*(DA+Kt)>>3;gt=cA+ft>>1,ft=(_A=_A+2*(ft+xA)>>3)+DA>>1,v(F[I+2*Xe-1],255&gt,gt>>16,qe,ve+(2*Xe-1)*C),v(F[I+2*Xe-0],255&ft,ft>>16,qe,ve+(2*Xe-0)*C),R!=null&&(gt=_A+Kt>>1,ft=cA+xA>>1,v(R[M+2*Xe-1],255&gt,gt>>16,xe,Ze+(2*Xe-1)*C),v(R[M+2*Xe+0],255&ft,ft>>16,xe,Ze+(2*Xe+0)*C)),ft=DA,Kt=xA}1&nt||(gt=3*ft+Kt+131074>>2,v(F[I+nt-1],255&gt,gt>>16,qe,ve+(nt-1)*C),R!=null&&(gt=3*Kt+ft+131074>>2,v(R[M+nt-1],255&gt,gt>>16,xe,Ze+(nt-1)*C)))}}function lt(){ln[jc]=Hi,ln[wn]=Lo,ln[Lc]=ed,ln[ps]=kc,ln[Ol]=ii,ln[Qo]=sa,ln[ni]=oi,ln[kl]=Lo,ln[Ic]=kc,ln[Fo]=ii,ln[Tc]=sa}function yt(p){return p&-16384?0>p?0:255:p>>Rc}function Gt(p,v){return yt((19077*p>>8)+(26149*v>>8)-14234)}function sA(p,v,C){return yt((19077*p>>8)-(6419*v>>8)-(13320*C>>8)+8708)}function lA(p,v){return yt((19077*p>>8)+(33050*v>>8)-17685)}function SA(p,v,C,F,I){F[I+0]=Gt(p,C),F[I+1]=sA(p,v,C),F[I+2]=lA(p,v)}function dr(p,v,C,F,I){F[I+0]=lA(p,v),F[I+1]=sA(p,v,C),F[I+2]=Gt(p,C)}function pr(p,v,C,F,I){var R=sA(p,v,C);v=R<<3&224|lA(p,v)>>3,F[I+0]=248&Gt(p,C)|R>>5,F[I+1]=v}function Qr(p,v,C,F,I){var R=240&lA(p,v)|15;F[I+0]=240&Gt(p,C)|sA(p,v,C)>>4,F[I+1]=R}function sn(p,v,C,F,I){F[I+0]=255,SA(p,v,C,F,I+1)}function Mr(p,v,C,F,I){dr(p,v,C,F,I),F[I+3]=255}function hn(p,v,C,F,I){SA(p,v,C,F,I),F[I+3]=255}function Wn(p,v){return 0>p?0:p>v?v:p}function va(p,v,C){V[p]=function(F,I,R,M,K,$,ne,we,Le){for(var je=we+(-2&Le)*C;we!=je;)v(F[I+0],R[M+0],K[$+0],ne,we),v(F[I+1],R[M+0],K[$+0],ne,we+C),I+=2,++M,++$,we+=2*C;1&Le&&v(F[I+0],R[M+0],K[$+0],ne,we)}}function _c(p,v,C){return C==0?p==0?v==0?6:5:v==0?4:0:C}function Eo(p,v,C,F,I){switch(p>>>30){case 3:ti(v,C,F,I,0);break;case 2:Ba(v,C,F,I);break;case 1:fs(v,C,F,I)}}function So(p,v){var C,F,I=v.M,R=v.Nb,M=p.oc,K=p.pc+40,$=p.oc,ne=p.pc+584,we=p.oc,Le=p.pc+600;for(C=0;16>C;++C)M[K+32*C-1]=129;for(C=0;8>C;++C)$[ne+32*C-1]=129,we[Le+32*C-1]=129;for(0<I?M[K-1-32]=$[ne-1-32]=we[Le-1-32]=129:(a(M,K-32-1,127,21),a($,ne-32-1,127,9),a(we,Le-32-1,127,9)),F=0;F<p.za;++F){var je=v.ya[v.aa+F];if(0<F){for(C=-1;16>C;++C)n(M,K+32*C-4,M,K+32*C+12,4);for(C=-1;8>C;++C)n($,ne+32*C-4,$,ne+32*C+4,4),n(we,Le+32*C-4,we,Le+32*C+4,4)}var _e=p.Gd,tt=p.Hd+F,qe=je.ad,ve=je.Hc;if(0<I&&(n(M,K-32,_e[tt].y,0,16),n($,ne-32,_e[tt].f,0,8),n(we,Le-32,_e[tt].ea,0,8)),je.Za){var xe=M,Ze=K-32+16;for(0<I&&(F>=p.za-1?a(xe,Ze,_e[tt].y[15],4):n(xe,Ze,_e[tt+1].y,0,4)),C=0;4>C;C++)xe[Ze+128+C]=xe[Ze+256+C]=xe[Ze+384+C]=xe[Ze+0+C];for(C=0;16>C;++C,ve<<=2)xe=M,Ze=K+jr[C],br[je.Ob[C]](xe,Ze),Eo(ve,qe,16*+C,xe,Ze)}else if(xe=_c(F,I,je.Ob[0]),Nn[xe](M,K),ve!=0)for(C=0;16>C;++C,ve<<=2)Eo(ve,qe,16*+C,M,K+jr[C]);for(C=je.Gc,xe=_c(F,I,je.Dd),Ps[xe]($,ne),Ps[xe](we,Le),ve=qe,xe=$,Ze=ne,255&(je=C>>0)&&(170&je?ta(ve,256,xe,Ze):_n(ve,256,xe,Ze)),je=we,ve=Le,255&(C>>=8)&&(170&C?ta(qe,320,je,ve):_n(qe,320,je,ve)),I<p.Ub-1&&(n(_e[tt].y,0,M,K+480,16),n(_e[tt].f,0,$,ne+224,8),n(_e[tt].ea,0,we,Le+224,8)),C=8*R*p.B,_e=p.sa,tt=p.ta+16*F+16*R*p.R,qe=p.qa,je=p.ra+8*F+C,ve=p.Ha,xe=p.Ia+8*F+C,C=0;16>C;++C)n(_e,tt+C*p.R,M,K+32*C,16);for(C=0;8>C;++C)n(qe,je+C*p.B,$,ne+32*C,8),n(ve,xe+C*p.B,we,Le+32*C,8)}}function ea(p,v,C,F,I,R,M,K,$){var ne=[0],we=[0],Le=0,je=$!=null?$.kd:0,_e=$??new Nl;if(p==null||12>C)return 7;_e.data=p,_e.w=v,_e.ha=C,v=[v],C=[C],_e.gb=[_e.gb];e:{var tt=v,qe=C,ve=_e.gb;if(e(p!=null),e(qe!=null),e(ve!=null),ve[0]=0,12<=qe[0]&&!t(p,tt[0],"RIFF")){if(t(p,tt[0]+8,"WEBP")){ve=3;break e}var xe=ot(p,tt[0]+4);if(12>xe||4294967286<xe){ve=3;break e}if(je&&xe>qe[0]-8){ve=7;break e}ve[0]=xe,tt[0]+=12,qe[0]-=12}ve=0}if(ve!=0)return ve;for(xe=0<_e.gb[0],C=C[0];;){e:{var Ze=p;qe=v,ve=C;var nt=ne,Xe=we,bt=tt=[0];if((gt=Le=[Le])[0]=0,8>ve[0])ve=7;else{if(!t(Ze,qe[0],"VP8X")){if(ot(Ze,qe[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var ft=ot(Ze,qe[0]+8),Kt=1+Pe(Ze,qe[0]+12);if(2147483648<=Kt*(Ze=1+Pe(Ze,qe[0]+15))){ve=3;break e}bt!=null&&(bt[0]=ft),nt!=null&&(nt[0]=Kt),Xe!=null&&(Xe[0]=Ze),qe[0]+=18,ve[0]-=18,gt[0]=1}ve=0}}if(Le=Le[0],tt=tt[0],ve!=0)return ve;if(qe=!!(2&tt),!xe&&Le)return 3;if(R!=null&&(R[0]=!!(16&tt)),M!=null&&(M[0]=qe),K!=null&&(K[0]=0),M=ne[0],tt=we[0],Le&&qe&&$==null){ve=0;break}if(4>C){ve=7;break}if(xe&&Le||!xe&&!Le&&!t(p,v[0],"ALPH")){C=[C],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{ft=p,ve=v,xe=C;var gt=_e.gb;nt=_e.na,Xe=_e.P,bt=_e.Sa,Kt=22,e(ft!=null),e(xe!=null),Ze=ve[0];var DA=xe[0];for(e(nt!=null),e(bt!=null),nt[0]=null,Xe[0]=null,bt[0]=0;;){if(ve[0]=Ze,xe[0]=DA,8>DA){ve=7;break e}var xA=ot(ft,Ze+4);if(4294967286<xA){ve=3;break e}var _A=8+xA+1&-2;if(Kt+=_A,0<gt&&Kt>gt){ve=3;break e}if(!t(ft,Ze,"VP8 ")||!t(ft,Ze,"VP8L")){ve=0;break e}if(DA[0]<_A){ve=7;break e}t(ft,Ze,"ALPH")||(nt[0]=ft,Xe[0]=Ze+8,bt[0]=xA),Ze+=_A,DA-=_A}}if(C=C[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],ve!=0)break}C=[C],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(gt=p,ve=v,xe=C,nt=_e.gb[0],Xe=_e.Ja,bt=_e.xa,ft=ve[0],Ze=!t(gt,ft,"VP8 "),Kt=!t(gt,ft,"VP8L"),e(gt!=null),e(xe!=null),e(Xe!=null),e(bt!=null),8>xe[0])ve=7;else{if(Ze||Kt){if(gt=ot(gt,ft+4),12<=nt&&gt>nt-12){ve=3;break e}if(je&&gt>xe[0]-8){ve=7;break e}Xe[0]=gt,ve[0]+=8,xe[0]-=8,bt[0]=Kt}else bt[0]=5<=xe[0]&&gt[ft+0]==47&&!(gt[ft+4]>>5),Xe[0]=xe[0];ve=0}if(C=C[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],v=v[0],ve!=0)break;if(4294967286<_e.Ja)return 3;if(K==null||qe||(K[0]=_e.xa?2:1),M=[M],tt=[tt],_e.xa){if(5>C){ve=7;break}K=M,je=tt,qe=R,p==null||5>C?p=0:5<=C&&p[v+0]==47&&!(p[v+4]>>5)?(xe=[0],gt=[0],nt=[0],le(Xe=new N,p,v,C),$e(Xe,xe,gt,nt)?(K!=null&&(K[0]=xe[0]),je!=null&&(je[0]=gt[0]),qe!=null&&(qe[0]=nt[0]),p=1):p=0):p=0}else{if(10>C){ve=7;break}K=tt,p==null||10>C||!hA(p,v+3,C-3)?p=0:(je=p[v+0]|p[v+1]<<8|p[v+2]<<16,qe=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=_e.Ja||!qe||!p?p=0:(M&&(M[0]=qe),K&&(K[0]=p),p=1))}if(!p||(M=M[0],tt=tt[0],Le&&(ne[0]!=M||we[0]!=tt)))return 3;$!=null&&($[0]=_e,$.offset=v-$.w,e(4294967286>v-$.w),e($.offset==$.ha-C));break}return ve==0||ve==7&&Le&&$==null?(R!=null&&(R[0]|=_e.na!=null&&0<_e.na.length),F!=null&&(F[0]=M),I!=null&&(I[0]=tt),0):ve}function ba(p,v,C){var F=v.width,I=v.height,R=0,M=0,K=F,$=I;if(v.Da=p!=null&&0<p.Da,v.Da&&(K=p.cd,$=p.bd,R=p.v,M=p.j,11>C||(R&=-2,M&=-2),0>R||0>M||0>=K||0>=$||R+K>F||M+$>I))return 0;if(v.v=R,v.j=M,v.va=R+K,v.o=M+$,v.U=K,v.T=$,v.da=p!=null&&0<p.da,v.da){if(!Qt(K,$,C=[p.ib],R=[p.hb]))return 0;v.ib=C[0],v.hb=R[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*F/4&&v.hb<3*I/4,v.Kb=0),1}function Fl(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function ya(p,v,C,F){if(F==null||0>=p||0>=v)return 2;if(C!=null){if(C.Da){var I=C.cd,R=C.bd,M=-2&C.v,K=-2&C.j;if(0>M||0>K||0>=I||0>=R||M+I>p||K+R>v)return 2;p=I,v=R}if(C.da){if(!Qt(p,v,I=[C.ib],R=[C.hb]))return 2;p=I[0],v=R[0]}}F.width=p,F.height=v;e:{var $=F.width,ne=F.height;if(p=F.S,0>=$||0>=ne||!(p>=jc&&13>p))p=2;else{if(0>=F.Rd&&F.sd==null){M=R=I=v=0;var we=(K=$*Mc[p])*ne;if(11>p||(R=(ne+1)/2*(v=($+1)/2),p==12&&(M=(I=$)*ne)),(ne=i(we+2*R+M))==null){p=1;break e}F.sd=ne,11>p?(($=F.f.RGBA).eb=ne,$.fb=0,$.A=K,$.size=we):(($=F.f.kb).y=ne,$.O=0,$.fa=K,$.Fd=we,$.f=ne,$.N=0+we,$.Ab=v,$.Cd=R,$.ea=ne,$.W=0+we+R,$.Db=v,$.Ed=R,p==12&&($.F=ne,$.J=0+we+2*R),$.Tc=M,$.lb=I)}if(v=1,I=F.S,R=F.width,M=F.height,I>=jc&&13>I)if(11>I)p=F.f.RGBA,v&=(K=Math.abs(p.A))*(M-1)+R<=p.size,v&=K>=R*Mc[I],v&=p.eb!=null;else{p=F.f.kb,K=(R+1)/2,we=(M+1)/2,$=Math.abs(p.fa),ne=Math.abs(p.Ab);var Le=Math.abs(p.Db),je=Math.abs(p.lb),_e=je*(M-1)+R;v&=$*(M-1)+R<=p.Fd,v&=ne*(we-1)+K<=p.Cd,v=(v&=Le*(we-1)+K<=p.Ed)&$>=R&ne>=K&Le>=K,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,I==12&&(v&=je>=R,v&=_e<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||C!=null&&C.fd&&(p=Fl(F)),p}var Cn=64,Di=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Za=24,ei=32,_o=8,En=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];fe("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(p){return p},V.Predictor2=function(p,v,C){return v[C+0]},V.Predictor3=function(p,v,C){return v[C+1]},V.Predictor4=function(p,v,C){return v[C-1]},V.Predictor5=function(p,v,C){return Ge(Ge(p,v[C+1]),v[C+0])},V.Predictor6=function(p,v,C){return Ge(p,v[C-1])},V.Predictor7=function(p,v,C){return Ge(p,v[C+0])},V.Predictor8=function(p,v,C){return Ge(v[C-1],v[C+0])},V.Predictor9=function(p,v,C){return Ge(v[C+0],v[C+1])},V.Predictor10=function(p,v,C){return Ge(Ge(p,v[C-1]),Ge(v[C+0],v[C+1]))},V.Predictor11=function(p,v,C){var F=v[C+0];return 0>=It(F>>24&255,p>>24&255,(v=v[C-1])>>24&255)+It(F>>16&255,p>>16&255,v>>16&255)+It(F>>8&255,p>>8&255,v>>8&255)+It(255&F,255&p,255&v)?F:p},V.Predictor12=function(p,v,C){var F=v[C+0];return(at((p>>24&255)+(F>>24&255)-((v=v[C-1])>>24&255))<<24|at((p>>16&255)+(F>>16&255)-(v>>16&255))<<16|at((p>>8&255)+(F>>8&255)-(v>>8&255))<<8|at((255&p)+(255&F)-(255&v)))>>>0},V.Predictor13=function(p,v,C){var F=v[C-1];return(ct((p=Ge(p,v[C+0]))>>24&255,F>>24&255)<<24|ct(p>>16&255,F>>16&255)<<16|ct(p>>8&255,F>>8&255)<<8|ct(p>>0&255,F>>0&255))>>>0};var Nc=V.PredictorAdd0;V.PredictorAdd1=St,fe("Predictor2","PredictorAdd2"),fe("Predictor3","PredictorAdd3"),fe("Predictor4","PredictorAdd4"),fe("Predictor5","PredictorAdd5"),fe("Predictor6","PredictorAdd6"),fe("Predictor7","PredictorAdd7"),fe("Predictor8","PredictorAdd8"),fe("Predictor9","PredictorAdd9"),fe("Predictor10","PredictorAdd10"),fe("Predictor11","PredictorAdd11"),fe("Predictor12","PredictorAdd12"),fe("Predictor13","PredictorAdd13");var jl=V.PredictorAdd2;zt("ColorIndexInverseTransform","MapARGB","32b",(function(p){return p>>8&255}),(function(p){return p})),zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(p){return p}),(function(p){return p>>8&255}));var Uc,Rs=V.ColorIndexInverseTransform,Ll=V.MapARGB,Ju=V.VP8LColorIndexInverseTransformAlpha,Sn=V.MapAlpha,us=V.VP8LPredictorsAdd=[];us.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var Jn,ds,xa,Hs,Ms,No,pn,ti,Ba,ta,fs,_n,hs,Ai,ri,On,Uo,Xn,Aa,XA,ZA,Fr,Ir,ra,na,gn,Oi,Zn,ki=i(511),Qc=i(2041),Il=i(225),Tl=i(767),Fc=0,Ca=Qc,Dl=Il,mn=Tl,an=ki,jc=0,wn=1,Lc=2,ps=3,Ol=4,Qo=5,ni=6,kl=7,Ic=8,Fo=9,Tc=10,gs=[2,3,7],jo=[3,3,11],Ri=[280,256,256,256,40],Dc=[0,1,1,1,0],Rl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ms=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ws=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],si=8,vs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],es=null,xf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Oc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],on=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ar=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Nn=[],br=[],Ps=[],ai=1,Zu=2,Ea=[],ln=[];Ve("UpsampleRgbLinePair",SA,3),Ve("UpsampleBgrLinePair",dr,3),Ve("UpsampleRgbaLinePair",hn,4),Ve("UpsampleBgraLinePair",Mr,4),Ve("UpsampleArgbLinePair",sn,4),Ve("UpsampleRgba4444LinePair",Qr,2),Ve("UpsampleRgb565LinePair",pr,2);var Hi=V.UpsampleRgbLinePair,ed=V.UpsampleBgrLinePair,Lo=V.UpsampleRgbaLinePair,kc=V.UpsampleBgraLinePair,ii=V.UpsampleArgbLinePair,sa=V.UpsampleRgba4444LinePair,oi=V.UpsampleRgb565LinePair,ys=16,Io=1<<ys-1,Mi=-227,li=482,Rc=6,ci=0,cn=i(256),Hc=i(256),Cf=i(256),ap=i(256),ip=i(li-Mi),op=i(li-Mi);va("YuvToRgbRow",SA,3),va("YuvToBgrRow",dr,3),va("YuvToRgbaRow",hn,4),va("YuvToBgraRow",Mr,4),va("YuvToArgbRow",sn,4),va("YuvToRgba4444Row",Qr,2),va("YuvToRgb565Row",pr,2);var jr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],To=[0,2,8],Hl=[8,7,6,4,4,2,2,2,1,1,1,1],Ml=1;this.WebPDecodeRGBA=function(p,v,C,F,I){var R=wn,M=new Ii,K=new LA;M.ba=K,K.S=R,K.width=[K.width],K.height=[K.height];var $=K.width,ne=K.height,we=new wA;if(we==null||p==null)var Le=2;else e(we!=null),Le=ea(p,v,C,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Le!=0?$=0:($!=null&&($[0]=we.width[0]),ne!=null&&(ne[0]=we.height[0]),$=1),$){K.width=K.width[0],K.height=K.height[0],F!=null&&(F[0]=K.width),I!=null&&(I[0]=K.height);e:{if(F=new MA,(I=new Nl).data=p,I.w=v,I.ha=C,I.kd=1,v=[0],e(I!=null),((p=ea(I.data,I.w,I.ha,null,null,null,v,null,I))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(M!=null),F.data=I.data,F.w=I.w+I.offset,F.ha=I.ha-I.offset,F.put=ke,F.ac=Ye,F.bc=Se,F.ma=M,I.xa){if((p=nn())==null){M=1;break e}if((function(je,_e){var tt=[0],qe=[0],ve=[0];t:for(;;){if(je==null)return 0;if(_e==null)return je.a=2,0;if(je.l=_e,je.a=0,le(je.m,_e.data,_e.w,_e.ha),!$e(je.m,tt,qe,ve)){je.a=3;break t}if(je.xb=Zu,_e.width=tt[0],_e.height=qe[0],!as(tt[0],qe[0],1,je,null))break t;return 1}return e(je.a!=0),0})(p,F)){if(F=(v=ya(F.width,F.height,M.Oa,M.ba))==0){t:{F=p;A:for(;;){if(F==null){F=0;break t}if(e(F.s.yc!=null),e(F.s.Ya!=null),e(0<F.s.Wb),e((C=F.l)!=null),e((I=C.ma)!=null),F.xb!=0){if(F.ca=I.ba,F.tb=I.tb,e(F.ca!=null),!ba(I.Oa,C,ps)){F.a=2;break A}if(!Ls(F,C.width)||C.da)break A;if((C.da||Xt(F.ca.S))&&Fe(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&Fe()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!ut(F.s.vb,F.s.Wa.Xa)){F.a=1;break A}F.xb=0}if(!cr(F,F.V,F.Ba,F.c,F.i,C.o,kr))break A;I.Dc=F.Ma,F=1;break t}e(F.a!=0),F=0}F=!F}F&&(v=p.a)}else v=p.a}else{if((p=new Yn)==null){M=1;break e}if(p.Fa=I.na,p.P=I.P,p.qc=I.Sa,nA(p,F)){if((v=ya(F.width,F.height,M.Oa,M.ba))==0){if(p.Aa=0,C=M.Oa,e((I=p)!=null),C!=null){if(0<($=0>($=C.Md)?0:100<$?255:255*$/100)){for(ne=we=0;4>ne;++ne)12>(Le=I.pb[ne]).lc&&(Le.ia=$*Hl[0>Le.lc?0:Le.lc]>>3),we|=Le.ia;we&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=C.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}is(p,F)||(v=p.a)}}else v=p.a}v==0&&M.Oa!=null&&M.Oa.fd&&(v=Fl(M.ba))}M=v}R=M!=0?null:11>R?K.f.RGBA.eb:K.f.kb.y}else R=null;return R};var Mc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(V,ae){for(var me="",D=0;D<4;D++)me+=String.fromCharCode(V[ae++]);return me}function g(V,ae){return(V[ae+0]<<0|V[ae+1]<<8|V[ae+2]<<16)>>>0}function b(V,ae){return(V[ae+0]<<0|V[ae+1]<<8|V[ae+2]<<16|V[ae+3]<<24)>>>0}new d;var x=[0],w=[0],S=[],E=new d,U=A,_=(function(V,ae){var me={},D=0,O=!1,Y=0,Ae=0;if(me.frames=[],!(function(k,P,G,z){for(var ie=0;ie<z;ie++)if(k[P+ie]!=G.charCodeAt(ie))return!0;return!1})(V,ae,"RIFF",4)){var Ce,ee;for(b(V,ae+=4),ae+=8;ae<V.length;){var ce=h(V,ae),le=b(V,ae+=4);ae+=4;var Ne=le+(1&le);switch(ce){case"VP8 ":case"VP8L":me.frames[D]===void 0&&(me.frames[D]={}),(N=me.frames[D]).src_off=O?Ae:ae-8,N.src_size=Y+le+8,D++,O&&(O=!1,Y=0,Ae=0);break;case"VP8X":(N=me.header={}).feature_flags=V[ae];var te=ae+4;N.canvas_width=1+g(V,te),te+=3,N.canvas_height=1+g(V,te),te+=3;break;case"ALPH":O=!0,Y=Ne+8,Ae=ae-8;break;case"ANIM":(N=me.header).bgcolor=b(V,ae),te=ae+4,N.loop_count=(Ce=V)[(ee=te)+0]<<0|Ce[ee+1]<<8,te+=2;break;case"ANMF":var H,N;(N=me.frames[D]={}).offset_x=2*g(V,ae),ae+=3,N.offset_y=2*g(V,ae),ae+=3,N.width=1+g(V,ae),ae+=3,N.height=1+g(V,ae),ae+=3,N.duration=g(V,ae),ae+=3,H=V[ae++],N.dispose=1&H,N.blend=H>>1&1}ce!="ANMF"&&(ae+=Ne)}return me}})(U,0);_.response=U,_.rgbaoutput=!0,_.dataurl=!1;var Q=_.header?_.header:null,L=_.frames?_.frames:null;if(Q){Q.loop_counter=Q.loop_count,x=[Q.canvas_height],w=[Q.canvas_width];for(var W=0;W<L.length&&L[W].blend!=0;W++);}var X=L[0],re=E.WebPDecodeRGBA(U,X.src_off,X.src_size,w,x);X.rgba=re,X.imgwidth=w[0],X.imgheight=x[0];for(var J=0;J<w[0]*x[0]*4;J++)S[J]=re[J];return this.width=w,this.height=x,this.data=S,this}(function(A){var e=function(){return typeof e1=="function"},t=function(x,w,S,E){var U=4,_=l;switch(E){case A.image_compression.FAST:U=1,_=i;break;case A.image_compression.MEDIUM:U=6,_=f;break;case A.image_compression.SLOW:U=9,_=d}x=n(x,w,S,_);var Q=e1(x,{level:U});return A.__addimage__.arrayBufferToBinaryString(Q)},n=function(x,w,S,E){for(var U,_,Q,L=x.length/w,W=new Uint8Array(x.length+L),X=g(),re=0;re<L;re+=1){if(Q=re*w,U=x.subarray(Q,Q+w),E)W.set(E(U,S,_),Q+re);else{for(var J,V=X.length,ae=[];J<V;J+=1)ae[J]=X[J](U,S,_);var me=b(ae.concat());W.set(ae[me],Q+re)}_=U}return W},a=function(x){var w=Array.apply([],x);return w.unshift(0),w},i=function(x,w){var S,E=[],U=x.length;E[0]=1;for(var _=0;_<U;_+=1)S=x[_-w]||0,E[_+1]=x[_]-S+256&255;return E},l=function(x,w,S){var E,U=[],_=x.length;U[0]=2;for(var Q=0;Q<_;Q+=1)E=S&&S[Q]||0,U[Q+1]=x[Q]-E+256&255;return U},f=function(x,w,S){var E,U,_=[],Q=x.length;_[0]=3;for(var L=0;L<Q;L+=1)E=x[L-w]||0,U=S&&S[L]||0,_[L+1]=x[L]+256-(E+U>>>1)&255;return _},d=function(x,w,S){var E,U,_,Q,L=[],W=x.length;L[0]=4;for(var X=0;X<W;X+=1)E=x[X-w]||0,U=S&&S[X]||0,_=S&&S[X-w]||0,Q=h(E,U,_),L[X+1]=x[X]-Q+256&255;return L},h=function(x,w,S){if(x===w&&w===S)return x;var E=Math.abs(w-S),U=Math.abs(x-S),_=Math.abs(x+w-S-S);return E<=U&&E<=_?x:U<=_?w:S},g=function(){return[a,i,l,f,d]},b=function(x){var w=x.map((function(S){return S.reduce((function(E,U){return E+Math.abs(U)}),0)}));return w.indexOf(Math.min.apply(null,w))};A.processPNG=function(x,w,S,E){var U,_,Q,L,W,X,re,J,V,ae,me,D,O,Y,Ae,Ce=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(Q=new T6(x)).imgData,_=Q.bits,U=Q.colorSpace,W=Q.colors,[4,6].indexOf(Q.colorType)!==-1){if(Q.bits===8){V=(J=Q.pixelBitlength==32?new Uint32Array(Q.decodePixels().buffer):Q.pixelBitlength==16?new Uint16Array(Q.decodePixels().buffer):new Uint8Array(Q.decodePixels().buffer)).length,me=new Uint8Array(V*Q.colors),ae=new Uint8Array(V);var ce,le=Q.pixelBitlength-Q.bits;for(Y=0,Ae=0;Y<V;Y++){for(O=J[Y],ce=0;ce<le;)me[Ae++]=O>>>ce&255,ce+=Q.bits;ae[Y]=O>>>ce&255}}if(Q.bits===16){V=(J=new Uint32Array(Q.decodePixels().buffer)).length,me=new Uint8Array(V*(32/Q.pixelBitlength)*Q.colors),ae=new Uint8Array(V*(32/Q.pixelBitlength)),D=Q.colors>1,Y=0,Ae=0;for(var Ne=0;Y<V;)O=J[Y++],me[Ae++]=O>>>0&255,D&&(me[Ae++]=O>>>16&255,O=J[Y++],me[Ae++]=O>>>0&255),ae[Ne++]=O>>>16&255;_=8}E!==A.image_compression.NONE&&e()?(x=t(me,Q.width*Q.colors,Q.colors,E),re=t(ae,Q.width,1,E)):(x=me,re=ae,Ce=void 0)}if(Q.colorType===3&&(U=this.color_spaces.INDEXED,X=Q.palette,Q.transparency.indexed)){var te=Q.transparency.indexed,H=0;for(Y=0,V=te.length;Y<V;++Y)H+=te[Y];if((H/=255)===V-1&&te.indexOf(0)!==-1)L=[te.indexOf(0)];else if(H!==V){for(J=Q.decodePixels(),ae=new Uint8Array(J.length),Y=0,V=J.length;Y<V;Y++)ae[Y]=te[J[Y]];re=t(ae,Q.width,1)}}var N=(function(k){var P;switch(k){case A.image_compression.FAST:P=11;break;case A.image_compression.MEDIUM:P=13;break;case A.image_compression.SLOW:P=14;break;default:P=12}return P})(E);return Ce===this.decode.FLATE_DECODE&&(ee="/Predictor "+N+" "),ee+="/Colors "+W+" /BitsPerComponent "+_+" /Columns "+Q.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(re&&this.__addimage__.isArrayBuffer(re)||this.__addimage__.isArrayBufferView(re))&&(re=this.__addimage__.arrayBufferToBinaryString(re)),{alias:S,data:x,index:w,filter:Ce,decodeParameters:ee,transparency:L,palette:X,sMask:re,predictor:N,width:Q.width,height:Q.height,bitsPerComponent:_,colorSpace:U}}}})(Jt.API),(function(A){A.processGIF89A=function(e,t,n,a){var i=new D6(e),l=i.width,f=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:l,height:f},g=new am(100).encode(h,100);return A.processJPEG.call(this,g,t,n,a)},A.processGIF87A=A.processGIF89A})(Jt.API),Ia.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var A=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(A);for(var e=0;e<A;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ia.prototype.parseBGR=function(){this.pos=this.offset;try{var A="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[A]()}catch(t){lr.log("bit decode error:"+t)}},Ia.prototype.bit1=function(){var A,e=Math.ceil(this.width/8),t=e%4;for(A=this.height-1;A>=0;A--){for(var n=this.bottom_up?A:this.height-1-A,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,f=0;f<8&&8*a+f<this.width;f++){var d=this.palette[i>>7-f&1];this.data[l+4*f]=d.blue,this.data[l+4*f+1]=d.green,this.data[l+4*f+2]=d.red,this.data[l+4*f+3]=255}t!==0&&(this.pos+=4-t)}},Ia.prototype.bit4=function(){for(var A=Math.ceil(this.width/2),e=A%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<A;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,f=i>>4,d=15&i,h=this.palette[f];if(this.data[l]=h.blue,this.data[l+1]=h.green,this.data[l+2]=h.red,this.data[l+3]=255,2*a+1>=this.width)break;h=this.palette[d],this.data[l+4]=h.blue,this.data[l+4+1]=h.green,this.data[l+4+2]=h.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Ia.prototype.bit8=function(){for(var A=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}A!==0&&(this.pos+=4-A)}},Ia.prototype.bit15=function(){for(var A=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,f=(i>>5&e)/e*255|0,d=(i>>10&e)/e*255|0,h=i>>15?255:0,g=n*this.width*4+4*a;this.data[g]=d,this.data[g+1]=f,this.data[g+2]=l,this.data[g+3]=h}this.pos+=A}},Ia.prototype.bit16=function(){for(var A=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(l&e)/e*255|0,d=(l>>5&t)/t*255|0,h=(l>>11)/e*255|0,g=a*this.width*4+4*i;this.data[g]=h,this.data[g+1]=d,this.data[g+2]=f,this.data[g+3]=255}this.pos+=A}},Ia.prototype.bit24=function(){for(var A=this.height-1;A>=0;A--){for(var e=this.bottom_up?A:this.height-1-A,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},Ia.prototype.bit32=function(){for(var A=this.height-1;A>=0;A--)for(var e=this.bottom_up?A:this.height-1-A,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),f=e*this.width*4+4*t;this.data[f]=i,this.data[f+1]=a,this.data[f+2]=n,this.data[f+3]=l}},Ia.prototype.getData=function(){return this.data},(function(A){A.processBMP=function(e,t,n,a){var i=new Ia(e,!1),l=i.width,f=i.height,d={data:i.getData(),width:l,height:f},h=new am(100).encode(d,100);return A.processJPEG.call(this,h,t,n,a)}})(Jt.API),oy.prototype.getData=function(){return this.data},(function(A){A.processWEBP=function(e,t,n,a){var i=new oy(e),l=i.width,f=i.height,d={data:i.getData(),width:l,height:f},h=new am(100).encode(d,100);return A.processJPEG.call(this,h,t,n,a)}})(Jt.API),Jt.API.processRGBA=function(A,e,t){for(var n=A.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),f=0,d=0,h=0;h<a;h+=4){var g=n[h],b=n[h+1],x=n[h+2],w=n[h+3];i[f++]=g,i[f++]=b,i[f++]=x,l[d++]=w}var S=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:S,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:A.width,height:A.height}},Jt.API.setLanguage=function(A){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[A]!==void 0&&(this.internal.languageSettings.languageCode=A,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},gu=Jt.API,Rh=gu.getCharWidthsArray=function(A,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),f=e.widths?e.widths:a.metadata.Unicode.widths,d=f.fof?f.fof:1,h=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=h.fof?h.fof:1,b=e.doKerning!==!1,x=0,w=A.length,S=0,E=f[0]||d,U=[];for(t=0;t<w;t++)n=A.charCodeAt(t),typeof a.metadata.widthOfString=="function"?U.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(x=b&&WA(h[n])==="object"&&!isNaN(parseInt(h[n][S],10))?h[n][S]/g:0,U.push((f[n]||E)/d+x)),S=n;return U},ny=gu.getStringUnitWidth=function(A,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return gu.processArabic&&(A=gu.processArabic(A)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(A,t,a)/t:Rh.apply(this,arguments).reduce((function(i,l){return i+l}),0)},sy=function(A,e,t,n){for(var a=[],i=0,l=A.length,f=0;i!==l&&f+e[i]<t;)f+=e[i],i++;a.push(A.slice(0,i));var d=i;for(f=0;i!==l;)f+e[i]>n&&(a.push(A.slice(d,i)),f=0,d=i),f+=e[i],i++;return d!==i&&a.push(A.slice(d,i)),a},ay=function(A,e,t){t||(t={});var n,a,i,l,f,d,h,g=[],b=[g],x=t.textIndent||0,w=0,S=0,E=A.split(" "),U=Rh.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?E[0].length+2:t.lineIndent||0){var _=Array(d).join(" "),Q=[];E.map((function(W){(W=W.split(/\s*\n/)).length>1?Q=Q.concat(W.map((function(X,re){return(re&&X.length?`
`:"")+X}))):Q.push(W[0])})),E=Q,d=ny.apply(this,[_,t])}for(i=0,l=E.length;i<l;i++){var L=0;if(n=E[i],d&&n[0]==`
`&&(n=n.substr(1),L=1),x+w+(S=(a=Rh.apply(this,[n,t])).reduce((function(W,X){return W+X}),0))>e||L){if(S>e){for(f=sy.apply(this,[n,a,e-(x+w),e]),g.push(f.shift()),g=[f.pop()];f.length;)b.push([f.shift()]);S=a.slice(n.length-(g[0]?g[0].length:0)).reduce((function(W,X){return W+X}),0)}else g=[n];b.push(g),x=S+d,w=U}else g.push(n),x+=w+S,w=U}return h=d?function(W,X){return(X?_:"")+W.join(" ")}:function(W){return W.join(" ")},b.map(h)},gu.splitTextToSize=function(A,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var b=this.internal.getFont(g.fontName,g.fontStyle);return b.metadata.Unicode?{widths:b.metadata.Unicode.widths||{0:1},kerning:b.metadata.Unicode.kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(A)?A:String(A).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/a;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=t.lineIndent;var f,d,h=[];for(f=0,d=n.length;f<d;f++)h=h.concat(ay.apply(this,[n[f],l,i]));return h},(function(A){A.__fontmetrics__=A.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},a=0;a<e.length;a++)t[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(b){return"0x"+parseInt(b,10).toString(16)},l=A.__fontmetrics__.compress=function(b){var x,w,S,E,U=["{"];for(var _ in b){if(x=b[_],isNaN(parseInt(_,10))?w="'"+_+"'":(_=parseInt(_,10),w=(w=i(_).slice(2)).slice(0,-1)+n[w.slice(-1)]),typeof x=="number")x<0?(S=i(x).slice(3),E="-"):(S=i(x).slice(2),E=""),S=E+S.slice(0,-1)+n[S.slice(-1)];else{if(WA(x)!=="object")throw new Error("Don't know what to do with value type "+WA(x)+".");S=l(x)}U.push(w+S)}return U.push("}"),U.join("")},f=A.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,w,S,E,U={},_=1,Q=U,L=[],W="",X="",re=b.length-1,J=1;J<re;J+=1)(E=b[J])=="'"?x?(S=x.join(""),x=void 0):x=[]:x?x.push(E):E=="{"?(L.push([Q,S]),Q={},S=void 0):E=="}"?((w=L.pop())[0][w[1]]=Q,S=void 0,Q=w[0]):E=="-"?_=-1:S===void 0?t.hasOwnProperty(E)?(W+=t[E],S=parseInt(W,16)*_,_=1,W=""):W+=E:t.hasOwnProperty(E)?(X+=t[E],Q[S]=parseInt(X,16)*_,_=1,S=void 0,X=""):X+=E;return U},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},g={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};A.events.push(["addFont",function(b){var x=b.font,w=g.Unicode[x.postScriptName];w&&(x.metadata.Unicode={},x.metadata.Unicode.widths=w.widths,x.metadata.Unicode.kerning=w.kerning);var S=h.Unicode[x.postScriptName];S&&(x.metadata.Unicode.encoding=S,x.encoding=S.codePages[0])}])})(Jt.API),(function(A){var e=function(t){for(var n=t.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=t.charCodeAt(i);return a};A.API.events.push(["addFont",function(t){var n=void 0,a=t.font,i=t.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,f){f=/^\x00\x01\x00\x00/.test(f)?e(f):e(Af(f)),l.metadata=A.API.TTFFont.open(f),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])})(Jt),(function(A){function e(){return(rA.canvg?Promise.resolve(rA.canvg):$m(()=>import("./index.es-C9APeoGt.js"),[])).catch((function(t){return Promise.reject(new Error("Could not load canvg: "+t))})).then((function(t){return t.default?t.default:t}))}Jt.API.addSvgAsImage=function(t,n,a,i,l,f,d,h){if(isNaN(n)||isNaN(a))throw lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(l))throw lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=i,g.height=l;var b=g.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,g.width,g.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return e().then((function(S){return S.fromString(b,t,x)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(S){return S.render(x)})).then((function(){w.addImage(g.toDataURL("image/jpeg",1),n,a,i,l,d,h)}))}})(),Jt.API.putTotalPages=function(A){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(A,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(A,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},Jt.API.viewerPreferences=function(A,e){var t;A=A||{},e=e||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(l),d=[],h=0,g=0,b=0;function x(S,E){var U,_=!1;for(U=0;U<S.length;U+=1)S[U]===E&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,A==="reset"||e===!0){var w=f.length;for(b=0;b<w;b+=1)t[f[b]].value=t[f[b]].defaultValue,t[f[b]].explicitSet=!1}if(WA(A)==="object"){for(a in A)if(i=A[a],x(f,a)&&i!==void 0){if(t[a].type==="boolean"&&typeof i=="boolean")t[a].value=i;else if(t[a].type==="name"&&x(t[a].valueSet,i))t[a].value=i;else if(t[a].type==="integer"&&Number.isInteger(i))t[a].value=i;else if(t[a].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")d.push(String(i[h]-1));else if(i[h].length>1){for(g=0;g<i[h].length;g+=1)typeof i[h][g]!="number"&&(n=!1);n===!0&&d.push([i[h][0]-1,i[h][1]-1].join(" "))}t[a].value="["+d.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var S,E=[];for(S in t)t[S].explicitSet===!0&&(t[S].type==="name"?E.push("/"+S+" /"+t[S].value):E.push("/"+S+" "+t[S].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(A){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+l.length+f.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(a+i+l+f+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};A.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Jt.API),(function(A){var e=A.API,t=e.pdfEscape16=function(i,l){for(var f,d=l.metadata.Unicode.widths,h=["","0","00","000","0000"],g=[""],b=0,x=i.length;b<x;++b){if(f=l.metadata.characterToGlyph(i.charCodeAt(b)),l.metadata.glyIdsUsed.push(f),l.metadata.toUnicode[f]=i.charCodeAt(b),d.indexOf(f)==-1&&(d.push(f),d.push([parseInt(l.metadata.widthOfGlyph(f),10)])),f=="0")return g.join("");f=f.toString(16),g.push(h[4-f.length],f)}return g.join("")},n=function(i){var l,f,d,h,g,b,x;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],b=0,x=(f=Object.keys(i).sort((function(w,S){return w-S}))).length;b<x;b++)l=f[b],d.length>=100&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(h=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+h+">"));return d.length&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(l){var f=l.font,d=l.out,h=l.newObject,g=l.putStream;if(f.metadata instanceof A.API.TTFFont&&f.encoding==="Identity-H"){for(var b=f.metadata.Unicode.widths,x=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),w="",S=0;S<x.length;S++)w+=String.fromCharCode(x[S]);var E=h();g({data:w,addLength1:!0,objectId:E}),d("endobj");var U=h();g({data:n(f.metadata.toUnicode),addLength1:!0,objectId:U}),d("endobj");var _=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Eu(f.fontName)),d("/FontFile2 "+E+" 0 R"),d("/FontBBox "+A.API.PDFObject.convert(f.metadata.bbox)),d("/Flags "+f.metadata.flags),d("/StemV "+f.metadata.stemV),d("/ItalicAngle "+f.metadata.italicAngle),d("/Ascent "+f.metadata.ascender),d("/Descent "+f.metadata.decender),d("/CapHeight "+f.metadata.capHeight),d(">>"),d("endobj");var Q=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+Eu(f.fontName)),d("/FontDescriptor "+_+" 0 R"),d("/W "+A.API.PDFObject.convert(b)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+f.encoding+")"),d(">>"),d(">>"),d("endobj"),f.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+U+" 0 R"),d("/BaseFont /"+Eu(f.fontName)),d("/Encoding /"+f.encoding),d("/DescendantFonts ["+Q+" 0 R]"),d(">>"),d("endobj"),f.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(l){var f=l.font,d=l.out,h=l.newObject,g=l.putStream;if(f.metadata instanceof A.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var b=f.metadata.rawData,x="",w=0;w<b.length;w++)x+=String.fromCharCode(b[w]);var S=h();g({data:x,addLength1:!0,objectId:S}),d("endobj");var E=h();g({data:n(f.metadata.toUnicode),addLength1:!0,objectId:E}),d("endobj");var U=h();d("<<"),d("/Descent "+f.metadata.decender),d("/CapHeight "+f.metadata.capHeight),d("/StemV "+f.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+S+" 0 R"),d("/Flags 96"),d("/FontBBox "+A.API.PDFObject.convert(f.metadata.bbox)),d("/FontName /"+Eu(f.fontName)),d("/ItalicAngle "+f.metadata.italicAngle),d("/Ascent "+f.metadata.ascender),d(">>"),d("endobj"),f.objectNumber=h();for(var _=0;_<f.metadata.hmtx.widths.length;_++)f.metadata.hmtx.widths[_]=parseInt(f.metadata.hmtx.widths[_]*(1e3/f.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Eu(f.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+A.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),d("endobj"),f.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,f=i.text||"",d=i.x,h=i.y,g=i.options||{},b=i.mutex||{},x=b.pdfEscape,w=b.activeFontKey,S=b.fonts,E=w,U="",_=0,Q="",L=S[E].encoding;if(S[E].encoding!=="Identity-H")return{text:f,x:d,y:h,options:g,mutex:b};for(Q=f,E=w,Array.isArray(f)&&(Q=f[0]),_=0;_<Q.length;_+=1)S[E].metadata.hasOwnProperty("cmap")&&(l=S[E].metadata.cmap.unicode.codeMap[Q[_].charCodeAt(0)]),l||Q[_].charCodeAt(0)<256&&S[E].metadata.hasOwnProperty("Unicode")?U+=Q[_]:U+="";var W="";return parseInt(E.slice(1))<14||L==="WinAnsiEncoding"?W=x(U,E).split("").map((function(X){return X.charCodeAt(0).toString(16)})).join(""):L==="Identity-H"&&(W=t(U,S[E])),b.isHex=!0,{text:W,x:d,y:h,options:g,mutex:b}};e.events.push(["postProcessText",function(i){var l=i.text||"",f=[],d={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var h=0;for(h=0;h<l.length;h+=1)Array.isArray(l[h])&&l[h].length===3?f.push([a(Object.assign({},d,{text:l[h][0]})).text,l[h][1],l[h][2]]):f.push(a(Object.assign({},d,{text:l[h]})).text);i.text=f}else i.text=a(Object.assign({},d,{text:l})).text}])})(Jt),(function(A){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};A.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},A.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},A.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Jt.API),(function(A){A.__bidiEngine__=A.prototype.__bidiEngine__=function(n){var a,i,l,f,d,h,g,b=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Q=!1,L=0;this.__bidiEngine__={};var W=function(D){var O=D.charCodeAt(),Y=O>>8,Ae=E[Y];return Ae!==void 0?b[256*Ae+(255&O)]:Y===252||Y===253?"AL":_.test(Y)?"L":Y===8?"R":"N"},X=function(D){for(var O,Y=0;Y<D.length;Y++){if((O=W(D.charAt(Y)))==="L")return!1;if(O==="R")return!0}return!1},re=function(D,O,Y,Ae){var Ce,ee,ce,le,Ne=O[Ae];switch(Ne){case"L":case"R":Q=!1;break;case"N":case"AN":break;case"EN":Q&&(Ne="AN");break;case"AL":Q=!0,Ne="R";break;case"WS":Ne="N";break;case"CS":Ae<1||Ae+1>=O.length||(Ce=Y[Ae-1])!=="EN"&&Ce!=="AN"||(ee=O[Ae+1])!=="EN"&&ee!=="AN"?Ne="N":Q&&(ee="AN"),Ne=ee===Ce?ee:"N";break;case"ES":Ne=(Ce=Ae>0?Y[Ae-1]:"B")==="EN"&&Ae+1<O.length&&O[Ae+1]==="EN"?"EN":"N";break;case"ET":if(Ae>0&&Y[Ae-1]==="EN"){Ne="EN";break}if(Q){Ne="N";break}for(ce=Ae+1,le=O.length;ce<le&&O[ce]==="ET";)ce++;Ne=ce<le&&O[ce]==="EN"?"EN":"N";break;case"NSM":if(l&&!f){for(le=O.length,ce=Ae+1;ce<le&&O[ce]==="NSM";)ce++;if(ce<le){var te=D[Ae],H=te>=1425&&te<=2303||te===64286;if(Ce=O[ce],H&&(Ce==="R"||Ce==="AL")){Ne="R";break}}}Ne=Ae<1||(Ce=O[Ae-1])==="B"?"N":Y[Ae-1];break;case"B":Q=!1,a=!0,Ne=L;break;case"S":i=!0,Ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Q=!1;break;case"BN":Ne="N"}return Ne},J=function(D,O,Y){var Ae=D.split("");return Y&&V(Ae,Y,{hiLevel:L}),Ae.reverse(),O&&O.reverse(),Ae.join("")},V=function(D,O,Y){var Ae,Ce,ee,ce,le,Ne=-1,te=D.length,H=0,N=[],k=L?w:x,P=[];for(Q=!1,a=!1,i=!1,Ce=0;Ce<te;Ce++)P[Ce]=W(D[Ce]);for(ee=0;ee<te;ee++){if(le=H,N[ee]=re(D,P,N,ee),Ae=240&(H=k[le][S[N[ee]]]),H&=15,O[ee]=ce=k[H][5],Ae>0)if(Ae===16){for(Ce=Ne;Ce<ee;Ce++)O[Ce]=1;Ne=-1}else Ne=-1;if(k[H][6])Ne===-1&&(Ne=ee);else if(Ne>-1){for(Ce=Ne;Ce<ee;Ce++)O[Ce]=ce;Ne=-1}P[ee]==="B"&&(O[ee]=0),Y.hiLevel|=ce}i&&(function(G,z,ie){for(var he=0;he<ie;he++)if(G[he]==="S"){z[he]=L;for(var ue=he-1;ue>=0&&G[ue]==="WS";ue--)z[ue]=L}})(P,O,te)},ae=function(D,O,Y,Ae,Ce){if(!(Ce.hiLevel<D)){if(D===1&&L===1&&!a)return O.reverse(),void(Y&&Y.reverse());for(var ee,ce,le,Ne,te=O.length,H=0;H<te;){if(Ae[H]>=D){for(le=H+1;le<te&&Ae[le]>=D;)le++;for(Ne=H,ce=le-1;Ne<ce;Ne++,ce--)ee=O[Ne],O[Ne]=O[ce],O[ce]=ee,Y&&(ee=Y[Ne],Y[Ne]=Y[ce],Y[ce]=ee);H=le}H++}}},me=function(D,O,Y){var Ae=D.split(""),Ce={hiLevel:L};return Y||(Y=[]),V(Ae,Y,Ce),(function(ee,ce,le){if(le.hiLevel!==0&&g)for(var Ne,te=0;te<ee.length;te++)ce[te]===1&&(Ne=U.indexOf(ee[te]))>=0&&(ee[te]=U[Ne+1])})(Ae,Y,Ce),ae(2,Ae,O,Y,Ce),ae(1,Ae,O,Y,Ce),Ae.join("")};return this.__bidiEngine__.doBidiReorder=function(D,O,Y){if((function(Ce,ee){if(ee)for(var ce=0;ce<Ce.length;ce++)ee[ce]=ce;f===void 0&&(f=X(Ce)),h===void 0&&(h=X(Ce))})(D,O),l||!d||h)if(l&&d&&f^h)L=f?1:0,D=J(D,O,Y);else if(!l&&d&&h)L=f?1:0,D=me(D,O,Y),D=J(D,O);else if(!l||f||d||h){if(l&&!d&&f^h)D=J(D,O),f?(L=0,D=me(D,O,Y)):(L=1,D=me(D,O,Y),D=J(D,O));else if(l&&f&&!d&&h)L=1,D=me(D,O,Y),D=J(D,O);else if(!l&&!d&&f^h){var Ae=g;f?(L=1,D=me(D,O,Y),L=0,g=!1,D=me(D,O,Y),g=Ae):(L=0,D=me(D,O,Y),D=J(D,O),L=1,g=!1,D=me(D,O,Y),g=Ae,D=J(D,O))}}else L=0,D=me(D,O,Y);else L=f?1:0,D=me(D,O,Y);return D},this.__bidiEngine__.setOptions=function(D){D&&(l=D.isInputVisual,d=D.isOutputVisual,f=D.isInputRtl,h=D.isOutputRtl,g=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new A.__bidiEngine__({isInputVisual:!0});A.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),l=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var f=0;for(l=[],f=0;f<a.length;f+=1)Object.prototype.toString.call(a[f])==="[object Array]"?l.push([t.doBidiReorder(a[f][0]),a[f][1],a[f][2]]):l.push([t.doBidiReorder(a[f])]);n.text=l}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Jt),Jt.API.TTFFont=(function(){function A(e){var t;if(this.rawData=e,t=this.contents=new wl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new J6(this),this.registerTTF()}return A.open=function(e){return new A(e)},A.prototype.parse=function(){return this.directory=new O6(this.contents),this.head=new R6(this),this.name=new q6(this),this.cmap=new NB(this),this.toUnicode={},this.hhea=new H6(this),this.maxp=new G6(this),this.hmtx=new z6(this),this.post=new P6(this),this.os2=new M6(this),this.loca=new W6(this),this.glyf=new V6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},A.prototype.registerTTF=function(){var e,t,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,f,d,h;for(h=[],l=0,f=(d=this.bbox).length;l<f;l++)e=d[l],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(t=a>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},A.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},A.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},A.prototype.widthOfString=function(e,t,n){var a,i,l,f;for(l=0,i=0,f=(e=""+e).length;0<=f?i<f:i>f;i=0<=f?++i:--i)a=e.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return l*(t/1e3)},A.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},A})();var Ka,wl=(function(){function A(e){this.data=e??[],this.pos=0,this.length=this.data.length}return A.prototype.readByte=function(){return this.data[this.pos++]},A.prototype.writeByte=function(e){return this.data[this.pos++]=e},A.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},A.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},A.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},A.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},A.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},A.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},A.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},A.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},A.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},A.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},A.prototype.readShort=function(){return this.readInt16()},A.prototype.writeShort=function(e){return this.writeInt16(e)},A.prototype.readLongLong=function(){var e,t,n,a,i,l,f,d;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),f=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^f)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*i+65536*l+256*f+d},A.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},A.prototype.readInt=function(){return this.readInt32()},A.prototype.writeInt=function(e){return this.writeInt32(e)},A.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},A.prototype.write=function(e){var t,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)t=e[n],i.push(this.writeByte(t));return i},A})(),O6=(function(){var A;function e(t){var n,a,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,i,l,f,d,h,g,b,x,w,S,E;for(E in w=Object.keys(t).length,d=Math.log(2),b=16*Math.floor(Math.log(w)/d),l=Math.floor(b/d),g=16*w-b,(a=new wl).writeInt(this.scalarType),a.writeShort(w),a.writeShort(b),a.writeShort(l),a.writeShort(g),i=16*w,h=a.pos+i,f=null,S=[],t)for(x=t[E],a.writeString(E),a.writeInt(A(x)),a.writeInt(h),a.writeInt(x.length),S=S.concat(x),E==="head"&&(f=h),h+=x.length;h%4;)S.push(0),h++;return a.write(S),n=2981146554-A(a.data),a.pos=f+8,a.writeUInt32(n),a.data},A=function(t){var n,a,i,l;for(t=UB.call(t);t.length%4;)t.push(0);for(i=new wl(t),a=0,n=0,l=t.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),k6={}.hasOwnProperty,_i=function(A,e){for(var t in e)k6.call(e,t)&&(A[t]=e[t]);function n(){this.constructor=A}return n.prototype=e.prototype,A.prototype=new n,A.__super__=e.prototype,A};Ka=(function(){function A(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return A.prototype.parse=function(){},A.prototype.encode=function(){},A.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},A})();var R6=(function(A){function e(){return e.__super__.constructor.apply(this,arguments)}return _i(e,Ka),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new wl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),ly=(function(){function A(e,t){var n,a,i,l,f,d,h,g,b,x,w,S,E,U,_,Q,L;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(w=e.readUInt16(),x=w/2,e.pos+=6,i=(function(){var W,X;for(X=[],d=W=0;0<=x?W<x:W>x;d=0<=x?++W:--W)X.push(e.readUInt16());return X})(),e.pos+=2,E=(function(){var W,X;for(X=[],d=W=0;0<=x?W<x:W>x;d=0<=x?++W:--W)X.push(e.readUInt16());return X})(),h=(function(){var W,X;for(X=[],d=W=0;0<=x?W<x:W>x;d=0<=x?++W:--W)X.push(e.readUInt16());return X})(),g=(function(){var W,X;for(X=[],d=W=0;0<=x?W<x:W>x;d=0<=x?++W:--W)X.push(e.readUInt16());return X})(),a=(this.length-e.pos+this.offset)/2,f=(function(){var W,X;for(X=[],d=W=0;0<=a?W<a:W>a;d=0<=a?++W:--W)X.push(e.readUInt16());return X})(),d=_=0,L=i.length;_<L;d=++_)for(U=i[d],n=Q=S=E[d];S<=U?Q<=U:Q>=U;n=S<=U?++Q:--Q)g[d]===0?l=n+h[d]:(l=f[g[d]/2+(n-S)-(x-d)]||0)!==0&&(l+=h[d]),this.codeMap[n]=65535&l}e.pos=b}return A.encode=function(e,t){var n,a,i,l,f,d,h,g,b,x,w,S,E,U,_,Q,L,W,X,re,J,V,ae,me,D,O,Y,Ae,Ce,ee,ce,le,Ne,te,H,N,k,P,G,z,ie,he,ue,Be,Qe,Pe;switch(Ae=new wl,l=Object.keys(e).sort((function(ot,ut){return ot-ut})),t){case"macroman":for(E=0,U=(function(){var ot=[];for(S=0;S<256;++S)ot.push(0);return ot})(),Q={0:0},i={},Ce=0,Ne=l.length;Ce<Ne;Ce++)Q[ue=e[a=l[Ce]]]==null&&(Q[ue]=++E),i[a]={old:e[a],new:Q[e[a]]},U[a]=Q[e[a]];return Ae.writeUInt16(1),Ae.writeUInt16(0),Ae.writeUInt32(12),Ae.writeUInt16(0),Ae.writeUInt16(262),Ae.writeUInt16(0),Ae.write(U),{charMap:i,subtable:Ae.data,maxGlyphID:E+1};case"unicode":for(O=[],b=[],L=0,Q={},n={},_=h=null,ee=0,te=l.length;ee<te;ee++)Q[X=e[a=l[ee]]]==null&&(Q[X]=++L),n[a]={old:X,new:Q[X]},f=Q[X]-a,_!=null&&f===h||(_&&b.push(_),O.push(a),h=f),_=a;for(_&&b.push(_),b.push(65535),O.push(65535),me=2*(ae=O.length),V=2*Math.pow(Math.log(ae)/Math.LN2,2),x=Math.log(V/2)/Math.LN2,J=2*ae-V,d=[],re=[],w=[],S=ce=0,H=O.length;ce<H;S=++ce){if(D=O[S],g=b[S],D===65535){d.push(0),re.push(0);break}if(D-(Y=n[D].new)>=32768)for(d.push(0),re.push(2*(w.length+ae-S)),a=le=D;D<=g?le<=g:le>=g;a=D<=g?++le:--le)w.push(n[a].new);else d.push(Y-D),re.push(0)}for(Ae.writeUInt16(3),Ae.writeUInt16(1),Ae.writeUInt32(12),Ae.writeUInt16(4),Ae.writeUInt16(16+8*ae+2*w.length),Ae.writeUInt16(0),Ae.writeUInt16(me),Ae.writeUInt16(V),Ae.writeUInt16(x),Ae.writeUInt16(J),ie=0,N=b.length;ie<N;ie++)a=b[ie],Ae.writeUInt16(a);for(Ae.writeUInt16(0),he=0,k=O.length;he<k;he++)a=O[he],Ae.writeUInt16(a);for(Be=0,P=d.length;Be<P;Be++)f=d[Be],Ae.writeUInt16(f);for(Qe=0,G=re.length;Qe<G;Qe++)W=re[Qe],Ae.writeUInt16(W);for(Pe=0,z=w.length;Pe<z;Pe++)E=w[Pe],Ae.writeUInt16(E);return{charMap:n,subtable:Ae.data,maxGlyphID:L+1}}},A})(),NB=(function(A){function e(){return e.__super__.constructor.apply(this,arguments)}return _i(e,Ka),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,a,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new ly(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var a,i;return n==null&&(n="macroman"),a=ly.encode(t,n),(i=new wl).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e})(),H6=(function(A){function e(){return e.__super__.constructor.apply(this,arguments)}return _i(e,Ka),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),M6=(function(A){function e(){return e.__super__.constructor.apply(this,arguments)}return _i(e,Ka),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(t.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),P6=(function(A){function e(){return e.__super__.constructor.apply(this,arguments)}return _i(e,Ka),e.prototype.tag="post",e.prototype.parse=function(t){var n,a,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(a=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 196608:break;case 262144:return this.map=(function(){var f,d,h;for(h=[],l=f=0,d=this.file.maxp.numGlyphs;0<=d?f<d:f>d;l=0<=d?++f:--f)h.push(t.readUInt32());return h}).call(this)}},e})(),K6=function(A,e){this.raw=A,this.length=A.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},q6=(function(A){function e(){return e.__super__.constructor.apply(this,arguments)}return _i(e,Ka),e.prototype.tag="name",e.prototype.parse=function(t){var n,a,i,l,f,d,h,g,b,x,w;for(t.pos=this.offset,t.readShort(),n=t.readShort(),d=t.readShort(),a=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+d+t.readShort()});for(h={},l=b=0,x=a.length;b<x;l=++b)i=a[l],t.pos=i.offset,g=t.readString(i.length),f=new K6(g,i),h[w=i.nameID]==null&&(h[w]=[]),h[i.nameID].push(f);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e})(),G6=(function(A){function e(){return e.__super__.constructor.apply(this,arguments)}return _i(e,Ka),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),z6=(function(A){function e(){return e.__super__.constructor.apply(this,arguments)}return _i(e,Ka),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,a,i,l,f,d,h;for(t.pos=this.offset,this.metrics=[],n=0,d=this.file.hhea.numberOfMetrics;0<=d?n<d:n>d;n=0<=d?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var g,b;for(b=[],n=g=0;0<=i?g<i:g>i;n=0<=i?++g:--g)b.push(t.readInt16());return b})(),this.widths=(function(){var g,b,x,w;for(w=[],g=0,b=(x=this.metrics).length;g<b;g++)l=x[g],w.push(l.advance);return w}).call(this),a=this.widths[this.widths.length-1],h=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)h.push(this.widths.push(a));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),UB=[].slice,V6=(function(A){function e(){return e.__super__.constructor.apply(this,arguments)}return _i(e,Ka),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,a,i,l,f,d,h,g,b,x;return t in this.cache?this.cache[t]:(l=this.file.loca,n=this.file.contents,a=l.indexOf(t),(i=l.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+a,f=(d=new wl(n.read(i))).readShort(),g=d.readShort(),x=d.readShort(),h=d.readShort(),b=d.readShort(),this.cache[t]=f===-1?new Y6(d,g,x,h,b):new $6(d,f,g,x,h,b),this.cache[t]))},e.prototype.encode=function(t,n,a){var i,l,f,d,h;for(f=[],l=[],d=0,h=n.length;d<h;d++)i=t[n[d]],l.push(f.length),i&&(f=f.concat(i.encode(a)));return l.push(f.length),{table:f,offsets:l}},e})(),$6=(function(){function A(e,t,n,a,i,l){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return A.prototype.encode=function(){return this.raw.data},A})(),Y6=(function(){function A(e,t,n,a,i){var l,f;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;f=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&f;)l.pos+=1&f?4:2,128&f?l.pos+=8:64&f?l.pos+=4:8&f&&(l.pos+=2)}return A.prototype.encode=function(){var e,t,n;for(t=new wl(UB.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},A})(),W6=(function(A){function e(){return e.__super__.constructor.apply(this,arguments)}return _i(e,Ka),e.prototype.tag="loca",e.prototype.parse=function(t){var n,a;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,l;for(l=[],a=0,i=this.length;a<i;a+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],a=0,i=this.length;a<i;a+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var a=new Uint32Array(this.offsets.length),i=0,l=0,f=0;f<a.length;++f)if(a[f]=i,l<n.length&&n[l]==f){++l,a[f]=i;var d=this.offsets[f],h=this.offsets[f+1]-d;h>0&&(i+=h)}for(var g=new Array(4*a.length),b=0;b<a.length;++b)g[4*b+3]=255&a[b],g[4*b+2]=(65280&a[b])>>8,g[4*b+1]=(16711680&a[b])>>16,g[4*b]=(4278190080&a[b])>>24;return g},e})(),J6=(function(){function A(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return A.prototype.generateCmap=function(){var e,t,n,a,i;for(t in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=a[n];return e},A.prototype.glyphsFor=function(e){var t,n,a,i,l,f,d;for(a={},l=0,f=e.length;l<f;l++)a[i=e[l]]=this.font.glyf.glyphFor(i);for(i in t=[],a)(n=a[i])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in d=this.glyphsFor(t))n=d[i],a[i]=n;return a},A.prototype.encode=function(e,t){var n,a,i,l,f,d,h,g,b,x,w,S,E,U,_;for(a in n=NB.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),w={0:0},_=n.charMap)w[(d=_[a]).old]=d.new;for(S in x=n.maxGlyphID,l)S in w||(w[S]=x++);return g=(function(Q){var L,W;for(L in W={},Q)W[Q[L]]=L;return W})(w),b=Object.keys(g).sort((function(Q,L){return Q-L})),E=(function(){var Q,L,W;for(W=[],Q=0,L=b.length;Q<L;Q++)f=b[Q],W.push(g[f]);return W})(),i=this.font.glyf.encode(l,E,w),h=this.font.loca.encode(i.offsets,E),U={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},A})();Jt.API.PDFObject=(function(){var A;function e(){}return A=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,i,l;if(Array.isArray(t))return"["+(function(){var f,d,h;for(h=[],f=0,d=t.length;f<d;f++)n=t[f],h.push(e.convert(n));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+A(t.getUTCFullYear(),4)+A(t.getUTCMonth(),2)+A(t.getUTCDate(),2)+A(t.getUTCHours(),2)+A(t.getUTCMinutes(),2)+A(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in i=["<<"],t)l=t[a],i.push("/"+a+" "+e.convert(l));return i.push(">>"),i.join(`
`)}return""+t},e})();const X6=()=>{const{doctors:A,unavailabilities:e,activityDefinitions:t,postes:n,manualOverrides:a,setManualOverrides:i,template:l,rcpTypes:f,shiftHistory:d,rcpAttendance:h,rcpExceptions:g}=Z.useContext(Ni),[b,x]=Z.useState(()=>{const G=new Date,z=G.getDay(),ie=G.getDate()-z+(z===0?-6:1);return G.setDate(ie),G.setHours(0,0,0,0),G}),[w,S]=Z.useState("ROOM"),[E,U]=Z.useState("ACTIVITY"),[_,Q]=Z.useState("COMFORTABLE"),[L,W]=Z.useState(!1),X=Z.useMemo(()=>lo(b,l,e,A,t,f,!0,d,h,g).map(z=>{const ie=a[z.id];return ie?ie==="__CLOSED__"?{...z,assignedDoctorId:null,isLocked:!0,isClosed:!0}:{...z,assignedDoctorId:ie,isLocked:!0}:z}),[b,l,e,A,t,f,d,h,g,a]),re=Z.useMemo(()=>H0(X,e,A),[X,e,A,t]),[J,V]=Z.useState(null),[ae,me]=Z.useState(!1),D=Z.useRef(null),O=Object.values(rr),Y=[...n,...t.map(G=>G.name)],Ae=(G,z)=>{if(z===""){const ie={...a};delete ie[G],i(ie)}else i({...a,[G]:z});V(null)},Ce=G=>{i({...a,[G]:"__CLOSED__"}),V(null)},ee=G=>{const z=new Date(G.target.value),ie=z.getDay(),he=z.getDate()-ie+(ie===0?-6:1);z.setDate(he),z.setHours(0,0,0,0),x(z)},ce=G=>{const z=new Date(b);z.setDate(z.getDate()+(G==="next"?7:-7)),x(z)},le=async()=>{if(D.current)try{me(!0);const G=D.current.querySelector("table");if(!G)return;const z=document.createElement("div");z.style.position="absolute",z.style.left="-9999px",z.style.top="0",z.style.width="2200px",z.style.backgroundColor="#ffffff",z.style.padding="40px",z.style.boxSizing="border-box";const ie=document.createElement("div");ie.innerHTML=`
             <div style="margin-bottom: 20px; border-bottom: 3px solid #1e293b; padding-bottom: 10px; display: flex; justify-content: space-between; align-items: flex-end;">
                <div>
                    <h1 style="font-size: 32px; font-weight: bold; color: #1e293b; margin: 0; text-transform: uppercase; letter-spacing: 1px;">Planning Radiothrapie</h1>
                    <p style="font-size: 16px; color: #64748b; margin: 5px 0 0 0;">${Ne(b)}</p>
                </div>
                <div style="text-align: right;">
                    <span style="font-size: 12px; color: #94a3b8;">Gnr le ${new Date().toLocaleDateString("fr-FR")}</span>
                </div>
            </div>
          `,z.appendChild(ie);const he=G.cloneNode(!0);he.querySelectorAll(".sticky").forEach(ht=>{ht.style.position="static",ht.style.left="auto",ht.style.top="auto",ht.style.boxShadow="none"}),he.querySelectorAll(".truncate").forEach(ht=>{ht.classList.remove("truncate"),ht.style.whiteSpace="normal",ht.style.overflow="visible",ht.style.wordBreak="break-word"}),he.querySelectorAll(".font-bold").forEach(ht=>{const Ct=window.getComputedStyle(ht).fontSize;parseFloat(Ct)<18&&(ht.style.fontSize="16px",ht.style.lineHeight="1.3")}),he.querySelectorAll(".w-5.h-5, .w-8.h-8").forEach(ht=>{ht.style.width="24px",ht.style.height="24px",ht.style.minWidth="24px",ht.style.fontSize="12px",ht.style.marginRight="8px"}),he.querySelectorAll("td, th").forEach(ht=>{ht.style.padding="10px",ht.style.height="auto"}),he.querySelectorAll("th").forEach(ht=>{ht.style.fontSize="14px"}),he.style.width="100%",he.style.borderCollapse="collapse",he.style.backgroundColor="white",z.appendChild(he),document.body.appendChild(z),await new Promise(ht=>setTimeout(ht,500));const Te=await S0(z,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",width:2200,height:z.offsetHeight});document.body.removeChild(z);const se=Te.toDataURL("image/jpeg",.9),Qt=new Jt("l","mm","a4"),st=297,Je=210,fe=10,He=st-2*fe,Ge=Je-2*fe,at=Te.width,ct=Te.height,It=He/at,St=ct*It;if(St<=Ge)Qt.addImage(se,"JPEG",fe,fe,He,St);else{let ht=St,Ct=0;for(;ht>0;){Ct>0&&Qt.addPage();const zt=fe-Ct*Ge;Qt.addImage(se,"JPEG",fe,zt,He,St),ht-=Ge,Ct++}}const Pt=`Planning_${b.toISOString().split("T")[0]}.pdf`;Qt.save(Pt)}catch(G){console.error("PDF Generation failed",G),alert("Erreur lors de la gnration du PDF.")}finally{me(!1)}},Ne=G=>{const z=new Date(G);return z.setDate(z.getDate()+4),`Semaine du ${G.getDate()} ${G.toLocaleString("default",{month:"short"})} au ${z.getDate()} ${z.toLocaleString("default",{month:"short"})} ${G.getFullYear()}`},te=(G,z,ie)=>{var Qt;const he=Ws(b,G),ue=oo(he);if(ue)return c.jsxs("div",{className:"h-full w-full bg-pink-50 flex items-center justify-center border-l-4 border-pink-200 flex-col opacity-80",children:[c.jsx("span",{className:"text-[10px] text-pink-400 font-bold uppercase tracking-wider",children:"Fri"}),c.jsx("span",{className:"text-[9px] text-pink-300",children:ue.name})]});if(G===rr.MONDAY&&z===vA.MORNING&&ie.startsWith("Box"))return c.jsx("div",{className:"h-full w-full bg-gray-100 flex items-center justify-center border-l-4 border-gray-300",children:c.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Ferm"})});const Be=X.find(st=>st.date===he&&st.period===z&&(st.location===ie||st.subType===ie));if(!Be)return c.jsx("div",{className:"h-full w-full bg-slate-50 min-h-[60px] flex items-center justify-center text-[10px] text-slate-300 border-l border-slate-100",children:"--"});if(Be.isClosed)return c.jsx("div",{className:"relative h-full w-full bg-gray-100 border-l-4 border-gray-300 min-h-[60px] flex flex-col items-center justify-center cursor-pointer opacity-80 hover:opacity-100",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, #e5e7eb 10px, #e5e7eb 20px)"},onClick:()=>V(Be.id),children:c.jsxs("div",{className:"bg-white/80 p-1 rounded shadow-sm flex items-center",children:[c.jsx(ac,{className:"w-4 h-4 text-gray-500 mr-1"}),c.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase",children:"Ferm"})]})});const Qe=A.find(st=>st.id===Be.assignedDoctorId),Pe=(Qt=Be.secondaryDoctorIds)==null?void 0:Qt.map(st=>A.find(Je=>Je.id===st)).filter(Boolean),ot=re.find(st=>st.slotId===Be.id);let ut="relative h-full w-full p-2 border-l-4 flex flex-col justify-center transition-all cursor-pointer hover:brightness-95",Te="",se="";if(Qe?(Te="bg-white",Qe.color.includes("blue")?se="border-blue-500":Qe.color.includes("green")?se="border-green-500":Qe.color.includes("red")?se="border-red-500":Qe.color.includes("yellow")?se="border-yellow-500":Qe.color.includes("purple")?se="border-purple-500":Qe.color.includes("indigo")?se="border-indigo-500":Qe.color.includes("pink")?se="border-pink-500":Qe.color.includes("orange")?se="border-orange-500":se="border-slate-400"):(Te="bg-slate-50",se="border-slate-300"),E==="ACTIVITY")if(Be.type===vt.ACTIVITY){const st=t.find(Je=>Je.id===Be.activityId);st&&(Te=st.color.split(" ").find(fe=>fe.startsWith("bg-"))||"bg-gray-100",se="border-transparent")}else Be.type===vt.RCP&&(Te="bg-purple-100",se="border-purple-500");return ot&&(Te="bg-red-50",se="border-red-500"),c.jsxs("div",{className:`${ut} ${Te} ${se}`,onClick:()=>V(Be.id),children:[ot&&c.jsx("div",{className:"absolute top-1 right-1 text-red-500 animate-pulse",children:c.jsx(ym,{className:"w-4 h-4"})}),Qe?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-[8px] font-bold text-white shadow-sm border border-black/5",style:{backgroundColor:uc(Qe.color)},children:Qe.name.substring(0,2)}),c.jsx("div",{className:"font-bold text-sm text-slate-800 leading-tight truncate",children:Qe.name})]}),Pe&&Pe.length>0&&c.jsxs("div",{className:"text-xs text-slate-500 mt-1 pl-7",children:["+ ",Pe.map(st=>st==null?void 0:st.name).join(", ")]}),Be.type===vt.ACTIVITY&&E==="DOCTOR"&&c.jsx("span",{className:"inline-block mt-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-orange-100 text-orange-800 ml-7",children:Be.subType}),E==="ACTIVITY"&&Be.type===vt.ACTIVITY&&c.jsx("div",{className:"text-[10px] font-bold opacity-60 ml-7 uppercase tracking-wider mt-0.5",children:Be.subType})]}):c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"text-xs text-slate-400 italic",children:"Non assign"}),ot&&c.jsx("div",{className:"text-[10px] text-red-500 font-bold mt-1",children:"Absent"})]})]})},H=(G,z,ie)=>{const he=Ws(b,z),ue=X.filter(Qe=>Qe.date===he&&Qe.period===ie&&Qe.assignedDoctorId===G.id);return oo(he)&&ue.length===0?c.jsx("div",{className:"bg-pink-50 h-full text-[10px] text-pink-300 flex items-center justify-center",children:"Fri"}):ue.length===0?c.jsx("div",{className:"bg-slate-50 h-full"}):c.jsx("div",{className:"flex flex-col gap-1 p-1",children:ue.map(Qe=>{let Pe="bg-white border-slate-200 text-slate-700";return E==="ACTIVITY"&&(Qe.type===vt.RCP&&(Pe="bg-purple-100 border-purple-200 text-purple-800"),Qe.type===vt.ACTIVITY&&(Pe="bg-orange-100 border-orange-200 text-orange-800")),c.jsxs("div",{className:`text-[10px] px-1 py-0.5 rounded border shadow-sm truncate ${Pe}`,children:[c.jsx("span",{className:"font-bold mr-1",children:Qe.type===vt.CONSULTATION?"CS":Qe.type===vt.RCP?"RCP":"ACT"}),Qe.location]},Qe.id)})})},N=X.find(G=>G.id===J),k=re.find(G=>G.slotId===J),P=_==="COMPACT"?"h-20":"h-28";return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center mb-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 flex items-center",children:"Planning Hebdomadaire"}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Gnr automatiquement selon les rgles de configuration"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full xl:w-auto items-center",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>W(!L),className:`p-2 rounded-lg border flex items-center text-sm font-medium transition-colors ${L?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[c.jsx(T1,{className:"w-4 h-4 mr-2"}),"Affichage"]}),L&&c.jsxs("div",{className:"absolute top-full mt-2 right-0 w-64 bg-white rounded-xl shadow-xl border border-slate-200 p-4 z-50 animate-in fade-in zoom-in-95 duration-150",children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2 flex items-center",children:[c.jsx(ax,{className:"w-3 h-3 mr-1"})," Mode de Vue"]}),c.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[c.jsx("button",{onClick:()=>S("ROOM"),className:`flex-1 py-1.5 text-xs font-bold rounded ${w==="ROOM"?"bg-white shadow text-blue-700":"text-slate-500"}`,children:"Par Poste"}),c.jsx("button",{onClick:()=>S("DOCTOR"),className:`flex-1 py-1.5 text-xs font-bold rounded ${w==="DOCTOR"?"bg-white shadow text-blue-700":"text-slate-500"}`,children:"Par Mdecin"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2 flex items-center",children:[c.jsx(J3,{className:"w-3 h-3 mr-1"})," Couleurs"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{onClick:()=>U("DOCTOR"),className:`w-full flex items-center p-2 rounded text-xs font-bold border ${E==="DOCTOR"?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-2"}),"Par Mdecin"]}),c.jsxs("button",{onClick:()=>U("ACTIVITY"),className:`w-full flex items-center p-2 rounded text-xs font-bold border ${E==="ACTIVITY"?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-400 mr-2"}),"Par Activit"]})]})]}),c.jsxs("div",{children:[c.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2 flex items-center",children:[c.jsx(xm,{className:"w-3 h-3 mr-1"})," Densit"]}),c.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[c.jsx("button",{onClick:()=>Q("COMPACT"),className:`flex-1 py-1.5 text-xs font-bold rounded ${_==="COMPACT"?"bg-white shadow text-slate-700":"text-slate-500"}`,children:"Compact"}),c.jsx("button",{onClick:()=>Q("COMFORTABLE"),className:`flex-1 py-1.5 text-xs font-bold rounded ${_==="COMFORTABLE"?"bg-white shadow text-slate-700":"text-slate-500"}`,children:"Ar"})]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2 rounded-lg shadow-sm border border-slate-200",children:[c.jsx("button",{onClick:()=>ce("prev"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-600",children:c.jsx(ku,{className:"w-5 h-5"})}),c.jsx("input",{type:"date",className:"border-none text-slate-700 font-medium text-sm focus:ring-0 bg-transparent w-32",value:b.toISOString().split("T")[0],onChange:ee}),c.jsx("button",{onClick:()=>ce("next"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-600",children:c.jsx(gc,{className:"w-5 h-5"})})]}),c.jsxs("button",{onClick:le,disabled:ae,className:"bg-slate-800 text-white px-4 py-2 rounded-lg hover:bg-slate-700 flex items-center text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-wait",children:[ae?c.jsx(ol,{className:"w-4 h-4 mr-2 animate-spin"}):c.jsx(Bm,{className:"w-4 h-4 mr-2"}),ae?"Gnration...":"Tlcharger PDF"]})]})]}),c.jsx("div",{className:"flex-1 overflow-auto bg-white rounded-xl shadow border border-slate-200",ref:D,children:c.jsx("div",{className:"bg-white p-4 min-w-[1000px]",children:c.jsxs("table",{className:"w-full border-collapse table-fixed",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 border-b border-r bg-slate-100 w-28 sticky left-0 z-10 text-left text-xs font-bold text-slate-500 uppercase",children:w==="ROOM"?"Lieu / Crneau":"Mdecin"}),O.map(G=>{const z=Ws(b,G),ie=oo(z),[he,ue,Be]=z.split("-"),Qe=`${Be}/${ue}`;return c.jsxs("th",{className:`p-3 border-b border-r text-slate-700 font-bold uppercase text-sm w-1/5 min-w-[150px] ${ie?"bg-pink-50":"bg-slate-50"}`,children:[G,c.jsx("div",{className:"text-[10px] text-slate-400 font-normal mt-1 flex justify-center items-center",children:Qe})]},G)})]})}),c.jsx("tbody",{children:w==="ROOM"?Y.map((G,z)=>c.jsxs(rf.Fragment,{children:[c.jsxs("tr",{children:[c.jsx("td",{rowSpan:2,className:`p-3 border-r border-b text-xs sticky left-0 z-10 text-center shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] font-bold
                                    ${n.includes(G)?"bg-slate-50 text-slate-700":"bg-orange-50 text-orange-800"}
                                `,children:G}),O.map(ie=>c.jsxs("td",{className:`border-r border-b border-slate-100 relative ${P} align-top p-0`,children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 bg-yellow-50/80 text-[9px] px-1 text-yellow-700 uppercase font-bold tracking-wider z-0 border-b border-yellow-100",children:"Matin"}),c.jsx("div",{className:"pt-4 h-full",children:te(ie,vA.MORNING,G)})]},`${ie}-matin`))]}),c.jsx("tr",{children:O.map(ie=>c.jsxs("td",{className:`border-r border-b-2 border-slate-200 relative ${P} align-top p-0`,children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 bg-indigo-50/80 text-[9px] px-1 text-indigo-700 uppercase font-bold tracking-wider z-0 border-b border-indigo-100",children:"A.Midi"}),c.jsx("div",{className:"pt-4 h-full",children:te(ie,vA.AFTERNOON,G)})]},`${ie}-apres-midi`))})]},G)):A.map(G=>c.jsxs(rf.Fragment,{children:[c.jsxs("tr",{children:[c.jsxs("td",{rowSpan:2,className:"p-3 border-r border-b bg-slate-50 sticky left-0 z-10 text-center shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:[c.jsx("div",{className:"w-8 h-8 rounded-full mx-auto flex items-center justify-center text-xs font-bold text-white",style:{backgroundColor:uc(G.color)},children:G.name.substring(0,2)}),c.jsx("div",{className:"text-[10px] font-bold text-slate-700 mt-1 truncate max-w-[80px] mx-auto",children:G.name})]}),O.map(z=>c.jsx("td",{className:"border-r border-b border-slate-100 relative h-20 align-top p-0",children:c.jsx("div",{className:"pt-0 h-full",children:H(G,z,vA.MORNING)})},`${z}-matin`))]}),c.jsx("tr",{children:O.map(z=>c.jsx("td",{className:"border-r border-b-2 border-slate-200 relative h-20 align-top p-0",children:c.jsx("div",{className:"pt-0 h-full bg-slate-50/30",children:H(G,z,vA.AFTERNOON)})},`${z}-apres-midi`))})]},G.id))})]})})}),N&&c.jsx(NS,{slot:N,conflict:k,doctors:A,slots:X,unavailabilities:e,onClose:()=>V(null),onResolve:Ae,onCloseSlot:Ce})]})};var so={},Hh={},i1=function(A,e){return i1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},i1(A,e)};function QB(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i1(A,e);function t(){this.constructor=A}A.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var U0=function(){return U0=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},U0.apply(this,arguments)};function zu(A,e){var t={};for(var n in A)Object.prototype.hasOwnProperty.call(A,n)&&e.indexOf(n)<0&&(t[n]=A[n]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(A);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(A,n[a])&&(t[n[a]]=A[n[a]]);return t}function FB(A,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(A,e,t,n);else for(var f=A.length-1;f>=0;f--)(l=A[f])&&(i=(a<3?l(i):a>3?l(e,t,i):l(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i}function jB(A,e){return function(t,n){e(t,n,A)}}function LB(A,e,t,n,a,i){function l(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var f=n.kind,d=f==="getter"?"get":f==="setter"?"set":"value",h=!e&&A?n.static?A:A.prototype:null,g=e||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),b,x=!1,w=t.length-1;w>=0;w--){var S={};for(var E in n)S[E]=E==="access"?{}:n[E];for(var E in n.access)S.access[E]=n.access[E];S.addInitializer=function(_){if(x)throw new TypeError("Cannot add initializers after decoration has completed");i.push(l(_||null))};var U=(0,t[w])(f==="accessor"?{get:g.get,set:g.set}:g[d],S);if(f==="accessor"){if(U===void 0)continue;if(U===null||typeof U!="object")throw new TypeError("Object expected");(b=l(U.get))&&(g.get=b),(b=l(U.set))&&(g.set=b),(b=l(U.init))&&a.unshift(b)}else(b=l(U))&&(f==="field"?a.unshift(b):g[d]=b)}h&&Object.defineProperty(h,n.name,g),x=!0}function IB(A,e,t){for(var n=arguments.length>2,a=0;a<e.length;a++)t=n?e[a].call(A,t):e[a].call(A);return n?t:void 0}function TB(A){return typeof A=="symbol"?A:"".concat(A)}function DB(A,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(A,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function OB(A,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(A,e)}function jt(A,e,t,n){function a(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function f(g){try{h(n.next(g))}catch(b){l(b)}}function d(g){try{h(n.throw(g))}catch(b){l(b)}}function h(g){g.done?i(g.value):a(g.value).then(f,d)}h((n=n.apply(A,e||[])).next())})}function kB(A,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=f(0),l.throw=f(1),l.return=f(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,a=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){t.label=h[1];break}if(h[0]===6&&t.label<i[1]){t.label=i[1],i=h;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(h);break}i[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(A,t)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Ap=Object.create?(function(A,e,t,n){n===void 0&&(n=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,n,a)}):(function(A,e,t,n){n===void 0&&(n=t),A[n]=e[t]});function RB(A,e){for(var t in A)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ap(e,A,t)}function Q0(A){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&A[e],n=0;if(t)return t.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&n>=A.length&&(A=void 0),{value:A&&A[n++],done:!A}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function z1(A,e){var t=typeof Symbol=="function"&&A[Symbol.iterator];if(!t)return A;var n=t.call(A),a,i=[],l;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(f){l={error:f}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return i}function HB(){for(var A=[],e=0;e<arguments.length;e++)A=A.concat(z1(arguments[e]));return A}function MB(){for(var A=0,e=0,t=arguments.length;e<t;e++)A+=arguments[e].length;for(var n=Array(A),a=0,e=0;e<t;e++)for(var i=arguments[e],l=0,f=i.length;l<f;l++,a++)n[a]=i[l];return n}function PB(A,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return A.concat(i||Array.prototype.slice.call(e))}function Mu(A){return this instanceof Mu?(this.v=A,this):new Mu(A)}function KB(A,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(A,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(w){return function(S){return Promise.resolve(S).then(w,b)}}function f(w,S){n[w]&&(a[w]=function(E){return new Promise(function(U,_){i.push([w,E,U,_])>1||d(w,E)})},S&&(a[w]=S(a[w])))}function d(w,S){try{h(n[w](S))}catch(E){x(i[0][3],E)}}function h(w){w.value instanceof Mu?Promise.resolve(w.value.v).then(g,b):x(i[0][2],w)}function g(w){d("next",w)}function b(w){d("throw",w)}function x(w,S){w(S),i.shift(),i.length&&d(i[0][0],i[0][1])}}function qB(A){var e,t;return e={},n("next"),n("throw",function(a){throw a}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(a,i){e[a]=A[a]?function(l){return(t=!t)?{value:Mu(A[a](l)),done:!1}:i?i(l):l}:i}}function GB(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=A[Symbol.asyncIterator],t;return e?e.call(A):(A=typeof Q0=="function"?Q0(A):A[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=A[i]&&function(l){return new Promise(function(f,d){l=A[i](l),a(f,d,l.done,l.value)})}}function a(i,l,f,d){Promise.resolve(d).then(function(h){i({value:h,done:f})},l)}}function zB(A,e){return Object.defineProperty?Object.defineProperty(A,"raw",{value:e}):A.raw=e,A}var Z6=Object.create?(function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}):function(A,e){A.default=e},o1=function(A){return o1=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},o1(A)};function VB(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t=o1(A),n=0;n<t.length;n++)t[n]!=="default"&&Ap(e,A,t[n]);return Z6(e,A),e}function $B(A){return A&&A.__esModule?A:{default:A}}function YB(A,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?A!==e||!n:!e.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(A):n?n.value:e.get(A)}function WB(A,e,t,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?A!==e||!a:!e.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(A,t):a?a.value=t:e.set(A,t),t}function JB(A,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof A=="function"?e===A:A.has(e)}function XB(A,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,a;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],t&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),A.stack.push({value:e,dispose:n,async:t})}else t&&A.stack.push({async:!0});return e}var ej=typeof SuppressedError=="function"?SuppressedError:function(A,e,t){var n=new Error(t);return n.name="SuppressedError",n.error=A,n.suppressed=e,n};function ZB(A){function e(i){A.error=A.hasError?new ej(i,A.error,"An error was suppressed during disposal."):i,A.hasError=!0}var t,n=0;function a(){for(;t=A.stack.pop();)try{if(!t.async&&n===1)return n=0,A.stack.push(t),Promise.resolve().then(a);if(t.dispose){var i=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(i).then(a,function(l){return e(l),a()})}else n|=1}catch(l){e(l)}if(n===1)return A.hasError?Promise.reject(A.error):Promise.resolve();if(A.hasError)throw A.error}return a()}function e5(A,e){return typeof A=="string"&&/^\.\.?\//.test(A)?A.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,a,i,l){return n?e?".jsx":".js":a&&(!i||!l)?t:a+i+"."+l.toLowerCase()+"js"}):A}const tj={__extends:QB,__assign:U0,__rest:zu,__decorate:FB,__param:jB,__esDecorate:LB,__runInitializers:IB,__propKey:TB,__setFunctionName:DB,__metadata:OB,__awaiter:jt,__generator:kB,__createBinding:Ap,__exportStar:RB,__values:Q0,__read:z1,__spread:HB,__spreadArrays:MB,__spreadArray:PB,__await:Mu,__asyncGenerator:KB,__asyncDelegator:qB,__asyncValues:GB,__makeTemplateObject:zB,__importStar:VB,__importDefault:$B,__classPrivateFieldGet:YB,__classPrivateFieldSet:WB,__classPrivateFieldIn:JB,__addDisposableResource:XB,__disposeResources:ZB,__rewriteRelativeImportExtension:e5},Aj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:XB,get __assign(){return U0},__asyncDelegator:qB,__asyncGenerator:KB,__asyncValues:GB,__await:Mu,__awaiter:jt,__classPrivateFieldGet:YB,__classPrivateFieldIn:JB,__classPrivateFieldSet:WB,__createBinding:Ap,__decorate:FB,__disposeResources:ZB,__esDecorate:LB,__exportStar:RB,__extends:QB,__generator:kB,__importDefault:$B,__importStar:VB,__makeTemplateObject:zB,__metadata:OB,__param:jB,__propKey:TB,__read:z1,__rest:zu,__rewriteRelativeImportExtension:e5,__runInitializers:IB,__setFunctionName:DB,__spread:HB,__spreadArray:PB,__spreadArrays:MB,__values:Q0,default:tj},Symbol.toStringTag,{value:"Module"})),rj=A=>A?(...e)=>A(...e):(...e)=>fetch(...e);let rp=class extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}},t5=class extends rp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},l1=class extends rp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},c1=class extends rp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var F0;(function(A){A.Any="any",A.ApNortheast1="ap-northeast-1",A.ApNortheast2="ap-northeast-2",A.ApSouth1="ap-south-1",A.ApSoutheast1="ap-southeast-1",A.ApSoutheast2="ap-southeast-2",A.CaCentral1="ca-central-1",A.EuCentral1="eu-central-1",A.EuWest1="eu-west-1",A.EuWest2="eu-west-2",A.EuWest3="eu-west-3",A.SaEast1="sa-east-1",A.UsEast1="us-east-1",A.UsWest1="us-west-1",A.UsWest2="us-west-2"})(F0||(F0={}));class nj{constructor(e,{headers:t={},customFetch:n,region:a=F0.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=rj(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return jt(this,arguments,void 0,function*(t,n={}){var a;let i,l;try{const{headers:f,method:d,body:h,signal:g,timeout:b}=n;let x={},{region:w}=n;w||(w=this.region);const S=new URL(`${this.url}/${t}`);w&&w!=="any"&&(x["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let E;h&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(x["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(x["Content-Type"]="application/json",E=JSON.stringify(h)):E=h;let U=g;b&&(l=new AbortController,i=setTimeout(()=>l.abort(),b),g?(U=l.signal,g.addEventListener("abort",()=>l.abort())):U=l.signal);const _=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),f),body:E,signal:U}).catch(X=>{throw new t5(X)}),Q=_.headers.get("x-relay-error");if(Q&&Q==="true")throw new l1(_);if(!_.ok)throw new c1(_);let L=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),W;return L==="application/json"?W=yield _.json():L==="application/octet-stream"||L==="application/pdf"?W=yield _.blob():L==="text/event-stream"?W=_:L==="multipart/form-data"?W=yield _.formData():W=yield _.text(),{data:W,error:null,response:_}}catch(f){return{data:null,error:f,response:f instanceof c1||f instanceof l1?f.context:void 0}}finally{i&&clearTimeout(i)}})}}const sj=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return F0},FunctionsClient:nj,FunctionsError:rp,FunctionsFetchError:t5,FunctionsHttpError:c1,FunctionsRelayError:l1},Symbol.toStringTag,{value:"Module"})),A5=hf(sj);var Gn={};const Vu=hf(Aj);var Mh={},Ph={},Kh={},qh={},Gh={},zh={},cy;function r5(){if(cy)return zh;cy=1,Object.defineProperty(zh,"__esModule",{value:!0});class A extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return zh.default=A,zh}var uy;function n5(){if(uy)return Gh;uy=1,Object.defineProperty(Gh,"__esModule",{value:!0});const e=Vu.__importDefault(r5());let t=class{constructor(a){var i,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let f=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,g,b,x;let w=null,S=null,E=null,U=d.status,_=d.statusText;if(d.ok){if(this.method!=="HEAD"){const X=await d.text();X===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?S=X:S=JSON.parse(X))}const L=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),W=(b=d.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");L&&W&&W.length>1&&(E=parseInt(W[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,E=null,U=406,_="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const L=await d.text();try{w=JSON.parse(L),Array.isArray(w)&&d.status===404&&(S=[],w=null,U=200,_="OK")}catch{d.status===404&&L===""?(U=204,_="No Content"):w={message:L}}if(w&&this.isMaybeSingle&&(!((x=w==null?void 0:w.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,U=200,_="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:S,count:E,status:U,statusText:_}});return this.shouldThrowOnError||(f=f.catch(d=>{var h,g,b,x,w,S;let E="";const U=d==null?void 0:d.cause;if(U){const _=(h=U==null?void 0:U.message)!==null&&h!==void 0?h:"",Q=(g=U==null?void 0:U.code)!==null&&g!==void 0?g:"";E=`${(b=d==null?void 0:d.name)!==null&&b!==void 0?b:"FetchError"}: ${d==null?void 0:d.message}`,E+=`

Caused by: ${(x=U==null?void 0:U.name)!==null&&x!==void 0?x:"Error"}: ${_}`,Q&&(E+=` (${Q})`),U!=null&&U.stack&&(E+=`
${U.stack}`)}else E=(w=d==null?void 0:d.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(S=d==null?void 0:d.name)!==null&&S!==void 0?S:"FetchError"}: ${d==null?void 0:d.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(a,i)}returns(){return this}overrideTypes(){return this}};return Gh.default=t,Gh}var dy;function s5(){if(dy)return qh;dy=1,Object.defineProperty(qh,"__esModule",{value:!0});const e=Vu.__importDefault(n5());let t=class extends e.default{select(a){let i=!1;const l=(a??"*").split("").map(f=>/\s/.test(f)&&!i?"":(f==='"'&&(i=!i),f)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:l,foreignTable:f,referencedTable:d=f}={}){const h=d?`${d}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${a}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:l=i}={}){const f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,i,{foreignTable:l,referencedTable:f=l}={}){const d=typeof f>"u"?"offset":`${f}.offset`,h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(h,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:l=!1,buffers:f=!1,wal:d=!1,format:h="text"}={}){var g;const b=[a?"analyze":null,i?"verbose":null,l?"settings":null,f?"buffers":null,d?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${x}"; options=${b};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return qh.default=t,qh}var fy;function V1(){if(fy)return Kh;fy=1,Object.defineProperty(Kh,"__esModule",{value:!0});const e=Vu.__importDefault(s5()),t=new RegExp("[,()]");let n=class extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}regexMatch(i,l){return this.url.searchParams.append(i,`match.${l}`),this}regexIMatch(i,l){return this.url.searchParams.append(i,`imatch.${l}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}isDistinct(i,l){return this.url.searchParams.append(i,`isdistinct.${l}`),this}in(i,l){const f=Array.from(new Set(l)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${f})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:f,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const g=f===void 0?"":`(${f})`;return this.url.searchParams.append(i,`${h}fts${g}.${l}`),this}match(i){return Object.entries(i).forEach(([l,f])=>{this.url.searchParams.append(l,`eq.${f}`)}),this}not(i,l,f){return this.url.searchParams.append(i,`not.${l}.${f}`),this}or(i,{foreignTable:l,referencedTable:f=l}={}){const d=f?`${f}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,l,f){return this.url.searchParams.append(i,`${l}.${f}`),this}};return Kh.default=n,Kh}var hy;function a5(){if(hy)return Ph;hy=1,Object.defineProperty(Ph,"__esModule",{value:!0});const e=Vu.__importDefault(V1());let t=class{constructor(a,{headers:i={},schema:l,fetch:f}){this.url=a,this.headers=new Headers(i),this.schema=l,this.fetch=f}select(a,i){const{head:l=!1,count:f}=i??{},d=l?"HEAD":"GET";let h=!1;const g=(a??"*").split("").map(b=>/\s/.test(b)&&!h?"":(b==='"'&&(h=!h),b)).join("");return this.url.searchParams.set("select",g),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:l=!0}={}){var f;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(h.length>0){const g=[...new Set(h)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:l=!1,count:f,defaultToNull:d=!0}={}){var h;const g="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),f&&this.headers.append("Prefer",`count=${f}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const b=a.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(b.length>0){const x=[...new Set(b)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:i}={}){var l;const f="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var i;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return Ph.default=t,Ph}var py;function aj(){if(py)return Mh;py=1,Object.defineProperty(Mh,"__esModule",{value:!0});const A=Vu,e=A.__importDefault(a5()),t=A.__importDefault(V1());let n=class i5{constructor(i,{headers:l={},schema:f,fetch:d}={}){this.url=i,this.headers=new Headers(l),this.schemaName=f,this.fetch=d}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${i}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new i5(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:f=!1,get:d=!1,count:h}={}){var g;let b;const x=new URL(`${this.url}/rpc/${i}`);let w;f||d?(b=f?"HEAD":"GET",Object.entries(l).filter(([E,U])=>U!==void 0).map(([E,U])=>[E,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([E,U])=>{x.searchParams.append(E,U)})):(b="POST",w=l);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new t.default({method:b,url:x,headers:S,schema:this.schemaName,body:w,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};return Mh.default=n,Mh}var gy;function o5(){if(gy)return Gn;gy=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.PostgrestError=Gn.PostgrestBuilder=Gn.PostgrestTransformBuilder=Gn.PostgrestFilterBuilder=Gn.PostgrestQueryBuilder=Gn.PostgrestClient=void 0;const A=Vu,e=A.__importDefault(aj());Gn.PostgrestClient=e.default;const t=A.__importDefault(a5());Gn.PostgrestQueryBuilder=t.default;const n=A.__importDefault(V1());Gn.PostgrestFilterBuilder=n.default;const a=A.__importDefault(s5());Gn.PostgrestTransformBuilder=a.default;const i=A.__importDefault(n5());Gn.PostgrestBuilder=i.default;const l=A.__importDefault(r5());return Gn.PostgrestError=l.default,Gn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:l.default},Gn}class l5{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const n=t.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ij="2.86.2",oj=`realtime-js/${ij}`,c5="1.0.0",lj="2.0.0",my=c5,u1=1e4,cj=1e3,uj=100;var nc;(function(A){A[A.connecting=0]="connecting",A[A.open=1]="open",A[A.closing=2]="closing",A[A.closed=3]="closed"})(nc||(nc={}));var tn;(function(A){A.closed="closed",A.errored="errored",A.joined="joined",A.joining="joining",A.leaving="leaving"})(tn||(tn={}));var Ra;(function(A){A.close="phx_close",A.error="phx_error",A.join="phx_join",A.reply="phx_reply",A.leave="phx_leave",A.access_token="access_token"})(Ra||(Ra={}));var d1;(function(A){A.websocket="websocket"})(d1||(d1={}));var sc;(function(A){A.Connecting="connecting",A.Open="open",A.Closing="closing",A.Closed="closed"})(sc||(sc={}));class dj{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const a=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var t,n;const a=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,t,n){var a,i;const l=e.topic,f=(a=e.ref)!==null&&a!==void 0?a:"",d=(i=e.join_ref)!==null&&i!==void 0?i:"",h=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(g).length===0?"":JSON.stringify(g);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+f.length+l.length+h.length+b.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let S=new DataView(w),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,d.length),S.setUint8(E++,f.length),S.setUint8(E++,l.length),S.setUint8(E++,h.length),S.setUint8(E++,b.length),S.setUint8(E++,t),Array.from(d,_=>S.setUint8(E++,_.charCodeAt(0))),Array.from(f,_=>S.setUint8(E++,_.charCodeAt(0))),Array.from(l,_=>S.setUint8(E++,_.charCodeAt(0))),Array.from(h,_=>S.setUint8(E++,_.charCodeAt(0))),Array.from(b,_=>S.setUint8(E++,_.charCodeAt(0)));var U=new Uint8Array(w.byteLength+n.byteLength);return U.set(new Uint8Array(w),0),U.set(new Uint8Array(n),w.byteLength),U.buffer}decode(e,t){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return t(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,i,l,f,d]=n;return t({join_ref:a,ref:i,topic:l,event:f,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,a)}}_decodeUserBroadcast(e,t,n){const a=t.getUint8(1),i=t.getUint8(2),l=t.getUint8(3),f=t.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(e.slice(d,d+a));d=d+a;const g=n.decode(e.slice(d,d+i));d=d+i;const b=n.decode(e.slice(d,d+l));d=d+l;const x=e.slice(d,e.byteLength),w=f===this.JSON_ENCODING?JSON.parse(n.decode(x)):x,S={type:this.BROADCAST_EVENT,event:g,payload:w};return l>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>t.includes(n)))}}class u5{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fr;(function(A){A.abstime="abstime",A.bool="bool",A.date="date",A.daterange="daterange",A.float4="float4",A.float8="float8",A.int2="int2",A.int4="int4",A.int4range="int4range",A.int8="int8",A.int8range="int8range",A.json="json",A.jsonb="jsonb",A.money="money",A.numeric="numeric",A.oid="oid",A.reltime="reltime",A.text="text",A.time="time",A.timestamp="timestamp",A.timestamptz="timestamptz",A.timetz="timetz",A.tsrange="tsrange",A.tstzrange="tstzrange"})(fr||(fr={}));const wy=(A,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,l)=>(i[l]=fj(l,A,e,a),i),{}):{}},fj=(A,e,t,n)=>{const a=e.find(f=>f.name===A),i=a==null?void 0:a.type,l=t[A];return i&&!n.includes(i)?d5(i,l):f1(l)},d5=(A,e)=>{if(A.charAt(0)==="_"){const t=A.slice(1,A.length);return mj(e,t)}switch(A){case fr.bool:return hj(e);case fr.float4:case fr.float8:case fr.int2:case fr.int4:case fr.int8:case fr.numeric:case fr.oid:return pj(e);case fr.json:case fr.jsonb:return gj(e);case fr.timestamp:return wj(e);case fr.abstime:case fr.date:case fr.daterange:case fr.int4range:case fr.int8range:case fr.money:case fr.reltime:case fr.text:case fr.time:case fr.timestamptz:case fr.timetz:case fr.tsrange:case fr.tstzrange:return f1(e);default:return f1(e)}},f1=A=>A,hj=A=>{switch(A){case"t":return!0;case"f":return!1;default:return A}},pj=A=>{if(typeof A=="string"){const e=parseFloat(A);if(!Number.isNaN(e))return e}return A},gj=A=>{if(typeof A=="string")try{return JSON.parse(A)}catch(e){return console.log(`JSON parse error: ${e}`),A}return A},mj=(A,e)=>{if(typeof A!="string")return A;const t=A.length-1,n=A[t];if(A[0]==="{"&&n==="}"){let i;const l=A.slice(1,t);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(f=>d5(e,f))}return A},wj=A=>typeof A=="string"?A.replace(" ","T"):A,f5=A=>{const e=new URL(A);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class im{constructor(e,t,n={},a=u1){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var h1;(function(A){A.SYNC="sync",A.JOIN="join",A.LEAVE="leave"})(h1||(h1={}));let h5=class c0{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=c0.syncState(this.state,a,i,l),this.pendingDiffs.forEach(d=>{this.state=c0.syncDiff(this.state,d,i,l)}),this.pendingDiffs=[],f()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=c0.syncDiff(this.state,a,i,l),f())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const i=this.cloneDeep(e),l=this.transformState(t),f={},d={};return this.map(i,(h,g)=>{l[h]||(d[h]=g)}),this.map(l,(h,g)=>{const b=i[h];if(b){const x=g.map(U=>U.presence_ref),w=b.map(U=>U.presence_ref),S=g.filter(U=>w.indexOf(U.presence_ref)<0),E=b.filter(U=>x.indexOf(U.presence_ref)<0);S.length>0&&(f[h]=S),E.length>0&&(d[h]=E)}else f[h]=g}),this.syncDiff(i,{joins:f,leaves:d},n,a)}static syncDiff(e,t,n,a){const{joins:i,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(f,d)=>{var h;const g=(h=e[f])!==null&&h!==void 0?h:[];if(e[f]=this.cloneDeep(d),g.length>0){const b=e[f].map(w=>w.presence_ref),x=g.filter(w=>b.indexOf(w.presence_ref)<0);e[f].unshift(...x)}n(f,g,d)}),this.map(l,(f,d)=>{let h=e[f];if(!h)return;const g=d.map(b=>b.presence_ref);h=h.filter(b=>g.indexOf(b.presence_ref)<0),e[f]=h,a(f,h,d),h.length===0&&delete e[f]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var p1;(function(A){A.ALL="*",A.INSERT="INSERT",A.UPDATE="UPDATE",A.DELETE="DELETE"})(p1||(p1={}));var Du;(function(A){A.BROADCAST="broadcast",A.PRESENCE="presence",A.POSTGRES_CHANGES="postgres_changes",A.SYSTEM="system"})(Du||(Du={}));var vi;(function(A){A.SUBSCRIBED="SUBSCRIBED",A.TIMED_OUT="TIMED_OUT",A.CLOSED="CLOSED",A.CHANNEL_ERROR="CHANNEL_ERROR"})(vi||(vi={}));const vj=tn;let p5=class g5{constructor(e,t={config:{}},n){var a,i;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new im(this,Ra.join,this.params,this.timeout),this.rejoinTimer=new u5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ra.reply,{},(l,f)=>{this._trigger(this._replyEventName(f),l)}),this.presence=new h5(this),this.broadcastEndpointURL=f5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==tn.closed){const{config:{broadcast:l,presence:f,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[Du.PRESENCE]&&this.bindings[Du.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,b={},x={broadcast:l,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(vi.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(vi.CLOSED)),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket.setAuth(),w===void 0){e==null||e(vi.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,U=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,_=[];for(let Q=0;Q<U;Q++){const L=E[Q],{filter:{event:W,schema:X,table:re,filter:J}}=L,V=w&&w[Q];if(V&&V.event===W&&V.schema===X&&V.table===re&&V.filter===J)_.push(Object.assign(Object.assign({},L),{id:V.id}));else{this.unsubscribe(),this.state=tn.errored,e==null||e(vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(vi.SUBSCRIBED);return}}).receive("error",w=>{this.state=tn.errored,e==null||e(vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===tn.joined&&e===Du.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let d=f.statusText;try{const h=await f.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,f,d;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(f=(l=this.params)===null||l===void 0?void 0:l.config)===null||f===void 0?void 0:f.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ra.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new im(this,Ra.leave,{},e),n.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tn.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(i),l}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new im(this,e,t,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uj){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,i;const l=e.toLocaleLowerCase(),{close:f,error:d,leave:h,join:g}=Ra;if(n&&[f,d,h,g].indexOf(l)>=0&&n!==this._joinRef())return;let x=this._onMessage(l,t,n);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var S,E,U;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((U=(E=w.filter)===null||E===void 0?void 0:E.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===l}).map(w=>w.callback(x,n)):(i=this.bindings[l])===null||i===void 0||i.filter(w=>{var S,E,U,_,Q,L;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const W=w.id,X=(S=w.filter)===null||S===void 0?void 0:S.event;return W&&((E=t.ids)===null||E===void 0?void 0:E.includes(W))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((U=t.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const W=(Q=(_=w==null?void 0:w.filter)===null||_===void 0?void 0:_.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return W==="*"||W===((L=t==null?void 0:t.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof x=="object"&&"ids"in x){const S=x.data,{schema:E,table:U,commit_timestamp:_,type:Q,errors:L}=S;x=Object.assign(Object.assign({},{schema:E,table:U,commit_timestamp:_,eventType:Q,new:{},old:{},errors:L}),this._getPayloadRecords(S))}w.callback(x,n)})}_isClosed(){return this.state===tn.closed}_isJoined(){return this.state===tn.joined}_isJoining(){return this.state===tn.joining}_isLeaving(){return this.state===tn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),i={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&g5.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ra.close,{},e)}_onError(e){this._on(Ra.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=wy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=wy(e.columns,e.old_record)),t}};const om=()=>{},Vh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bj=[1e3,2e3,5e3,1e4],yj=1e4,xj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Bj=class{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=u1,this.transport=null,this.heartbeatIntervalMs=Vh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=om,this.ref=0,this.reconnectTimer=null,this.vsn=my,this.logger=om,this.conn=null,this.sendBuffer=[],this.serializer=new dj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=t==null?void 0:t.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${d1.websocket}`,this.httpEndpoint=f5(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=l5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case nc.connecting:return sc.Connecting;case nc.open:return sc.Open;case nc.closing:return sc.Closing;default:return sc.Closed}}isConnected(){return this.connectionState()===sc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new p5(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:n,payload:a,ref:i}=e,l=()=>{this.encode(e,f=>{var d;(d=this.conn)===null||d===void 0||d.send(f)})};this.log("push",`${t} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cj,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Vh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:l}=t,f=l?`(${l})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${f}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,i,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===nc.open||this.conn.readyState===nc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ra.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([xj],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const a={access_token:t,version:oj};t&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ra.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new u5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,a,i,l,f,d,h,g,b,x,w;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:u1,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Vh.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:om,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:my,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(S=>bj[S-1]||yj),this.vsn){case c5:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((S,E)=>E(JSON.stringify(S))),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:((S,E)=>E(JSON.parse(S)));break;case lj:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const Cj=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:vj,get REALTIME_LISTEN_TYPES(){return Du},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return p1},get REALTIME_PRESENCE_LISTEN_EVENTS(){return h1},get REALTIME_SUBSCRIBE_STATES(){return vi},RealtimeChannel:p5,RealtimeClient:Bj,RealtimePresence:h5,WebSocketFactory:l5},Symbol.toStringTag,{value:"Module"})),m5=hf(Cj);class bf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _r(A){return typeof A=="object"&&A!==null&&"__isStorageError"in A}class w5 extends bf{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class j0 extends bf{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const $1=A=>A?(...e)=>A(...e):(...e)=>fetch(...e),Ej=()=>Response,g1=A=>{if(Array.isArray(A))return A.map(t=>g1(t));if(typeof A=="function"||A!==Object(A))return A;const e={};return Object.entries(A).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=g1(n)}),e},Sj=A=>{if(typeof A!="object"||A===null)return!1;const e=Object.getPrototypeOf(A);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in A)&&!(Symbol.iterator in A)},_j=A=>!A||typeof A!="string"||A.length===0||A.length>100||A.trim()!==A||A.includes("/")||A.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(A),lm=A=>{var e;return A.msg||A.message||A.error_description||(typeof A.error=="string"?A.error:(e=A.error)===null||e===void 0?void 0:e.message)||JSON.stringify(A)},Nj=(A,e,t)=>jt(void 0,void 0,void 0,function*(){const n=yield Ej();A instanceof n&&!(t!=null&&t.noResolveJson)?A.json().then(a=>{const i=A.status||500,l=(a==null?void 0:a.statusCode)||i+"";e(new w5(lm(a),i,l))}).catch(a=>{e(new j0(lm(a),a))}):e(new j0(lm(A),A))}),Uj=(A,e,t,n)=>{const a={method:A,headers:(e==null?void 0:e.headers)||{}};return A==="GET"||!n?a:(Sj(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),t))};function yf(A,e,t,n,a,i){return jt(this,void 0,void 0,function*(){return new Promise((l,f)=>{A(t,Uj(e,n,a,i)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>Nj(d,f,n))})})}function df(A,e,t,n){return jt(this,void 0,void 0,function*(){return yf(A,"GET",e,t,n)})}function ka(A,e,t,n,a){return jt(this,void 0,void 0,function*(){return yf(A,"POST",e,n,a,t)})}function m1(A,e,t,n,a){return jt(this,void 0,void 0,function*(){return yf(A,"PUT",e,n,a,t)})}function Qj(A,e,t,n){return jt(this,void 0,void 0,function*(){return yf(A,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function Y1(A,e,t,n,a){return jt(this,void 0,void 0,function*(){return yf(A,"DELETE",e,n,a,t)})}class Fj{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return jt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_r(e))return{data:null,error:e};throw e}})}}var v5;class jj{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[v5]="BlobDownloadBuilder",this.promise=null}asStream(){return new Fj(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return jt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_r(e))return{data:null,error:e};throw e}})}}v5=Symbol.toStringTag;const Lj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ij{constructor(e,t={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=$1(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,a){return jt(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},vy),a);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),d&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(d))):(i=n,f["cache-control"]=`max-age=${l.cacheControl}`,f["content-type"]=l.contentType,d&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),a!=null&&a.headers&&(f=Object.assign(Object.assign({},f),a.headers));const h=this._removeEmptyFolders(t),g=this._getFinalPath(h),b=yield(e=="PUT"?m1:ka)(this.fetch,`${this.url}/object/${g}`,i,Object.assign({headers:f},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:b.Id,fullPath:b.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}upload(e,t,n){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return jt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),f=new URL(this.url+`/object/upload/sign/${l}`);f.searchParams.set("token",t);try{let d;const h=Object.assign({upsert:vy.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const b=yield m1(this.fetch,f.toString(),d,{headers:g});return{data:{path:i,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(_r(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return jt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=yield ka(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),f=l.searchParams.get("token");if(!f)throw new bf("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:f},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}update(e,t,n){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return jt(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}copy(e,t,n){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield ka(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return jt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield ka(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return jt(this,void 0,void 0,function*(){try{const a=yield ka(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}download(e,t){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=i?`?${i}`:"",f=this._getFinalPath(e),d=()=>df(this.fetch,`${this.url}/${a}/${f}${l}`,{headers:this.headers,noResolveJson:!0});return new jj(d,this.shouldThrowOnError)}info(e){return jt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield df(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:g1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}exists(e){return jt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Qj(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n)&&n instanceof j0){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&a.push(i);const f=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&a.push(d);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${n}${h}`)}}}remove(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Y1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}list(e,t,n){return jt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Lj),t),{prefix:e||""});return{data:yield ka(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}listV2(e,t){return jt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ka(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const b5="2.86.2",y5={"X-Client-Info":`storage-js/${b5}`};class Tj{constructor(e,t={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},y5),t),this.fetch=$1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return jt(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield df(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}getBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}createBucket(e){return jt(this,arguments,void 0,function*(t,n={public:!1}){try{return{data:yield ka(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}updateBucket(e,t){return jt(this,void 0,void 0,function*(){try{return{data:yield m1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}emptyBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Y1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var ff=class extends Error{constructor(A,e){var t;super(A),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Dj(A,e,t){const n=new URL(e,A);if(t)for(const[a,i]of Object.entries(t))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function Oj(A){return!A||A.type==="none"?{}:A.type==="bearer"?{Authorization:`Bearer ${A.token}`}:A.type==="header"?{[A.name]:A.value}:A.type==="custom"?await A.getHeaders():{}}function kj(A){const e=A.fetchImpl??globalThis.fetch;return{async request({method:t,path:n,query:a,body:i,headers:l}){const f=Dj(A.baseUrl,n,a),d=await Oj(A.auth),h=await e(f,{method:t,headers:{...i?{"Content-Type":"application/json"}:{},...d,...l},body:i?JSON.stringify(i):void 0}),g=await h.text(),b=(h.headers.get("content-type")||"").includes("application/json"),x=b&&g?JSON.parse(g):g;if(!h.ok){const w=b?x:void 0,S=w==null?void 0:w.error;throw new ff((S==null?void 0:S.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:w})}return{status:h.status,headers:h.headers,data:x}}}}function $h(A){return A.join("")}var Rj=class{constructor(A,e=""){this.client=A,this.prefix=e}async listNamespaces(A){const e=A?{parent:$h(A.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(A,e){const t={namespace:A.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(A){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$h(A.namespace)}`})}async loadNamespaceMetadata(A){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$h(A.namespace)}`})).data.properties}}async namespaceExists(A){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$h(A.namespace)}`}),!0}catch(e){if(e instanceof ff&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(A,e){try{return await this.createNamespace(A,e)}catch(t){if(t instanceof ff&&t.status===409)return;throw t}}};function mu(A){return A.join("")}var Hj=class{constructor(A,e="",t){this.client=A,this.prefix=e,this.accessDelegation=t}async listTables(A){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mu(A.namespace)}/tables`})).data.identifiers}async createTable(A,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mu(A.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(A,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mu(A.namespace)}/tables/${A.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(A,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mu(A.namespace)}/tables/${A.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(A){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mu(A.namespace)}/tables/${A.name}`,headers:e})).data.metadata}async tableExists(A){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mu(A.namespace)}/tables/${A.name}`,headers:e}),!0}catch(t){if(t instanceof ff&&t.status===404)return!1;throw t}}async createTableIfNotExists(A,e){try{return await this.createTable(A,e)}catch(t){if(t instanceof ff&&t.status===409)return await this.loadTable({namespace:A.namespace,name:e.name});throw t}}},Mj=class{constructor(A){var n;let e="v1";A.catalogName&&(e+=`/${A.catalogName}`);const t=A.baseUrl.endsWith("/")?A.baseUrl:`${A.baseUrl}/`;this.client=kj({baseUrl:t,auth:A.auth,fetchImpl:A.fetch}),this.accessDelegation=(n=A.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Rj(this.client,e),this.tableOps=new Hj(this.client,e,this.accessDelegation)}async listNamespaces(A){return this.namespaceOps.listNamespaces(A)}async createNamespace(A,e){return this.namespaceOps.createNamespace(A,e)}async dropNamespace(A){await this.namespaceOps.dropNamespace(A)}async loadNamespaceMetadata(A){return this.namespaceOps.loadNamespaceMetadata(A)}async listTables(A){return this.tableOps.listTables(A)}async createTable(A,e){return this.tableOps.createTable(A,e)}async updateTable(A,e){return this.tableOps.updateTable(A,e)}async dropTable(A,e){await this.tableOps.dropTable(A,e)}async loadTable(A){return this.tableOps.loadTable(A)}async namespaceExists(A){return this.namespaceOps.namespaceExists(A)}async tableExists(A){return this.tableOps.tableExists(A)}async createNamespaceIfNotExists(A,e){return this.namespaceOps.createNamespaceIfNotExists(A,e)}async createTableIfNotExists(A,e){return this.tableOps.createTableIfNotExists(A,e)}};class x5{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},y5),t),this.fetch=$1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}listBuckets(e){return jt(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const n=t.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield df(this.fetch,a,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Y1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}from(e){if(!_j(e))throw new bf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Mj({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>jt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const W1={"X-Client-Info":`storage-js/${b5}`,"Content-Type":"application/json"};class J1 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Qs(A){return typeof A=="object"&&A!==null&&"__isStorageVectorsError"in A}class u0 extends J1{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class B5 extends J1{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var w1;(function(A){A.InternalError="InternalError",A.S3VectorConflictException="S3VectorConflictException",A.S3VectorNotFoundException="S3VectorNotFoundException",A.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",A.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",A.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(w1||(w1={}));const np=A=>A?(...e)=>A(...e):(...e)=>fetch(...e),Pj=()=>Response,C5=A=>{if(typeof A!="object"||A===null)return!1;const e=Object.getPrototypeOf(A);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in A)&&!(Symbol.iterator in A)},Kj=A=>Array.from(new Float32Array(A)),qj=(A,e)=>{if(e!==void 0&&A.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${A.float32.length}`)},by=A=>A.msg||A.message||A.error_description||A.error||JSON.stringify(A),Gj=(A,e,t)=>jt(void 0,void 0,void 0,function*(){if(A&&typeof A=="object"&&"status"in A&&"ok"in A&&typeof A.status=="number"&&!(t!=null&&t.noResolveJson)){const a=A.status||500,i=A;if(typeof i.json=="function")i.json().then(l=>{const f=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||a+"";e(new u0(by(l),a,f))}).catch(()=>{const l=a+"",f=i.statusText||`HTTP ${a} error`;e(new u0(f,a,l))});else{const l=a+"",f=i.statusText||`HTTP ${a} error`;e(new u0(f,a,l))}}else e(new B5(by(A),A))}),zj=(A,e,t,n)=>{const a={method:A,headers:(e==null?void 0:e.headers)||{}};return n?(C5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),t)):a};function Vj(A,e,t,n,a,i){return jt(this,void 0,void 0,function*(){return new Promise((l,f)=>{A(t,zj(e,n,a,i)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>Gj(d,f,n))})})}function $s(A,e,t,n,a){return jt(this,void 0,void 0,function*(){return Vj(A,"POST",e,n,a,t)})}class E5{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W1),t),this.fetch=np(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield $s(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}getIndex(e,t){return jt(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qs(n))return{data:null,error:n};throw n}})}listIndexes(e){return jt(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return jt(this,void 0,void 0,function*(){try{return{data:(yield $s(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qs(n))return{data:null,error:n};throw n}})}}class S5{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W1),t),this.fetch=np(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $s(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}getVectors(e){return jt(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}listVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield $s(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}queryVectors(e){return jt(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}deleteVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $s(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}}class _5{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W1),t),this.fetch=np(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield $s(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}getBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}listBuckets(){return jt(this,arguments,void 0,function*(e={}){try{return{data:yield $s(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield $s(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}}class N5 extends _5{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new U5(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return jt(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return jt(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return jt(this,arguments,void 0,function*(t={}){return e.listBuckets.call(this,t)})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return jt(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class U5 extends E5{constructor(e,t,n,a){super(e,t,a),this.vectorBucketName=n}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return jt(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return jt(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return jt(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return jt(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Q5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Q5 extends S5{constructor(e,t,n,a,i){super(e,t,i),this.vectorBucketName=n,this.indexName=a}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return jt(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return jt(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return jt(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return jt(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return jt(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $j extends Tj{constructor(e,t={},n,a){super(e,t,n,a)}from(e){return new Ij(this.url,this.headers,e,this.fetch)}get vectors(){return new N5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new x5(this.url+"/iceberg",this.headers,this.fetch)}}const Yj=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:x5,StorageApiError:w5,StorageClient:$j,StorageError:bf,StorageUnknownError:j0,StorageVectorsApiError:u0,StorageVectorsClient:N5,StorageVectorsError:J1,get StorageVectorsErrorCode(){return w1},StorageVectorsUnknownError:B5,VectorBucketApi:_5,VectorBucketScope:U5,VectorDataApi:S5,VectorIndexApi:E5,VectorIndexScope:Q5,isPlainObject:C5,isStorageError:_r,isStorageVectorsError:Qs,normalizeToFloat32:Kj,resolveFetch:np,resolveResponse:Pj,validateVectorDimension:qj},Symbol.toStringTag,{value:"Module"})),Wj=hf(Yj);var cm={},Rd={},yy;function Jj(){return yy||(yy=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.version=void 0,Rd.version="2.86.2"),Rd}var xy;function Xj(){return xy||(xy=1,(function(A){Object.defineProperty(A,"__esModule",{value:!0}),A.DEFAULT_REALTIME_OPTIONS=A.DEFAULT_AUTH_OPTIONS=A.DEFAULT_DB_OPTIONS=A.DEFAULT_GLOBAL_OPTIONS=A.DEFAULT_HEADERS=void 0;const e=Jj();let t="";typeof Deno<"u"?t="deno":typeof document<"u"?t="web":typeof navigator<"u"&&navigator.product==="ReactNative"?t="react-native":t="node",A.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${t}/${e.version}`},A.DEFAULT_GLOBAL_OPTIONS={headers:A.DEFAULT_HEADERS},A.DEFAULT_DB_OPTIONS={schema:"public"},A.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A.DEFAULT_REALTIME_OPTIONS={}})(cm)),cm}var um={},By;function Zj(){return By||(By=1,(function(A){Object.defineProperty(A,"__esModule",{value:!0}),A.fetchWithAuth=A.resolveHeadersConstructor=A.resolveFetch=void 0;const e=a=>a?(...i)=>a(...i):(...i)=>fetch(...i);A.resolveFetch=e;const t=()=>Headers;A.resolveHeadersConstructor=t;const n=(a,i,l)=>{const f=(0,A.resolveFetch)(l),d=(0,A.resolveHeadersConstructor)();return async(h,g)=>{var b;const x=(b=await i())!==null&&b!==void 0?b:a;let w=new d(g==null?void 0:g.headers);return w.has("apikey")||w.set("apikey",a),w.has("Authorization")||w.set("Authorization",`Bearer ${x}`),f(h,Object.assign(Object.assign({},g),{headers:w}))}};A.fetchWithAuth=n})(um)),um}var ao={},Cy;function eL(){if(Cy)return ao;Cy=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.isBrowser=void 0,ao.uuid=A,ao.ensureTrailingSlash=e,ao.applySettingDefaults=n,ao.validateSupabaseUrl=a;function A(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var l=Math.random()*16|0,f=i=="x"?l:l&3|8;return f.toString(16)})}function e(i){return i.endsWith("/")?i:i+"/"}const t=()=>typeof window<"u";ao.isBrowser=t;function n(i,l){var f,d;const{db:h,auth:g,realtime:b,global:x}=i,{db:w,auth:S,realtime:E,global:U}=l,_={db:Object.assign(Object.assign({},w),h),auth:Object.assign(Object.assign({},S),g),realtime:Object.assign(Object.assign({},E),b),storage:{},global:Object.assign(Object.assign(Object.assign({},U),x),{headers:Object.assign(Object.assign({},(f=U==null?void 0:U.headers)!==null&&f!==void 0?f:{}),(d=x==null?void 0:x.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return i.accessToken?_.accessToken=i.accessToken:delete _.accessToken,_}function a(i){const l=i==null?void 0:i.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ao}var Hd={};const F5="2.86.2",Su=30*1e3,v1=3,dm=v1*Su,tL="http://localhost:9999",AL="supabase.auth.token",rL={"X-Client-Info":`gotrue-js/${F5}`},b1="X-Supabase-Api-Version",j5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sL=600*1e3;let Pu=class extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}};function Rt(A){return typeof A=="object"&&A!==null&&"__isAuthError"in A}let L5=class extends Pu{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}};function I5(A){return Rt(A)&&A.name==="AuthApiError"}let al=class extends Pu{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},ho=class extends Pu{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}},Ns=class extends ho{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function T5(A){return Rt(A)&&A.name==="AuthSessionMissingError"}let Zl=class extends ho{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},$d=class extends ho{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Yd=class extends ho{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function D5(A){return Rt(A)&&A.name==="AuthImplicitGrantRedirectError"}let y1=class extends ho{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},L0=class extends ho{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function d0(A){return Rt(A)&&A.name==="AuthRetryableFetchError"}let x1=class extends ho{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}};function aL(A){return Rt(A)&&A.name==="AuthWeakPasswordError"}let I0=class extends ho{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const T0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ey=` 	
\r=`.split(""),iL=(()=>{const A=new Array(128);for(let e=0;e<A.length;e+=1)A[e]=-1;for(let e=0;e<Ey.length;e+=1)A[Ey[e].charCodeAt(0)]=-2;for(let e=0;e<T0.length;e+=1)A[T0[e].charCodeAt(0)]=e;return A})();function Sy(A,e,t){if(A!==null)for(e.queue=e.queue<<8|A,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(T0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(T0[n]),e.queuedBits-=6}}function O5(A,e,t){const n=iL[A];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(A)}"`)}}function _y(A){const e=[],t=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{cL(l,n,t)};for(let l=0;l<A.length;l+=1)O5(A.charCodeAt(l),a,i);return e.join("")}function oL(A,e){if(A<=127){e(A);return}else if(A<=2047){e(192|A>>6),e(128|A&63);return}else if(A<=65535){e(224|A>>12),e(128|A>>6&63),e(128|A&63);return}else if(A<=1114111){e(240|A>>18),e(128|A>>12&63),e(128|A>>6&63),e(128|A&63);return}throw new Error(`Unrecognized Unicode codepoint: ${A.toString(16)}`)}function lL(A,e){for(let t=0;t<A.length;t+=1){let n=A.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(A.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}oL(n,e)}}function cL(A,e,t){if(e.utf8seq===0){if(A<=127){t(A);return}for(let n=1;n<6;n+=1)if((A>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=A&31;else if(e.utf8seq===3)e.codepoint=A&15;else if(e.utf8seq===4)e.codepoint=A&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(A<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|A&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ou(A){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<A.length;a+=1)O5(A.charCodeAt(a),t,n);return new Uint8Array(e)}function uL(A){const e=[];return lL(A,t=>e.push(t)),new Uint8Array(e)}function oc(A){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};return A.forEach(a=>Sy(a,t,n)),Sy(null,t,n),e.join("")}function dL(A){return Math.round(Date.now()/1e3)+A}function fL(){return Symbol("auth-callback")}const jn=()=>typeof window<"u"&&typeof document<"u",Yl={tested:!1,writable:!1},k5=()=>{if(!jn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yl.tested)return Yl.writable;const A=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(A,A),globalThis.localStorage.removeItem(A),Yl.tested=!0,Yl.writable=!0}catch{Yl.tested=!0,Yl.writable=!1}return Yl.writable};function hL(A){const e={},t=new URL(A);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const R5=A=>A?(...e)=>A(...e):(...e)=>fetch(...e),pL=A=>typeof A=="object"&&A!==null&&"status"in A&&"ok"in A&&"json"in A&&typeof A.json=="function",_u=async(A,e,t)=>{await A.setItem(e,JSON.stringify(t))},Wl=async(A,e)=>{const t=await A.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Fn=async(A,e)=>{await A.removeItem(e)};class sp{constructor(){this.promise=new sp.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}sp.promiseConstructor=Promise;function fm(A){const e=A.split(".");if(e.length!==3)throw new I0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!nL.test(e[n]))throw new I0("JWT not in base64url format");return{header:JSON.parse(_y(e[0])),payload:JSON.parse(_y(e[1])),signature:Ou(e[2]),raw:{header:e[0],payload:e[1]}}}async function gL(A){return await new Promise(e=>{setTimeout(()=>e(null),A)})}function mL(A,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await A(i);if(!e(i,null,l)){n(l);return}}catch(l){if(!e(i,l)){a(l);return}}})()})}function wL(A){return("0"+A.toString(16)).substr(-2)}function vL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let i=0;i<56;i++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,wL).join("")}async function bL(A){const t=new TextEncoder().encode(A),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function yL(A){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),A;const t=await bL(A);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wu(A,e,t=!1){const n=vL();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await _u(A,`${e}-code-verifier`,a);const i=await yL(n);return[i,n===i?"plain":"s256"]}const xL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BL(A){const e=A.headers.get(b1);if(!e||!e.match(xL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CL(A){if(!A)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(A<=e)throw new Error("JWT has expired")}function EL(A){switch(A){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vu(A){if(!SL.test(A))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hm(){const A={};return new Proxy(A,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _L(A,e){return new Proxy(A,{get:(t,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,n,a)}})}function Ny(A){return JSON.parse(JSON.stringify(A))}const ec=A=>A.msg||A.message||A.error_description||A.error||JSON.stringify(A),NL=[502,503,504];async function Uy(A){var e;if(!pL(A))throw new L0(ec(A),0);if(NL.includes(A.status))throw new L0(ec(A),A.status);let t;try{t=await A.json()}catch(i){throw new al(ec(i),i)}let n;const a=BL(A);if(a&&a.getTime()>=j5["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new x1(ec(t),A.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ns}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new x1(ec(t),A.status,t.weak_password.reasons);throw new L5(ec(t),A.status||500,n)}const UL=(A,e,t,n)=>{const a={method:A,headers:(e==null?void 0:e.headers)||{}};return A==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function tA(A,e,t,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[b1]||(i[b1]=j5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const f=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await QL(A,e,t+f,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function QL(A,e,t,n,a,i){const l=UL(e,n,a,i);let f;try{f=await A(t,Object.assign({},l))}catch(d){throw console.error(d),new L0(ec(d),0)}if(f.ok||await Uy(f),n!=null&&n.noResolveJson)return f;try{return await f.json()}catch(d){await Uy(d)}}function Oa(A){var e;let t=null;LL(A)&&(t=Object.assign({},A),A.expires_at||(t.expires_at=dL(A.expires_in)));const n=(e=A.user)!==null&&e!==void 0?e:A;return{data:{session:t,user:n},error:null}}function Qy(A){const e=Oa(A);return!e.error&&A.weak_password&&typeof A.weak_password=="object"&&Array.isArray(A.weak_password.reasons)&&A.weak_password.reasons.length&&A.weak_password.message&&typeof A.weak_password.message=="string"&&A.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=A.weak_password),e}function il(A){var e;return{data:{user:(e=A.user)!==null&&e!==void 0?e:A},error:null}}function FL(A){return{data:A,error:null}}function jL(A){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:i}=A,l=zu(A,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},l);return{data:{properties:f,user:d},error:null}}function Fy(A){return A}function LL(A){return A.access_token&&A.refresh_token&&A.expires_in}const f0=["global","local","others"];let X1=class{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=R5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=f0[0]){if(f0.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${f0.join(", ")}`);try{return await tA(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await tA(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:il})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=zu(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await tA(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:jL,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Rt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await tA(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:il})}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,i,l,f,d;try{const h={nextPage:null,lastPage:0,total:0},g=await tA(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Fy});if(g.error)throw g.error;const b=await g.json(),x=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(S.split(";")[1].split("=")[1]);h[`${U}Page`]=E}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(Rt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){vu(e);try{return await tA(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:il})}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){vu(e);try{return await tA(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:il})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){vu(e);try{return await tA(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:il})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){vu(e.userId);try{const{data:t,error:n}=await tA(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){vu(e.userId),vu(e.id);try{return{data:await tA(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,a,i,l,f,d;try{const h={nextPage:null,lastPage:0,total:0},g=await tA(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Fy});if(g.error)throw g.error;const b=await g.json(),x=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(S.split(";")[1].split("=")[1]);h[`${U}Page`]=E}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(Rt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await tA(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await tA(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await tA(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await tA(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await tA(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Rt(t))return{data:null,error:t};throw t}}};function jy(A={}){return{getItem:e=>A[e]||null,setItem:(e,t)=>{A[e]=t},removeItem:e=>{delete A[e]}}}const tc={debug:!!(globalThis&&k5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Z1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let H5=class extends Z1{};class IL extends Z1{}async function M5(A,e,t){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",A,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),tc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",A)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(A,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",A,a.name);try{return await t()}finally{tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",A,a.name)}}else{if(e===0)throw tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",A),new H5(`Acquiring an exclusive Navigator LockManager lock "${A}" immediately failed`);if(tc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}const Ly={};async function TL(A,e,t){var n;const a=(n=Ly[A])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([a.catch(()=>null),e>=0?new Promise((l,f)=>{setTimeout(()=>{f(new IL(`Acquring process lock with name "${A}" timed out`))},e)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await t());return Ly[A]=i.catch(async l=>{if(l&&l.isAcquireTimeout)return await a,null;throw l}),await i}function DL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function P5(A){if(!/^0x[a-fA-F0-9]{40}$/.test(A))throw new Error(`@supabase/auth-js: Address "${A}" is invalid.`);return A.toLowerCase()}function OL(A){return parseInt(A,16)}function kL(A){const e=new TextEncoder().encode(A);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function RL(A){var e;const{chainId:t,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:l,notBefore:f,requestId:d,resources:h,scheme:g,uri:b,version:x}=A;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=A.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${A.statement}`)}const w=P5(A.address),S=g?`${g}://${n}`:n,E=A.statement?`${A.statement}
`:"",U=`${S} wants you to sign in with your Ethereum account:
${w}

${E}`;let _=`URI: ${b}
Version: ${x}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(a&&(_+=`
Expiration Time: ${a.toISOString()}`),f&&(_+=`
Not Before: ${f.toISOString()}`),d&&(_+=`
Request ID: ${d}`),h){let Q=`
Resources:`;for(const L of h){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);Q+=`
- ${L}`}_+=Q}return`${U}
${_}`}class An extends Error{constructor({message:e,code:t,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=t}}class D0 extends An{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function HL({error:A,options:e}){var t,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(A.name==="AbortError"){if(e.signal instanceof AbortSignal)return new An({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:A})}else if(A.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new An({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:A});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new An({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:A});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new An({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:A})}else{if(A.name==="InvalidStateError")return new An({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:A});if(A.name==="NotAllowedError")return new An({message:A.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:A});if(A.name==="NotSupportedError")return i.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new An({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:A}):new An({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:A});if(A.name==="SecurityError"){const l=window.location.hostname;if(K5(l)){if(i.rp.id!==l)return new An({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:A})}else return new An({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:A})}else if(A.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new An({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:A})}else if(A.name==="UnknownError")return new An({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:A})}return new An({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:A})}function ML({error:A,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(A.name==="AbortError"){if(e.signal instanceof AbortSignal)return new An({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:A})}else{if(A.name==="NotAllowedError")return new An({message:A.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:A});if(A.name==="SecurityError"){const n=window.location.hostname;if(K5(n)){if(t.rpId!==n)return new An({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:A})}else return new An({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:A})}else if(A.name==="UnknownError")return new An({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:A})}return new An({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:A})}class PL{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const KL=new PL;function qL(A){if(!A)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(A);const{challenge:e,user:t,excludeCredentials:n}=A,a=zu(A,["challenge","user","excludeCredentials"]),i=Ou(e).buffer,l=Object.assign(Object.assign({},t),{id:Ou(t.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:i,user:l});if(n&&n.length>0){f.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];f.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Ou(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return f}function GL(A){if(!A)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(A);const{challenge:e,allowCredentials:t}=A,n=zu(A,["challenge","allowCredentials"]),a=Ou(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const f=t[l];i.allowCredentials[l]=Object.assign(Object.assign({},f),{id:Ou(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return i}function zL(A){var e;if("toJSON"in A&&typeof A.toJSON=="function")return A.toJSON();const t=A;return{id:A.id,rawId:A.id,response:{attestationObject:oc(new Uint8Array(A.response.attestationObject)),clientDataJSON:oc(new Uint8Array(A.response.clientDataJSON))},type:"public-key",clientExtensionResults:A.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VL(A){var e;if("toJSON"in A&&typeof A.toJSON=="function")return A.toJSON();const t=A,n=A.getClientExtensionResults(),a=A.response;return{id:A.id,rawId:A.id,response:{authenticatorData:oc(new Uint8Array(a.authenticatorData)),clientDataJSON:oc(new Uint8Array(a.clientDataJSON)),signature:oc(new Uint8Array(a.signature)),userHandle:a.userHandle?oc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function K5(A){return A==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(A)}function Iy(){var A,e;return!!(jn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((A=navigator==null?void 0:navigator.credentials)===null||A===void 0?void 0:A.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $L(A){try{const e=await navigator.credentials.create(A);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new D0("Browser returned unexpected credential type",e)}:{data:null,error:new D0("Empty credential response",e)}}catch(e){return{data:null,error:HL({error:e,options:A})}}}async function YL(A){try{const e=await navigator.credentials.get(A);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new D0("Browser returned unexpected credential type",e)}:{data:null,error:new D0("Empty credential response",e)}}catch(e){return{data:null,error:ML({error:e,options:A})}}}const WL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},JL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function O0(...A){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of A)if(a)for(const i in a){const l=a[i];if(l!==void 0)if(Array.isArray(l))n[i]=l;else if(t(l))n[i]=l;else if(e(l)){const f=n[i];e(f)?n[i]=O0(f,l):n[i]=O0(l)}else n[i]=l}return n}function XL(A,e){return O0(WL,A,e||{})}function ZL(A,e){return O0(JL,A,e||{})}class eI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:a},i){try{const{data:l,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:f};const d=a??KL.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=XL(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:g,error:b}=await $L({publicKey:h,signal:d});return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}case"request":{const h=ZL(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:g,error:b}=await YL(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:d}));return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}}}catch(l){return Rt(l)?{data:null,error:l}:{data:null,error:new al("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!t)return{data:null,error:new Pu("rpId is required for WebAuthn authentication")};try{if(!Iy())return{data:null,error:new al("Browser does not support WebAuthn",null)};const{data:l,error:f}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:a},{request:i});if(!l)return{data:null,error:f};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return Rt(l)?{data:null,error:l}:{data:null,error:new al("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!t)return{data:null,error:new Pu("rpId is required for WebAuthn registration")};try{if(!Iy())return{data:null,error:new al("Browser does not support WebAuthn",null)};const{data:l,error:f}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(g=>{var b;return(b=g.data)===null||b===void 0?void 0:b.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:f};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Rt(l)?{data:null,error:l}:{data:null,error:new al("Unexpected error in register",l)}}}}DL();const tI={url:tL,storageKey:AL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ty(A,e,t){return await t()}const bu={};let ew=class B1{get jwks(){var e,t;return(t=(e=bu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=bu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},tI),e);if(this.storageKey=i.storageKey,this.instanceID=(t=B1.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,B1.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&jn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new X1({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=R5(i.fetch),this.lock=i.lock||Ty,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:jn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=M5:this.lock=Ty,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:k5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jy(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=jy(this.memoryStorage)),jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${F5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},n="none";if(jn()&&(t=hL(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),jn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),D5(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",f),await this._saveSession(l),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Rt(t)?this._returnResult({error:t}):this._returnResult({error:new al("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const i=await tA(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Oa}),{data:l,error:f}=i;if(f||!l)return this._returnResult({data:{user:null,session:null},error:f});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(Rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var t,n,a;try{let i;if("email"in e){const{email:g,password:b,options:x}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await wu(this.storage,this.storageKey)),i=await tA(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:g,password:b,data:(t=x==null?void 0:x.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:w,code_challenge_method:S},xform:Oa})}else if("phone"in e){const{phone:g,password:b,options:x}=e;i=await tA(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(a=x==null?void 0:x.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Oa})}else throw new $d("You must provide either an email or phone number and a password");const{data:l,error:f}=i;if(f||!l)return await Fn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:l,options:f}=e;t=await tA(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qy})}else if("phone"in e){const{phone:i,password:l,options:f}=e;t=await tA(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qy})}else throw new $d("You must provide either an email or phone number and a password");const{data:n,error:a}=t;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Zl;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(Rt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,a,i,l,f,d,h,g,b,x;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:E,wallet:U,statement:_,options:Q}=e;let L;if(jn())if(typeof U=="object")L=U;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")L=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(Q!=null&&Q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=U}const W=new URL((t=Q==null?void 0:Q.url)!==null&&t!==void 0?t:window.location.href),X=await L.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=P5(X[0]);let J=(n=Q==null?void 0:Q.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!J){const ae=await L.request({method:"eth_chainId"});J=OL(ae)}const V={domain:W.host,address:re,statement:_,uri:W.href,version:"1",chainId:J,nonce:(a=Q==null?void 0:Q.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(i=Q==null?void 0:Q.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(f=Q==null?void 0:Q.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(d=Q==null?void 0:Q.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=Q==null?void 0:Q.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=Q==null?void 0:Q.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=RL(V),S=await L.request({method:"personal_sign",params:[kL(w),re]})}try{const{data:E,error:U}=await tA(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Oa});if(U)throw U;if(!E||!E.session||!E.user){const _=new Zl;return this._returnResult({data:{user:null,session:null},error:_})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:U})}catch(E){if(Rt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var t,n,a,i,l,f,d,h,g,b,x,w;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:U,wallet:_,statement:Q,options:L}=e;let W;if(jn())if(typeof _=="object")W=_;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))W=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=_}const X=new URL((t=L==null?void 0:L.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in W&&W.signIn){const re=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),Q?{statement:Q}:null));let J;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")J=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)J=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)S=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),E=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${X.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...Q?["",Q,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(a=(n=L==null?void 0:L.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=L==null?void 0:L.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((l=L==null?void 0:L.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((f=L==null?void 0:L.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((d=L==null?void 0:L.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((h=L==null?void 0:L.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((b=(g=L==null?void 0:L.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...L.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const re=await W.signMessage(new TextEncoder().encode(S),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=re}}try{const{data:U,error:_}=await tA(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:oc(E)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Oa});if(_)throw _;if(!U||!U.session||!U.user){const Q=new Zl;return this._returnResult({data:{user:null,session:null},error:Q})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:_})}catch(U){if(Rt(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async _exchangeCodeForSession(e){const t=await Wl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{const{data:i,error:l}=await tA(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Oa});if(await Fn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const f=new Zl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Rt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:i,nonce:l}=e,f=await tA(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Oa}),{data:d,error:h}=f;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const g=new Zl;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(t){if(Rt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,a,i,l;try{if("email"in e){const{email:f,options:d}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await wu(this.storage,this.storageKey));const{error:b}=await tA(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:f,options:d}=e,{data:h,error:g}=await tA(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new $d("You must provide either an email or phone number.")}catch(f){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Rt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var t,n;try{let a,i;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:f}=await tA(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Oa});if(f)throw f;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(Rt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var t,n,a,i,l;try{let f=null,d=null;this.flowType==="pkce"&&([f,d]=await wu(this.storage,this.storageKey));const h=await tA(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:d}),headers:this.headers,xform:FL});return!((i=h.data)===null||i===void 0)&&i.url&&jn()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(f){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Rt(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Ns;const{error:a}=await tA(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Rt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:l}=await tA(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:l,error:f}=await tA(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:f})}throw new $d("You must provide either an email or phone number and a type")}catch(t){if(Rt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Wl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<dm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Wl(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=hm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=_L(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await tA(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:il}):await this._useSession(async t=>{var n,a,i;const{data:l,error:f}=t;if(f)throw f;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ns}:await tA(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:il})})}catch(t){if(Rt(t))return T5(t)&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ns;const l=a.session;let f=null,d=null;this.flowType==="pkce"&&e.email!=null&&([f,d]=await wu(this.storage,this.storageKey));const{data:h,error:g}=await tA(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:d}),jwt:l.access_token,xform:il});if(g)throw g;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Rt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ns;const t=Date.now()/1e3;let n=t,a=!0,i=null;const{payload:l}=fm(e.access_token);if(l.exp&&(n=l.exp,a=n<=t),a){const{data:f,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f)return{data:{user:null,session:null},error:null};i=f}else{const{data:f,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(t){if(Rt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:l,error:f}=t;if(f)throw f;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ns;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Rt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!jn())throw new Yd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new y1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yd("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new y1("No code detected.");const{data:Q,error:L}=await this._exchangeCodeForSession(e.code);if(L)throw L;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:Q.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:f,expires_at:d,token_type:h}=e;if(!i||!f||!l||!h)throw new Yd("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(f);let x=g+b;d&&(x=parseInt(d));const w=x-g;w*1e3<=Su&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const S=x-b;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,x,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,x,g);const{data:E,error:U}=await this._getUser(i);if(U)throw U;const _={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:b,expires_at:x,refresh_token:l,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(Rt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Wl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:i}=t;if(i)return this._returnResult({error:i});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:f}=await this.admin.signOut(l,e);if(f&&!(I5(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=fL(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:i},error:l}=t;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await wu(this.storage,this.storageKey,!0));try{return await tA(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Rt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(Rt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:a}=await this._useSession(async i=>{var l,f,d,h,g;const{data:b,error:x}=i;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await tA(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return jn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Rt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:a,data:{session:i}}=t;if(a)throw a;const{options:l,provider:f,token:d,access_token:h,nonce:g}=e,b=await tA(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:f,id_token:d,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Oa}),{data:x,error:w}=b;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Zl}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(a){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Rt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:i,error:l}=t;if(l)throw l;return await tA(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(Rt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await mL(async a=>(a>0&&await gL(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await tA(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Oa})),(a,i)=>{const l=200*Math.pow(2,a);return i&&d0(i)&&Date.now()+l-n<Su})}catch(n){if(this._debug(t,"error",n),Rt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),jn()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Wl(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Wl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await _u(this.userStorage,this.storageKey+"-user",l)),a.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:hm()}else if(a&&!a.user&&!a.user){const l=await Wl(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await Fn(this.storage,this.storageKey+"-user"),await _u(this.storage,this.storageKey,a)):a.user=hm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<dm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${dm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),d0(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:f}=await this._getUser(a.access_token);!f&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new sp;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new Ns;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const f={data:i.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(i){if(this._debug(a,"error",i),Rt(i)){const l={data:null,error:i};return d0(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,t)}catch(d){i.push(d)}});if(await Promise.all(l),i.length>0){for(let f=0;f<i.length;f+=1)console.error(i[f]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Fn(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await _u(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const i=Ny(a);await _u(this.storage,this.storageKey,i)}else{const a=Ny(t);await _u(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fn(this.storage,this.storageKey),await Fn(this.storage,this.storageKey+"-code-verifier"),await Fn(this.storage,this.storageKey+"-user"),this.userStorage&&await Fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Su);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Su);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Su}ms, refresh threshold is ${v1} ticks`),a<=v1&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Z1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await wu(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(f.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:i}=t;return i?this._returnResult({data:null,error:i}):await tA(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Rt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:i,error:l}=t;if(l)return this._returnResult({data:null,error:l});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await tA(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(Rt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:i}=t;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zL(e.webauthn.credential_response):VL(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:d}=await tA(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:d}))})}catch(t){if(Rt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:i}=t;if(i)return this._returnResult({data:null,error:i});const l=await tA(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:f}=l;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:qL(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:GL(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Rt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=fm(n.access_token);let l=null;i.aal&&(l=i.aal);let f=l;((t=(e=n.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(f="aal2");const h=i.amr||[];return{data:{currentLevel:l,nextLevel:f,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await tA(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ns})})}catch(t){if(Rt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ns});const l=await tA(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return l.data&&l.data.redirect_url&&jn()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ns});const l=await tA(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return l.data&&l.data.redirect_url&&jn()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await tA(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ns})})}catch(e){if(Rt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?(await tA(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ns})})}catch(t){if(Rt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(f=>f.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(f=>f.kid===e),n&&this.jwks_cached_at+sL>a)return n;const{data:i,error:l}=await tA(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(f=>f.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});n=w.session.access_token}const{header:a,payload:i,signature:l,raw:{header:f,payload:d}}=fm(n);t!=null&&t.allowExpired||CL(i.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!h){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:i,header:a,signature:l},error:null}}const g=EL(a.alg),b=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,b,l,uL(`${f}.${d}`)))throw new I0("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}};ew.nextInstanceID={};const AI=X1,rI=ew,nI=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:AI,AuthApiError:L5,AuthClient:rI,AuthError:Pu,AuthImplicitGrantRedirectError:Yd,AuthInvalidCredentialsError:$d,AuthInvalidJwtError:I0,AuthInvalidTokenResponseError:Zl,AuthPKCEGrantCodeExchangeError:y1,AuthRetryableFetchError:L0,AuthSessionMissingError:Ns,AuthUnknownError:al,AuthWeakPasswordError:x1,CustomAuthError:ho,GoTrueAdminApi:X1,GoTrueClient:ew,NavigatorLockAcquireTimeoutError:H5,SIGN_OUT_SCOPES:f0,isAuthApiError:I5,isAuthError:Rt,isAuthImplicitGrantRedirectError:D5,isAuthRetryableFetchError:d0,isAuthSessionMissingError:T5,isAuthWeakPasswordError:aL,lockInternals:tc,navigatorLock:M5,processLock:TL},Symbol.toStringTag,{value:"Module"})),q5=hf(nI);var Dy;function sI(){if(Dy)return Hd;Dy=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.SupabaseAuthClient=void 0;const A=q5;let e=class extends A.AuthClient{constructor(n){super(n)}};return Hd.SupabaseAuthClient=e,Hd}var Oy;function ky(){if(Oy)return Hh;Oy=1,Object.defineProperty(Hh,"__esModule",{value:!0});const A=A5,e=o5(),t=m5,n=Wj,a=Xj(),i=Zj(),l=eL(),f=sI();class d{constructor(g,b,x){var w,S,E;this.supabaseUrl=g,this.supabaseKey=b;const U=(0,l.validateSupabaseUrl)(g);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",U),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",U),this.storageUrl=new URL("storage/v1",U),this.functionsUrl=new URL("functions/v1",U);const _=`sb-${U.hostname.split(".")[0]}-auth-token`,Q={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:_}),global:a.DEFAULT_GLOBAL_OPTIONS},L=(0,l.applySettingDefaults)(x??{},Q);this.storageKey=(w=L.auth.storageKey)!==null&&w!==void 0?w:"",this.headers=(S=L.global.headers)!==null&&S!==void 0?S:{},L.accessToken?(this.accessToken=L.accessToken,this.auth=new Proxy({},{get:(W,X)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(X)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=L.auth)!==null&&E!==void 0?E:{},this.headers,L.global.fetch),this.fetch=(0,i.fetchWithAuth)(b,this._getAccessToken.bind(this),L.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},L.realtime)),this.accessToken&&this.accessToken().then(W=>this.realtime.setAuth(W)).catch(W=>console.warn("Failed to set initial Realtime auth token:",W)),this.rest=new e.PostgrestClient(new URL("rest/v1",U).href,{headers:this.headers,schema:L.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,x==null?void 0:x.storage),L.accessToken||this._listenForAuthEvents()}get functions(){return new A.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(g){return this.rest.from(g)}schema(g){return this.rest.schema(g)}rpc(g,b={},x={head:!1,get:!1,count:void 0}){return this.rest.rpc(g,b,x)}channel(g,b={config:{}}){return this.realtime.channel(g,b)}getChannels(){return this.realtime.getChannels()}removeChannel(g){return this.realtime.removeChannel(g)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var g,b;if(this.accessToken)return await this.accessToken();const{data:x}=await this.auth.getSession();return(b=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:g,persistSession:b,detectSessionInUrl:x,storage:w,userStorage:S,storageKey:E,flowType:U,lock:_,debug:Q,throwOnError:L},W,X){const re={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},re),W),storageKey:E,autoRefreshToken:g,persistSession:b,detectSessionInUrl:x,storage:w,userStorage:S,flowType:U,lock:_,debug:Q,throwOnError:L,fetch:X,hasCustomAuthorizationHeader:Object.keys(this.headers).some(J=>J.toLowerCase()==="authorization")})}_initRealtimeClient(g){return new t.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},g),{params:Object.assign({apikey:this.supabaseKey},g==null?void 0:g.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,x)=>{this._handleTokenChanged(b,"CLIENT",x==null?void 0:x.access_token)})}_handleTokenChanged(g,b,x){(g==="TOKEN_REFRESHED"||g==="SIGNED_IN")&&this.changedAccessToken!==x?(this.changedAccessToken=x,this.realtime.setAuth(x)):g==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Hh.default=d,Hh}var Ry;function aI(){return Ry||(Ry=1,(function(A){var e=so&&so.__createBinding||(Object.create?(function(g,b,x,w){w===void 0&&(w=x);var S=Object.getOwnPropertyDescriptor(b,x);(!S||("get"in S?!b.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return b[x]}}),Object.defineProperty(g,w,S)}):(function(g,b,x,w){w===void 0&&(w=x),g[w]=b[x]})),t=so&&so.__exportStar||function(g,b){for(var x in g)x!=="default"&&!Object.prototype.hasOwnProperty.call(b,x)&&e(b,g,x)},n=so&&so.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(A,"__esModule",{value:!0}),A.createClient=A.SupabaseClient=A.FunctionRegion=A.FunctionsError=A.FunctionsRelayError=A.FunctionsFetchError=A.FunctionsHttpError=A.PostgrestError=void 0;const a=n(ky());t(q5,A);var i=o5();Object.defineProperty(A,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var l=A5;Object.defineProperty(A,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(A,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(A,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(A,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(A,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),t(m5,A);var f=ky();Object.defineProperty(A,"SupabaseClient",{enumerable:!0,get:function(){return n(f).default}});const d=(g,b,x)=>new a.default(g,b,x);A.createClient=d;function h(){if(typeof window<"u"||typeof process>"u")return!1;const g=process.version;if(g==null)return!1;const b=g.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}h()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(so)),so}var G5=aI();const z5=C1(G5),iI=AC({__proto__:null,default:z5},[G5]),{PostgrestError:WI,FunctionsHttpError:JI,FunctionsFetchError:XI,FunctionsRelayError:ZI,FunctionsError:eT,FunctionRegion:tT,SupabaseClient:AT,createClient:oI,GoTrueAdminApi:rT,GoTrueClient:nT,AuthAdminApi:sT,AuthClient:aT,navigatorLock:iT,NavigatorLockAcquireTimeoutError:oT,lockInternals:lT,processLock:cT,SIGN_OUT_SCOPES:uT,AuthError:dT,AuthApiError:fT,AuthUnknownError:hT,CustomAuthError:pT,AuthSessionMissingError:gT,AuthInvalidTokenResponseError:mT,AuthInvalidCredentialsError:wT,AuthImplicitGrantRedirectError:vT,AuthPKCEGrantCodeExchangeError:bT,AuthRetryableFetchError:yT,AuthWeakPasswordError:xT,AuthInvalidJwtError:BT,isAuthError:CT,isAuthApiError:ET,isAuthSessionMissingError:ST,isAuthImplicitGrantRedirectError:_T,isAuthRetryableFetchError:NT,isAuthWeakPasswordError:UT,RealtimePresence:QT,RealtimeChannel:FT,RealtimeClient:jT,REALTIME_LISTEN_TYPES:LT,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:IT,REALTIME_PRESENCE_LISTEN_EVENTS:TT,REALTIME_SUBSCRIBE_STATES:DT,REALTIME_CHANNEL_STATES:OT}=z5||iI,lI="https://sbkwkqqrersznlqpihkg.supabase.co",cI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNia3drcXFyZXJzem5scXBpaGtnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2ODU0NzIsImV4cCI6MjA4MDI2MTQ3Mn0.xG8lmwRoSZq5Ehj9a6Apqlew5K4DenMOg8BtJOmn4Tc",mt=oI(lI,cI),V5=Z.createContext(void 0),uI=({children:A})=>{const[e,t]=Z.useState(null),[n,a]=Z.useState(null),[i,l]=Z.useState(null),[f,d]=Z.useState(!0);Z.useEffect(()=>{mt.auth.getSession().then(({data:{session:U}})=>{t(U),a((U==null?void 0:U.user)??null),U!=null&&U.user?h(U.user.id):d(!1)});const{data:{subscription:E}}=mt.auth.onAuthStateChange((U,_)=>{if(U==="TOKEN_REFRESHED"){t(_),a((_==null?void 0:_.user)??null);return}t(_),a((_==null?void 0:_.user)??null),_!=null&&_.user?h(_.user.id):(l(null),d(!1))});return()=>E.unsubscribe()},[]);const h=async E=>{try{const{data:U,error:_}=await mt.from("profiles").select("id, email, role, doctor_id, role_id").eq("id",E).single();if(_){console.error("Error fetching profile:",_),l(null),d(!1);return}let Q="",L=[];if(U.role_id){const{data:W}=await mt.from("app_roles").select("name").eq("id",U.role_id).single();W&&(Q=W.name);const{data:X}=await mt.from("role_permissions").select("app_permissions(code)").eq("role_id",U.role_id);X&&(L=X.map(re=>{var J;return(J=re.app_permissions)==null?void 0:J.code}).filter(Boolean))}(U.role==="admin"||Q==="Admin")&&(L=["ALL"]),l({...U,role_name:Q,permissions:L})}catch(U){console.error("Unexpected error fetching profile:",U),l(null)}finally{d(!1)}},g=async(E,U)=>{const{error:_}=await mt.auth.signInWithPassword({email:E,password:U});return{error:_}},b=async()=>{await mt.auth.signOut(),l(null)},x=async()=>{n&&await h(n.id)},w=E=>i?i.role==="admin"||i.role_name==="Admin"||i.permissions.includes("ALL")?!0:i.permissions.includes(E):!1,S={session:e,user:n,profile:i,loading:f,isAdmin:(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role_name)==="Admin",isDoctor:(i==null?void 0:i.role)==="doctor"||(i==null?void 0:i.role_name)==="Docteur",signInWithPassword:g,signOut:b,hasPermission:w,refreshProfile:x};return c.jsx(V5.Provider,{value:S,children:A})},Bi=()=>{const A=Z.useContext(V5);if(A===void 0)throw new Error("useAuth must be used within an AuthProvider");return A},dI=()=>{var Je;const{unavailabilities:A,addUnavailability:e,removeUnavailability:t,doctors:n,updateDoctor:a,activityDefinitions:i,template:l,rcpTypes:f,rcpAttendance:d,setRcpAttendance:h,rcpExceptions:g,addRcpException:b,removeRcpException:x,profileRcpWeekOffset:w,setProfileRcpWeekOffset:S}=Z.useContext(Ni),{profile:E,loading:U}=Bi(),_=gf(),[Q,L]=Z.useState(null),[W,X]=Z.useState(!0),[re,J]=Z.useState(new Date().toISOString().split("T")[0]),[V,ae]=Z.useState(new Date().toISOString().split("T")[0]),[me,D]=Z.useState("ALL_DAY"),[O,Y]=Z.useState("CONGRES"),[Ae,Ce]=Z.useState(""),[ee,ce]=Z.useState(!1),[le,Ne]=Z.useState(""),[te,H]=Z.useState([]),[N,k]=Z.useState([]),P=w,G=S;Z.useEffect(()=>{(async()=>{if(!E){X(!1);return}if(E.doctor_id){const He=n.find(Ge=>Ge.id===E.doctor_id);if(He)L(He),Ne(He.name),H(He.specialty||[]);else{const{data:Ge}=await mt.from("doctors").select("*").eq("id",E.doctor_id).single();if(Ge){const at={id:Ge.id,name:Ge.name,color:Ge.color,specialty:Ge.specialty||[],excludedDays:Ge.excluded_days||[],excludedActivities:Ge.excluded_activities||[],excludedSlotTypes:Ge.excluded_slot_types||[]};L(at),Ne(at.name),H(at.specialty||[])}}}X(!1)})()},[E,n]),Z.useEffect(()=>{(async()=>{const{data:He}=await mt.from("specialties").select("*").order("name");He&&k(He)})()},[]),Z.useEffect(()=>{if(Q&&(E!=null&&E.doctor_id)){const fe=n.find(He=>He.id===E.doctor_id);fe&&L(fe)}},[n,E==null?void 0:E.doctor_id]);const z=()=>{if(!Q)return[];const fe=new Date,He=new Date(fe),Ge=He.getDay(),at=He.getDate()-Ge+(Ge===0?-6:1);He.setDate(at),He.setHours(0,0,0,0);const ct=new Date(He);ct.setDate(ct.getDate()+P*7);const St=l.filter(ze=>ze.type===vt.RCP&&(ze.doctorIds&&ze.doctorIds.includes(Q.id)||ze.defaultDoctorId===Q.id||ze.secondaryDoctorIds&&ze.secondaryDoctorIds.includes(Q.id)||ze.backupDoctorId===Q.id)).map(ze=>{const be=Ws(ct,ze.day),Me=g.find(wA=>wA.rcpTemplateId===ze.id&&wA.originalDate===be),dt=(Me==null?void 0:Me.newDate)||be,xt=(Me==null?void 0:Me.newTime)||ze.time||"N/A",_t=oo(dt),FA=`${ze.id} -${be} `,Xt=d[FA]||{},qA=Xt[Q.id],LA=[...new Set([ze.defaultDoctorId,...ze.secondaryDoctorIds||[],...ze.doctorIds||[],ze.backupDoctorId].filter(Boolean).filter(wA=>wA!==Q.id))].map(wA=>{const wt=n.find(Ht=>Ht.id===wA);return{id:wA,name:(wt==null?void 0:wt.name)||"Inconnu",status:Xt[wA]||null}});return{template:ze,date:dt,time:xt,originalDate:be,generatedId:FA,myStatus:qA,colleaguesStatus:LA,holiday:_t,isMoved:!!(Me!=null&&Me.newDate),isTimeChanged:!!(Me!=null&&Me.newTime),isCancelled:Me==null?void 0:Me.isCancelled,isManual:!1}}),Pt=new Date(ct);Pt.setDate(Pt.getDate()+6);const ht=ct.toISOString().split("T")[0],Ct=Pt.toISOString().split("T")[0],zt=f.filter(ze=>ze.frequency==="MANUAL"&&ze.manualInstances).flatMap(ze=>ze.manualInstances.map(be=>({...be,rcpName:ze.name,rcpId:ze.id}))).filter(ze=>ze.date<ht||ze.date>Ct?!1:ze.doctorIds.includes(Q.id)||ze.backupDoctorId===Q.id).map(ze=>{const be=`manual - rcp - ${ze.rcpId} -${ze.id} `,Me=oo(ze.date),dt=d[be]||{},xt=dt[Q.id],FA=[...new Set([...ze.doctorIds||[],ze.backupDoctorId].filter(Boolean).filter(qA=>qA!==Q.id))].map(qA=>{const uA=n.find(LA=>LA.id===qA);return{id:qA,name:(uA==null?void 0:uA.name)||"Inconnu",status:dt[qA]||null}});return{template:{id:ze.rcpId,location:ze.rcpName,day:"MANUAL",backupDoctorId:ze.backupDoctorId},date:ze.date,time:ze.time,originalDate:ze.date,generatedId:be,myStatus:xt,colleaguesStatus:FA,holiday:Me,isMoved:!1,isTimeChanged:!1,isCancelled:!1,isManual:!0}});return[...St,...zt].sort((ze,be)=>((ze==null?void 0:ze.date)||"").localeCompare((be==null?void 0:be.date)||""))},ie=async(fe,He)=>{if(!Q)return;const at={...d[fe]||{},[Q.id]:He};h({...d,[fe]:at});try{const{error:ct}=await mt.from("rcp_attendance").upsert({slot_id:fe,doctor_id:Q.id,status:He},{onConflict:"slot_id, doctor_id"});ct?console.error("Error saving attendance:",ct):console.log(" Attendance saved:",fe,He)}catch(ct){console.error("Error saving attendance:",ct)}},he=async fe=>{if(!Q)return;const Ge={...d[fe]||{}};delete Ge[Q.id],h({...d,[fe]:Ge});try{const{error:at}=await mt.from("rcp_attendance").delete().match({slot_id:fe,doctor_id:Q.id});at?console.error("Error deleting attendance:",at):console.log(" Attendance cleared:",fe)}catch(at){console.error("Error deleting attendance:",at)}},ue=async()=>{if(Q&&le.trim()){const fe={...Q,name:le,specialty:te};a(fe),L(fe),ce(!1)}},Be=fe=>{fe.preventDefault(),Q&&(e({id:Date.now().toString(),doctorId:Q.id,startDate:re,endDate:V,period:me,reason:O==="AUTRE"?Ae:O}),Ce(""))},Qe=fe=>{if(!Q)return;const He=Q.excludedDays||[];let Ge=He.includes(fe)?He.filter(ct=>ct!==fe):[...He,fe];const at={...Q,excludedDays:Ge};a(at),L(at)},Pe=fe=>{if(!Q)return;const He=Q.excludedActivities||[];let Ge=He.includes(fe)?He.filter(ct=>ct!==fe):[...He,fe];const at={...Q,excludedActivities:Ge};a(at),L(at)},ot=fe=>{if(!Q)return;const He=Q.excludedSlotTypes||[];let Ge=He.includes(fe)?He.filter(ct=>ct!==fe):[...He,fe];const at={...Q,excludedSlotTypes:Ge};a(at),L(at)},ut=()=>{const fe=new Date,He=new Date(fe),Ge=He.getDay(),at=He.getDate()-Ge+(Ge===0?-6:1);He.setDate(at);const ct=new Date(He);return ct.setDate(ct.getDate()+P*7),P===0?"Cette Semaine":P===1?"Semaine Prochaine":`Semaine du ${ct.getDate()}/${ct.getMonth()+1}`},se=(()=>{if(!Q)return{count:0,thisWeek:0,nextWeek:0};const fe=new Date,He=new Date(fe),Ge=He.getDay(),at=He.getDate()-Ge+(Ge===0?-6:1);He.setDate(at),He.setHours(0,0,0,0);let ct=0,It=0;for(const St of[0,1]){const Pt=new Date(He);Pt.setDate(Pt.getDate()+St*7);const ht=l.filter(Me=>Me.type===vt.RCP&&(Me.doctorIds&&Me.doctorIds.includes(Q.id)||Me.defaultDoctorId===Q.id||Me.secondaryDoctorIds&&Me.secondaryDoctorIds.includes(Q.id)||Me.backupDoctorId===Q.id));for(const Me of ht){const dt=Ws(Pt,Me.day),xt=g.find(qA=>qA.rcpTemplateId===Me.id&&qA.originalDate===dt);if(xt!=null&&xt.isCancelled)continue;const _t=`${Me.id} -${dt} `;(d[_t]||{})[Q.id]||(St===0?ct++:It++)}const Ct=new Date(Pt);Ct.setDate(Ct.getDate()+6);const zt=Pt.toISOString().split("T")[0],ze=Ct.toISOString().split("T")[0],be=f.filter(Me=>Me.frequency==="MANUAL"&&Me.manualInstances).flatMap(Me=>Me.manualInstances.map(dt=>({...dt,rcpName:Me.name,rcpId:Me.id}))).filter(Me=>Me.date<zt||Me.date>ze?!1:Me.doctorIds.includes(Q.id)||Me.backupDoctorId===Q.id);for(const Me of be){const dt=`manual - rcp - ${Me.rcpId} -${Me.id} `;(d[dt]||{})[Q.id]||(St===0?ct++:It++)}}return{count:ct+It,thisWeek:ct,nextWeek:It}})();if(U||W)return c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx(ol,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!E)return c.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-6",children:c.jsxs("div",{className:"text-center bg-white p-8 rounded-xl shadow-lg border border-slate-200 max-w-md",children:[c.jsx(Ha,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Connexion requise"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Veuillez vous connecter pour accder  votre profil."}),c.jsx("button",{onClick:()=>_("/login"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Se connecter"})]})});if(!Q)return c.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-6",children:c.jsxs("div",{className:"text-center bg-white p-8 rounded-xl shadow-lg border border-slate-200 max-w-md",children:[c.jsx(Bn,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Profil mdecin non configur"}),c.jsx("p",{className:"text-slate-500 mb-4",children:"Votre compte n'est pas encore li  un profil mdecin. Contactez un administrateur pour configurer votre profil."}),c.jsxs("p",{className:"text-sm text-slate-400",children:["Connect en tant que : ",c.jsx("strong",{children:E.email})]})]})});const Qt=A.filter(fe=>fe.doctorId===Q.id),st=z();return c.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-20 p-4",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-8 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center text-2xl font-bold shadow-lg mr-6 border-4 border-white/20",style:{backgroundColor:Q.color||"#3B82F6"},children:Q.name.substring(0,2)}),c.jsx("div",{children:ee?c.jsxs("div",{className:"space-y-3 bg-white/10 p-4 rounded-lg backdrop-blur-sm",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-blue-200 mb-1 block",children:"Nom"}),c.jsx("input",{type:"text",className:"w-full text-slate-900 px-3 py-2 rounded text-sm font-bold",value:le,onChange:fe=>Ne(fe.target.value)})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-blue-200 mb-1 block flex items-center",children:[c.jsx(Cm,{className:"w-3 h-3 mr-1"})," Spcialits"]}),N.length===0?c.jsx("p",{className:"text-xs text-blue-200 italic",children:"Aucune spcialit disponible"}):c.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(fe=>{const He=te.includes(fe.name);return c.jsxs("button",{type:"button",onClick:()=>{H(He?te.filter(Ge=>Ge!==fe.name):[...te,fe.name])},className:`px-2 py-1 rounded-full text-xs font-medium border transition-all ${He?"text-white border-transparent shadow-sm":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,style:He?{backgroundColor:fe.color}:{},children:[He&&" ",fe.name]},fe.id)})})]}),c.jsxs("div",{className:"flex space-x-2 mt-2",children:[c.jsx("button",{onClick:ue,className:"bg-green-500 hover:bg-green-600 px-3 py-1 rounded text-xs font-bold text-white shadow",children:"Enregistrer"}),c.jsx("button",{onClick:()=>ce(!1),className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded text-xs text-white",children:"Annuler"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h1",{className:"text-2xl font-bold",children:Q.name}),c.jsx("button",{onClick:()=>ce(!0),className:"text-white/70 hover:text-white bg-white/10 hover:bg-white/20 p-1 rounded",children:c.jsx(ox,{className:"w-4 h-4"})})]}),c.jsxs("p",{className:"text-blue-100 mt-1 flex items-center",children:[c.jsx(L2,{className:"w-3 h-3 mr-1 opacity-70"}),((Je=Q.specialty)==null?void 0:Je.join("  "))||"Gnraliste"]}),c.jsxs("div",{className:"mt-3 inline-flex items-center bg-green-400/20 text-green-100 border border-green-400/30 px-2 py-0.5 rounded text-[10px] uppercase font-bold tracking-wider",children:[c.jsx(Ha,{className:"w-3 h-3 mr-1"})," Connect"]})]})})]}),c.jsxs("div",{className:"text-right text-sm text-blue-100",children:[c.jsx("div",{children:E.email}),c.jsx("div",{className:"text-xs mt-1 opacity-75",children:E.role_name||E.role})]})]})}),c.jsxs("div",{className:"bg-yellow-50 border-b border-yellow-100 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("h3",{className:"text-lg font-bold text-yellow-800 flex items-center",children:[c.jsx(e3,{className:"w-5 h-5 mr-2"}),"Mes RCPs (",st.length,")"]}),se.count>0&&c.jsxs("div",{className:"ml-3 flex items-center bg-red-500 text-white px-2 py-0.5 rounded-full text-xs font-bold animate-pulse",children:[c.jsx("span",{className:"mr-1",children:""}),se.count,"  confirmer",se.thisWeek>0&&se.nextWeek>0&&c.jsxs("span",{className:"ml-1 opacity-75",children:["(",se.thisWeek," cette sem. + ",se.nextWeek," proch.)"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-lg p-1 border border-yellow-200 shadow-sm",children:[c.jsx("button",{onClick:()=>G(Math.max(0,P-1)),className:"p-1 hover:bg-slate-100 rounded",children:c.jsx(ku,{className:"w-4 h-4 text-slate-600"})}),c.jsx("span",{className:"text-sm font-bold text-slate-700 min-w-[140px] text-center select-none",children:ut()}),c.jsx("button",{onClick:()=>G(P+1),className:"p-1 hover:bg-slate-100 rounded",children:c.jsx(gc,{className:"w-4 h-4 text-slate-600"})})]})]}),st.length===0?c.jsx("div",{className:"text-sm text-slate-500 italic bg-white p-4 rounded border border-slate-200 text-center",children:"Aucune RCP prvue pour cette priode."}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:st.map(fe=>{const He=fe.template.backupDoctorId===Q.id;return fe.isCancelled?c.jsxs("div",{className:"border rounded-lg p-3 bg-gray-100 border-gray-200 opacity-70 relative",children:[c.jsxs("div",{className:"text-xs font-bold text-gray-500 uppercase line-through",children:[fe.isManual?"MANUEL":fe.template.day," ",fe.date.split("-").slice(1).reverse().join("/")]}),c.jsx("div",{className:"font-bold text-gray-600 text-sm mb-2 line-through",children:fe.template.location}),c.jsx("div",{className:"absolute top-2 right-2 text-[10px] bg-red-100 text-red-600 font-bold px-1.5 py-0.5 rounded",children:"ANNUL"})]},fe.generatedId):c.jsxs("div",{className:`border rounded-lg p-3 transition-all relative ${fe.myStatus==="PRESENT"?"bg-green-50 border-green-200":fe.myStatus==="ABSENT"?"bg-red-50 border-red-200 opacity-80":"bg-white border-slate-200 shadow-sm"}`,children:[!fe.myStatus&&(P===0||P===1)&&c.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse flex items-center justify-center shadow-lg",title:P===0?"Confirmation requise cette semaine":"Confirmation requise pour semaine prochaine",children:c.jsx("span",{className:"text-[8px] text-white font-bold",children:"!"})}),c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase",children:[fe.isManual?"":fe.template.day," ",fe.date.split("-").slice(1).reverse().join("/"),c.jsxs("div",{className:"flex items-center text-[10px] text-slate-400 mt-0.5",children:[c.jsx(fl,{className:"w-3 h-3 mr-1"})," ",fe.time]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[He&&c.jsx("span",{className:"text-[10px] bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded font-bold",children:"Backup"}),fe.myStatus==="PRESENT"&&c.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-bold",children:""}),fe.myStatus==="ABSENT"&&c.jsx("span",{className:"text-[10px] bg-red-100 text-red-700 px-1.5 py-0.5 rounded font-bold",children:""})]})]}),c.jsx("div",{className:"font-bold text-slate-800 text-sm mb-3",children:fe.template.location}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:()=>ie(fe.generatedId,"PRESENT"),className:`flex-1 py-1.5 text-xs font-bold rounded flex items-center justify-center transition-colors ${fe.myStatus==="PRESENT"?"bg-green-600 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-green-100"}`,children:[c.jsx(d3,{className:"w-3 h-3 mr-1"})," Prsent"]}),c.jsxs("button",{onClick:()=>ie(fe.generatedId,"ABSENT"),className:`flex-1 py-1.5 text-xs font-bold rounded flex items-center justify-center transition-colors ${fe.myStatus==="ABSENT"?"bg-red-600 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-red-100"}`,children:[c.jsx(m3,{className:"w-3 h-3 mr-1"})," Absent"]})]}),fe.myStatus&&c.jsx("div",{className:"text-center mt-1",children:c.jsx("button",{onClick:()=>he(fe.generatedId),className:"text-[10px] text-slate-400 hover:text-slate-600 underline",children:"Annuler mon choix"})}),fe.colleaguesStatus&&fe.colleaguesStatus.length>0&&c.jsxs("div",{className:"mt-3 pt-2 border-t border-slate-100",children:[c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1.5",children:"Autres participants"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:fe.colleaguesStatus.map(Ge=>c.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${Ge.status==="PRESENT"?"bg-green-100 text-green-700":Ge.status==="ABSENT"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-500"}`,title:Ge.status==="PRESENT"?"Prsent":Ge.status==="ABSENT"?"Absent":"Pas encore rpondu",children:[Ge.status==="PRESENT"&&" ",Ge.status==="ABSENT"&&" ",!Ge.status&&"? ",Ge.name]},Ge.id||Ge.name))})]})]},fe.generatedId)})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center",children:[c.jsx(pc,{className:"w-5 h-5 mr-2 text-blue-500"}),"Dclarer une absence"]}),c.jsxs("form",{onSubmit:Be,className:"bg-white p-5 rounded-xl border border-slate-200 mb-6 space-y-4 shadow-sm",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Du"}),c.jsx("input",{type:"date",required:!0,value:re,onChange:fe=>J(fe.target.value),className:"w-full rounded border-slate-300 text-sm p-2 border focus:ring-2 focus:ring-blue-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Au"}),c.jsx("input",{type:"date",required:!0,value:V,min:re,onChange:fe=>ae(fe.target.value),className:"w-full rounded border-slate-300 text-sm p-2 border focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Priode"}),c.jsxs("select",{value:me,onChange:fe=>D(fe.target.value),className:"w-full rounded border-slate-300 text-sm p-2 border focus:ring-2 focus:ring-blue-500 outline-none",children:[c.jsx("option",{value:"ALL_DAY",children:"Journe entire"}),c.jsx("option",{value:vA.MORNING,children:"Matin uniquement"}),c.jsx("option",{value:vA.AFTERNOON,children:"Aprs-midi uniquement"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Motif"}),c.jsxs("select",{value:O,onChange:fe=>Y(fe.target.value),className:"w-full rounded border-slate-300 text-sm p-2 border focus:ring-2 focus:ring-blue-500 outline-none",children:[c.jsx("option",{value:"CONGRES",children:"Congrs"}),c.jsx("option",{value:"VACANCES",children:"Vacances"}),c.jsx("option",{value:"MALADIE",children:"Maladie"}),c.jsx("option",{value:"FORMATION",children:"Formation"}),c.jsx("option",{value:"AUTRE",children:"Autre (prciser)"})]})]}),O==="AUTRE"&&c.jsx("input",{type:"text",placeholder:"Prcisez...",className:"w-full rounded border border-slate-300 text-sm p-2 focus:ring-2 focus:ring-blue-500 outline-none",value:Ae,onChange:fe=>Ce(fe.target.value),required:!0}),c.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 flex items-center justify-center text-sm font-bold shadow-sm",children:[c.jsx(cc,{className:"w-4 h-4 mr-2"}),"Ajouter l'absence"]})]}),c.jsx("h3",{className:"text-sm font-bold text-slate-800 mb-2 pl-1",children:"Historique des absences"}),c.jsx("ul",{className:"divide-y divide-slate-100 bg-white border border-slate-200 rounded-lg max-h-60 overflow-y-auto shadow-sm",children:Qt.length===0?c.jsx("li",{className:"p-4 text-slate-500 italic text-sm text-center",children:"Aucune absence dclare."}):Qt.map(fe=>c.jsxs("li",{className:"p-3 flex justify-between items-center hover:bg-slate-50",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-bold text-slate-700",children:fe.reason}),c.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:[fe.startDate,"  ",fe.endDate]})]}),c.jsx("button",{onClick:()=>t(fe.id),className:"text-slate-300 hover:text-red-500 p-2 rounded-full hover:bg-red-50",children:c.jsx(bi,{className:"w-4 h-4"})})]},fe.id))})]}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center",children:[c.jsx(L2,{className:"w-5 h-5 mr-2 text-purple-500"}),"Mes Prfrences & Exclusions"]}),c.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 mb-4 shadow-sm",children:[c.jsxs("h3",{className:"text-sm font-bold text-slate-700 mb-3 flex items-center",children:[c.jsx(ac,{className:"w-4 h-4 mr-2 text-red-500"}),"Jours non travaills (ex: 80%)"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Object.values(rr).map(fe=>{var He;return c.jsx("button",{onClick:()=>Qe(fe),className:`px-3 py-1.5 text-xs rounded-lg border transition-all ${(He=Q.excludedDays)!=null&&He.includes(fe)?"bg-red-100 text-red-800 border-red-200 font-bold":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:fe},fe)})})]}),c.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm",children:[c.jsxs("h3",{className:"text-sm font-bold text-slate-700 mb-3 flex items-center",children:[c.jsx(ac,{className:"w-4 h-4 mr-2 text-slate-500"}),"Activits Exclues"]}),c.jsx("div",{className:"space-y-2",children:i.map(fe=>{var He,Ge,at;return c.jsxs("div",{className:"flex items-center p-2 hover:bg-slate-50 rounded cursor-pointer",onClick:()=>Pe(fe.id),children:[c.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center mr-3 ${(He=Q.excludedActivities)!=null&&He.includes(fe.id)?"bg-red-500 border-red-500":"border-slate-300 bg-white"}`,children:((Ge=Q.excludedActivities)==null?void 0:Ge.includes(fe.id))&&c.jsx(ac,{className:"w-3 h-3 text-white"})}),c.jsx("span",{className:`text-sm ${(at=Q.excludedActivities)!=null&&at.includes(fe.id)?"text-red-700 font-medium line-through":"text-slate-700"}`,children:fe.name})]},fe.id)})})]}),c.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm",children:[c.jsxs("h3",{className:"text-sm font-bold text-slate-700 mb-2 flex items-center",children:[c.jsx(ac,{className:"w-4 h-4 mr-2 text-orange-500"}),"Types de Crneau Exclus"]}),c.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Ces exclusions empchent l'algorithme de vous suggrer pour ces types de remplacements."}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Object.values(vt).filter(fe=>fe!==vt.MACHINE&&fe!==vt.OTHER).map(fe=>{var He;return c.jsx("button",{onClick:()=>ot(fe),className:`px-3 py-1.5 text-xs rounded-lg border transition-all ${(He=Q.excludedSlotTypes)!=null&&He.includes(fe)?"bg-orange-100 text-orange-800 border-orange-200 font-bold":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:fe===vt.CONSULTATION?"Consultation":fe===vt.RCP?"RCP":fe===vt.ACTIVITY?"Activit":fe},fe)})})]})]})]})]})},fI=({slot:A,doctors:e,existingException:t,onSave:n,onClose:a,onRemoveException:i})=>{const[l,f]=Z.useState((t==null?void 0:t.newDate)||A.date),[d,h]=Z.useState((t==null?void 0:t.newTime)||A.time||""),[g,b]=Z.useState((t==null?void 0:t.isCancelled)||!1),[x,w]=Z.useState([]);Z.useEffect(()=>{if(t!=null&&t.customDoctorIds&&t.customDoctorIds.length>0)w(t.customDoctorIds);else{const U=[A.assignedDoctorId,...A.secondaryDoctorIds||[]].filter(Boolean);w(U)}},[A,t]);const S=()=>{const U=A.id.split("-"),_=3,Q=U.slice(0,U.length-_).join("-"),L=U.slice(U.length-_).join("-"),W={rcpTemplateId:Q,originalDate:L,newDate:l!==L?l:void 0,newTime:d!==A.time?d:void 0,isCancelled:g,customDoctorIds:x};n(W)},E=U=>{x.includes(U)?w(x.filter(_=>_!==U)):w([...x,U])};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"bg-purple-600 p-4 flex justify-between items-center text-white",children:[c.jsxs("h2",{className:"font-bold text-lg flex items-center",children:[c.jsx(pc,{className:"w-5 h-5 mr-2"}),"Modifier l'occurrence RCP"]}),c.jsx("button",{onClick:a,className:"hover:bg-purple-700 p-1 rounded-full",children:c.jsx(Ys,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:A.subType||A.location}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Date originale : ",A.id.split("-").slice(-3).reverse().join("/")]})]}),t&&c.jsxs("button",{onClick:i,className:"text-xs flex items-center text-slate-500 hover:text-red-600 border border-slate-200 px-2 py-1 rounded hover:bg-red-50 transition-colors",children:[c.jsx(nS,{className:"w-3 h-3 mr-1"})," Rtablir par dfaut"]})]}),c.jsxs("div",{className:`p-4 rounded-lg border flex items-center justify-between cursor-pointer transition-colors ${g?"bg-red-50 border-red-200":"bg-slate-50 border-slate-200"}`,onClick:()=>b(!g),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${g?"bg-red-100 text-red-600":"bg-white text-slate-400 border"}`,children:c.jsx(Bn,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:`font-bold ${g?"text-red-800":"text-slate-700"}`,children:"Annuler cette sance"}),c.jsx("div",{className:"text-xs text-slate-500",children:"La sance n'apparatra plus dans le planning."})]})]}),c.jsx("div",{className:`w-12 h-6 rounded-full p-1 transition-colors ${g?"bg-red-500":"bg-slate-300"}`,children:c.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-sm transform transition-transform ${g?"translate-x-6":"translate-x-0"}`})})]}),!g&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Date exceptionnelle"}),c.jsxs("div",{className:"flex items-center bg-slate-50 border border-slate-200 rounded p-2",children:[c.jsx(pc,{className:"w-4 h-4 text-slate-400 mr-2"}),c.jsx("input",{type:"date",value:l,onChange:U=>f(U.target.value),className:"bg-transparent w-full text-sm font-medium outline-none text-slate-700"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Horaire exceptionnel"}),c.jsxs("div",{className:"flex items-center bg-slate-50 border border-slate-200 rounded p-2",children:[c.jsx(fl,{className:"w-4 h-4 text-slate-400 mr-2"}),c.jsx("input",{type:"time",value:d,onChange:U=>h(U.target.value),className:"bg-transparent w-full text-sm font-medium outline-none text-slate-700"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-bold text-slate-500 mb-2 flex items-center",children:[c.jsx(sf,{className:"w-3 h-3 mr-1"})," Participants (Exceptionnel)"]}),c.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border rounded p-2 bg-slate-50",children:e.map(U=>c.jsxs("div",{onClick:()=>E(U.id),className:`flex items-center p-2 rounded cursor-pointer transition-colors ${x.includes(U.id)?"bg-purple-100 border border-purple-200":"bg-white border border-transparent hover:border-slate-200"}`,children:[c.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold mr-2 ${U.color} ${!x.includes(U.id)&&"opacity-50"}`,children:U.name.substring(0,2)}),c.jsx("span",{className:`text-xs ${x.includes(U.id)?"font-bold text-purple-900":"text-slate-600"}`,children:U.name})]},U.id))})]})]})]}),c.jsxs("div",{className:"p-4 bg-slate-50 border-t border-slate-200 flex justify-end space-x-3",children:[c.jsx("button",{onClick:a,className:"px-4 py-2 text-slate-600 hover:text-slate-800 text-sm font-medium",children:"Annuler"}),c.jsxs("button",{onClick:S,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg shadow text-sm font-bold flex items-center",children:[c.jsx(cc,{className:"w-4 h-4 mr-2"}),"Appliquer l'exception"]})]})]})})},hI=()=>{const{template:A,doctors:e,updateTemplate:t,rcpTypes:n,addRcpType:a,removeRcpType:i,updateRcpDefinition:l,renameRcpType:f,postes:d,addPoste:h,removePoste:g,activitiesStartDate:b,setActivitiesStartDate:x,unavailabilities:w,activityDefinitions:S,rcpExceptions:E,addRcpException:U,removeRcpException:_,configActiveTab:Q,setConfigActiveTab:L,configRcpWeekOffset:W,setConfigRcpWeekOffset:X}=Z.useContext(Ni),re=Z.useRef(null),J=Z.useRef(!1),V=Z.useRef(vt.CONSULTATION),ae=Q||"CONSULTATION",me=Ee=>L(Ee),[D,O]=Z.useState("RULES"),[Y,Ae]=Z.useState(!1),[Ce,ee]=Z.useState(A),ce=Z.useMemo(()=>{const Ee=new Date;return Ee.setDate(Ee.getDate()+W*7),Ee},[W]),le=Ee=>{const Nt=new Date,Ye=Math.round((Ee.getTime()-Nt.getTime())/(10080*60*1e3));X(Ye)},[Ne,te]=Z.useState(null),[H,N]=Z.useState(!1);Z.useEffect(()=>{console.log(" Template changed, syncing tempTemplate. Length:",A.length,"isSaving:",J.current),ee(A),J.current&&(console.log(" Restoring tab to:",V.current),me(V.current),J.current=!1)},[A]);const[k,P]=Z.useState(""),[G,z]=Z.useState(""),[ie,he]=Z.useState(""),[ue,Be]=Z.useState(""),[Qe,Pe]=Z.useState("14:00"),[ot,ut]=Z.useState(""),[Te,se]=Z.useState(""),[Qt,st]=Z.useState(""),[Je,fe]=Z.useState(""),[He,Ge]=Z.useState(null),[at,ct]=Z.useState(""),It=Object.values(rr),St=Z.useMemo(()=>{const Ee=new Date(ce),Nt=Ee.getDay(),Ye=Ee.getDate()-Nt+(Nt===0?-6:1);return Ee.setDate(Ye),Ee.setHours(0,0,0,0),Ee},[ce]),Pt=Z.useMemo(()=>D!=="CALENDAR"?[]:lo(St,A,w,e,S,n,!1,{},{},E).filter(Nt=>Nt.type===vt.RCP),[St,A,w,e,S,n,D,E]),ht=(Ee,Nt,Ye,ke,Se)=>{Y&&ee($e=>{const Ot=$e.findIndex(iA=>iA.day===Ee&&iA.period===Nt&&(iA.location===Ye||iA.subType===Ye)&&(ae===vt.CONSULTATION?iA.type===vt.CONSULTATION||iA.type===vt.RCP:iA.type===ae));let Vt,bA=[...$e];if(Ot>=0)Vt={...bA[Ot]},ke==="doctorIds"?(Vt.doctorIds=Se,Vt.defaultDoctorId=Se[0]||null,Vt.secondaryDoctorIds=Se.slice(1),console.log(" Updated doctorIds for slot:",Vt.id,"doctors:",Se)):(Vt[ke]=Se===""?null:Se,console.log(" Updated field",ke,"for slot:",Vt.id,"value:",Se)),bA[Ot]=Vt;else{if(Se==="")return $e;Vt={id:`temp_${Date.now()}_${Math.random()}`,day:Ee,period:Nt,location:Ye,type:ae,time:void 0,isRequired:!0,isBlocking:!0,frequency:"WEEKLY",doctorIds:[],subType:ae===vt.RCP?Ye:ae},ke==="doctorIds"?(Vt.doctorIds=Se,Vt.defaultDoctorId=Se[0]||null,Vt.secondaryDoctorIds=Se.slice(1)):Vt[ke]=Se,bA=[...$e,Vt]}return bA})},Ct=(Ee,Nt,Ye)=>{ee(ke=>ke.filter(Se=>!(Se.day===Ee&&Se.period===Nt&&(Se.location===Ye||Se.subType===Ye)&&(ae===vt.CONSULTATION?Se.type===vt.CONSULTATION||Se.type===vt.RCP:Se.type===ae))))},zt=()=>{console.log(" Saving changes, current tab:",ae),J.current=!0,V.current=ae,t(Ce),Ae(!1)},ze=()=>{ee(A),Ae(!1)},be=()=>{k.trim()&&(a(k.trim()),P(""))},Me=Ee=>{ie.trim()&&ie!==Ee.name&&f(Ee.name,ie.trim())},dt=Ee=>{i(Ee),G===Ee&&z("")},xt=Ee=>{Be(Ee);const Nt=oo(Ee);Ge(Nt?`Attention : Le ${Ee.split("-").reverse().join("/")} est fri (${Nt.name}).`:null)},_t=Ee=>{if(ue&&Qe){const Nt=[ot,Te,Qt].filter(Boolean),Ye={id:Date.now().toString(),date:ue,time:Qe,doctorIds:Nt,backupDoctorId:Je||null};l({...Ee,manualInstances:[...Ee.manualInstances||[],Ye].sort((ke,Se)=>ke.date.localeCompare(Se.date))}),Be(""),ut(""),se(""),st(""),fe(""),Ge(null)}},FA=(Ee,Nt)=>{var Ye;l({...Ee,manualInstances:(Ye=Ee.manualInstances)==null?void 0:Ye.filter(ke=>ke.id!==Nt)})},Xt=()=>{at.trim()&&(h(at.trim()),ct(""))},qA=Ee=>{window.confirm(`Supprimer dfinitivement le poste "${Ee}" ?`)&&g(Ee)},uA=Ee=>{U(Ee),te(null)},LA=(Ee,Nt,Ye)=>{var iA;const ke=ae===vt.CONSULTATION,Se=Ce.find(Tt=>Tt.day===Ee&&Tt.period===Nt&&(Tt.location===Ye||Tt.subType===Ye)&&(ke?Tt.type===vt.CONSULTATION||Tt.type===vt.RCP:Tt.type===ae)),$e=Ee===rr.MONDAY&&Nt===vA.MORNING,Ot=Ye.startsWith("Box");if(ke&&$e&&Ot)return c.jsx("div",{className:"bg-gray-100 h-full flex items-center justify-center p-2 text-center border border-gray-200",children:c.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Ferm (RCP Service)"})});const Vt=(Se==null?void 0:Se.doctorIds)||(Se!=null&&Se.defaultDoctorId?[Se==null?void 0:Se.defaultDoctorId,...(Se==null?void 0:Se.secondaryDoctorIds)||[]]:[]),bA=(Se==null?void 0:Se.time)&&(Nt===vA.MORNING&&parseInt(Se.time.split(":")[0])>=13||Nt===vA.AFTERNOON&&parseInt(Se.time.split(":")[0])<12);return Y?c.jsxs("div",{className:`p-2 h-full flex flex-col justify-start items-center space-y-2 border min-h-[160px] relative group ${Se?"bg-white border-blue-300":"bg-slate-50 border-dashed border-slate-300"}`,children:[Se&&c.jsx("button",{onClick:()=>Ct(Ee,Nt,Ye),className:"absolute top-1 right-1 text-red-300 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity p-1 z-20 bg-white rounded-full shadow-sm",title:"Supprimer ce crneau",children:c.jsx(bi,{className:"w-3 h-3"})}),!Se&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:c.jsx("span",{className:"text-[9px] text-slate-300 font-medium",children:"+ Ajouter"})}),ae===vt.RCP?c.jsxs("div",{className:"w-full space-y-2 pt-1 z-10",children:[[0,1,2].map(Tt=>c.jsxs("select",{value:Vt[Tt]||"",onChange:EA=>{const kr=[...Vt];kr[Tt]=EA.target.value,ht(Ee,Nt,Ye,"doctorIds",kr.filter(Boolean))},className:"w-full text-[10px] p-1 border rounded bg-white focus:ring-1 focus:ring-blue-500 h-6",children:[c.jsx("option",{value:"",children:Tt===0?"-- Responsable --":"-- Autre --"}),e.map(EA=>c.jsx("option",{value:EA.id,children:EA.name},EA.id))]},Tt)),c.jsxs("div",{className:"flex items-center space-x-1 border-t pt-1 border-slate-100",children:[c.jsx(Ru,{className:"w-3 h-3 text-slate-400"}),c.jsxs("select",{value:(Se==null?void 0:Se.backupDoctorId)||"",onChange:Tt=>ht(Ee,Nt,Ye,"backupDoctorId",Tt.target.value),className:"w-full text-[10px] p-1 border rounded bg-slate-50 focus:ring-1 focus:ring-blue-500 h-6 text-slate-600",children:[c.jsx("option",{value:"",children:"-- Backup --"}),e.map(Tt=>c.jsx("option",{value:Tt.id,children:Tt.name},Tt.id))]})]}),c.jsxs("div",{className:"flex items-center space-x-1 pt-1",children:[c.jsx(fl,{className:`w-3 h-3 ${bA?"text-orange-500":"text-slate-400"}`}),c.jsx("input",{type:"time",value:(Se==null?void 0:Se.time)||"",onChange:Tt=>ht(Ee,Nt,Ye,"time",Tt.target.value),className:`w-full text-xs p-1 border rounded ${bA?"border-orange-300 bg-orange-50":""}`})]}),c.jsx("div",{className:"flex items-center space-x-2 pt-1",children:c.jsxs("button",{onClick:()=>ht(Ee,Nt,Ye,"isBlocking",(Se==null?void 0:Se.isBlocking)===!1),className:`flex items-center text-[9px] px-2 py-1 rounded border w-full justify-center transition-colors ${(Se==null?void 0:Se.isBlocking)!==!1?"bg-red-50 text-red-700 border-red-200 font-bold":"bg-green-50 text-green-700 border-green-200"}`,children:[(Se==null?void 0:Se.isBlocking)!==!1?c.jsx(lc,{className:"w-3 h-3 mr-1"}):c.jsx(H3,{className:"w-3 h-3 mr-1"}),(Se==null?void 0:Se.isBlocking)!==!1?"Obligatoire":"Optionnel"]})})]}):c.jsxs("select",{value:Vt[0]||"",onChange:Tt=>ht(Ee,Nt,Ye,"doctorIds",[Tt.target.value].filter(Boolean)),className:"w-full text-xs p-1 border rounded bg-white focus:ring-2 focus:ring-blue-500 z-10",children:[c.jsx("option",{value:"",children:"-- Libre --"}),e.map(Tt=>c.jsx("option",{value:Tt.id,children:Tt.name},Tt.id))]})]}):Se?c.jsx("div",{className:"p-2 h-full flex flex-col justify-center items-center",children:Vt.length>0?c.jsxs("div",{className:"flex flex-col space-y-1.5 w-full",children:[Vt.map((Tt,EA)=>{const kr=e.find(zA=>zA.id===Tt);return kr?c.jsxs("div",{className:"flex items-center justify-start px-2 py-1.5 rounded-lg bg-white border border-slate-200 shadow-sm",children:[c.jsx("div",{className:"w-6 h-6 rounded-full mr-2 flex-shrink-0 flex items-center justify-center text-white text-[9px] font-bold",style:{backgroundColor:uc(kr.color)},children:kr.name.substring(0,2)}),c.jsx("span",{className:`text-[11px] font-semibold leading-tight truncate ${EA===0?"text-slate-800":"text-slate-600"}`,children:kr.name})]},Tt):null}),Se.backupDoctorId&&c.jsxs("div",{className:"flex items-center justify-center space-x-1 mt-1 pt-1 border-t border-slate-100",children:[c.jsx(Ru,{className:"w-3 h-3 text-amber-400"}),c.jsxs("span",{className:"text-[9px] text-amber-600 font-medium",children:["Backup: ",((iA=e.find(Tt=>Tt.id===Se.backupDoctorId))==null?void 0:iA.name)||"?"]})]}),Se.type===vt.RCP&&c.jsx("div",{className:"mt-1 flex flex-col items-center",children:c.jsx("span",{className:"text-[9px] bg-purple-50 text-purple-700 px-1 rounded border border-purple-100 mb-0.5",children:Se.time||"N/A"})})]}):c.jsx("span",{className:"text-xs text-slate-400 italic",children:"Libre"})}):c.jsx("div",{className:"text-[10px] text-slate-300 text-center py-4",children:"--"})},wA=(Ee,Nt,Ye)=>{const ke=Ws(St,Ee),Se=Pt.find(Vt=>Vt.date===ke&&Vt.period===Nt&&(Vt.location===Ye||Vt.subType===Ye)),$e=oo(ke);if($e)return c.jsxs("div",{className:"h-full w-full bg-pink-50 flex items-center justify-center border border-pink-200 flex-col opacity-80 min-h-[70px]",children:[c.jsx("span",{className:"text-[10px] text-pink-400 font-bold uppercase tracking-wider",children:"Fri"}),c.jsx("span",{className:"text-[9px] text-pink-300 text-center px-1 leading-tight",children:$e.name})]});if(!Se)return c.jsx("div",{className:"text-xs text-slate-300 p-2 text-center h-full flex items-center justify-center bg-slate-50/50 min-h-[70px]",children:"--"});if(Se.isCancelled)return c.jsxs("div",{onClick:()=>te(Se),className:"p-2 h-full border-2 rounded-lg cursor-pointer transition-all hover:shadow-lg group relative flex flex-col items-center justify-center bg-gradient-to-br from-red-50 to-white border-red-200 hover:border-red-400 min-h-[70px] opacity-80",children:[c.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(R2,{className:"w-3 h-3 text-red-400"})}),c.jsx(Ys,{className:"w-6 h-6 text-red-400 mb-1"}),c.jsx("span",{className:"text-[10px] font-bold text-red-600 uppercase",children:"Annule"}),c.jsx("span",{className:"text-[9px] text-red-400 mt-1",children:"Cliquer pour ractiver"})]});const Ot=[Se.assignedDoctorId,...Se.secondaryDoctorIds||[]].filter(Boolean);return c.jsxs("div",{onClick:()=>te(Se),className:"p-2 h-full border-2 rounded-lg cursor-pointer transition-all hover:shadow-lg group relative flex flex-col bg-gradient-to-br from-purple-50 to-white border-purple-200 hover:border-purple-400 min-h-[70px]",children:[c.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(R2,{className:"w-3 h-3 text-purple-400"})}),c.jsxs("div",{className:"text-[10px] font-bold text-purple-600 mb-2 flex items-center bg-purple-100 px-1.5 py-0.5 rounded self-start",children:[c.jsx(fl,{className:"w-3 h-3 mr-1"})," ",Se.time||"--:--"]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[Ot.map((Vt,bA)=>{const iA=e.find(Tt=>Tt.id===Vt);return iA?c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-[8px] font-bold text-white shadow-sm border border-white/50",style:{backgroundColor:uc(iA.color)},children:iA.name.substring(0,2)}),c.jsx("span",{className:`text-[10px] truncate ${bA===0?"font-bold text-slate-800":"text-slate-600"}`,children:iA.name})]},Vt):null}),Ot.length===0&&c.jsx("span",{className:"text-[9px] text-slate-400 italic",children:"Non assign"})]})]})},Ht=ae===vt.CONSULTATION?d.map(Ee=>({id:Ee,name:Ee,type:"POSTE"})):n.map(Ee=>({id:Ee.id,name:Ee.name,type:"RCP"}));return c.jsxs("div",{className:"h-full flex flex-col space-y-4 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[c.jsxs("div",{className:"mb-4 md:mb-0",children:[c.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center",children:[c.jsx(T3,{className:"w-6 h-6 mr-3 text-purple-600"}),"Rgles & Postes"]}),c.jsx("p",{className:"text-sm text-slate-500 mt-1 max-w-2xl",children:"Dfinissez les postes fixes (Consultations) et les RCP hebdomadaires."})]}),c.jsx("div",{className:"flex items-center space-x-2",children:D==="RULES"&&(Y?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:ze,className:"px-4 py-2 text-sm text-slate-600 hover:text-slate-800",children:"Annuler"}),c.jsxs("button",{onClick:zt,className:"px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 flex items-center text-sm font-medium",children:[c.jsx(cc,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})]}):c.jsxs("button",{onClick:()=>Ae(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 flex items-center text-sm font-medium",children:[c.jsx(P0,{className:"w-4 h-4 mr-2"}),"Modifier la Semaine Type"]}))})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(pc,{className:"w-5 h-5 mr-3 text-slate-500"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-bold text-slate-700",children:"Date de dbut de comptage des activits"}),c.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"L'quit automatique (Unity/Astreinte/Workflow) sera calcule  partir de cette date."})]})]}),c.jsx("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:b?c.jsxs("div",{className:"flex items-center gap-3 bg-green-50 border border-green-200 px-4 py-2 rounded-lg",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-xs text-green-600 font-bold uppercase",children:"Date confirme"}),c.jsx("div",{className:"text-lg font-bold text-green-800",children:new Date(b).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),c.jsx("button",{onClick:()=>{window.confirm(` ATTENTION !

Supprimer la date de dbut rinitialisera le calcul d'quit.

tes-vous sr de vouloir effacer cette date ?`)&&x(null)},className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-100 rounded",title:"Effacer la date",children:c.jsx(Ys,{className:"w-4 h-4"})})]}):c.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full",children:[c.jsx("input",{type:"date",id:"pending-start-date",className:"border rounded-md px-3 py-2 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex-1",max:new Date().toISOString().split("T")[0]}),c.jsxs("button",{onClick:()=>{const Ee=document.getElementById("pending-start-date"),Nt=Ee==null?void 0:Ee.value;if(!Nt){alert("Veuillez slectionner une date.");return}const Ye=new Date(Nt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});window.confirm(` CONFIRMATION

Vous allez dfinir la date de dbut du calcul d'quit au :

 ${Ye}

 Cette action ne peut pas tre annule facilement.
L'quit sera recalcule  partir de cette date.

Confirmer ?`)&&x(Nt)},className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-bold hover:bg-blue-700 flex items-center justify-center gap-2 whitespace-nowrap",children:[c.jsx(bm,{className:"w-4 h-4"})," Confirmer la date"]})]})})]}),!b&&c.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ym,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-xs text-yellow-700",children:[c.jsx("strong",{children:"Important :"})," Sans date de dbut, l'quit ne sera pas calcule automatiquement. Dfinissez une date pour activer le calcul quitable des affectations."]})]})})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 border-b border-slate-200 pb-4 items-center justify-between",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{me(vt.CONSULTATION),O("RULES")},className:`px-4 py-2 text-sm font-medium rounded-full transition-colors ${ae===vt.CONSULTATION?"bg-blue-100 text-blue-700":"text-slate-600 hover:bg-slate-100"}`,children:"Consultations & Postes"}),c.jsx("button",{onClick:()=>me(vt.RCP),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors ${ae===vt.RCP?"bg-purple-100 text-purple-700":"text-slate-600 hover:bg-slate-100"}`,children:"RCP (Gestion)"})]}),ae===vt.RCP&&c.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg mt-2 md:mt-0",children:[c.jsx("button",{onClick:()=>O("RULES"),className:`px-3 py-1 text-xs font-bold rounded ${D==="RULES"?"bg-white shadow text-purple-700":"text-slate-500"}`,children:"Vue Rgles"}),c.jsx("button",{onClick:()=>O("CALENDAR"),className:`px-3 py-1 text-xs font-bold rounded ${D==="CALENDAR"?"bg-white shadow text-purple-700":"text-slate-500"}`,children:"Vue Calendrier (Rel)"})]})]}),ae===vt.CONSULTATION&&Y&&c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 mb-4 animate-in fade-in slide-in-from-top-2",children:[c.jsxs("h3",{className:"font-bold text-slate-700 mb-3 flex items-center",children:[c.jsx(G3,{className:"w-4 h-4 mr-2"}),"Gestion des Lieux / Postes"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.map(Ee=>c.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-full border border-blue-200 text-sm",children:[c.jsx("span",{className:"text-blue-800 font-medium mr-2",children:Ee}),c.jsx("button",{onClick:()=>qA(Ee),className:"text-blue-400 hover:text-red-600",children:c.jsx(Ys,{className:"w-3 h-3"})})]},Ee)),c.jsxs("div",{className:"flex items-center w-full md:w-auto mt-2 md:mt-0",children:[c.jsx("input",{type:"text",value:at,onChange:Ee=>ct(Ee.target.value),placeholder:"Nouveau (ex: Scanner)",className:"text-sm p-1 border rounded-l focus:outline-none focus:ring-1 focus:ring-blue-500 w-32 md:w-40",onKeyDown:Ee=>Ee.key==="Enter"&&Xt()}),c.jsx("button",{onClick:Xt,disabled:!at,className:"bg-blue-600 text-white p-1.5 rounded-r hover:bg-blue-700",children:c.jsx(Sg,{className:"w-4 h-4"})})]})]})]}),ae===vt.RCP&&D==="RULES"&&c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 mb-4 shadow-sm",children:[c.jsx("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:c.jsxs("h3",{className:"font-bold text-slate-700 flex items-center",children:[c.jsx(T1,{className:"w-4 h-4 mr-2"}),"Gestion des Lignes RCP"]})}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Ajouter une nouvelle ligne"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",placeholder:"Nom de la RCP...",className:"flex-1 text-sm p-2 border rounded focus:ring-2 focus:ring-purple-500 outline-none",value:k,onChange:Ee=>P(Ee.target.value),onKeyDown:Ee=>Ee.key==="Enter"&&be()}),c.jsx("button",{onClick:be,disabled:!k,className:"bg-purple-600 text-white p-2 rounded hover:bg-purple-700 disabled:opacity-50 transition-colors",children:c.jsx(Sg,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"w-px bg-slate-200 hidden md:block"}),c.jsxs("div",{className:"flex-[2]",children:[c.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Modifier les proprits"}),c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:space-x-4 space-y-4 md:space-y-0",children:[c.jsx("div",{className:"flex-1 max-w-xs w-full",children:c.jsxs("select",{value:G,onChange:Ee=>{z(Ee.target.value);const Nt=n.find(Ye=>Ye.id===Ee.target.value);Nt&&he(Nt.name)},className:"w-full p-2 border rounded text-sm bg-slate-50 font-medium focus:ring-2 focus:ring-purple-500 outline-none cursor-pointer",children:[c.jsx("option",{value:"",children:"-- Slectionner une RCP --"}),n.map(Ee=>c.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})}),G&&(()=>{var Nt;const Ee=n.find(Ye=>Ye.id===G);return Ee?c.jsxs("div",{className:"flex-1 flex flex-col gap-3 animate-in fade-in slide-in-from-left-2 w-full",children:[c.jsxs("div",{className:"flex flex-col md:flex-row items-end gap-3",children:[c.jsxs("div",{className:"w-full md:w-auto",children:[c.jsx("label",{className:"block text-[10px] text-slate-400 font-bold mb-1",children:"Renommer"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("input",{type:"text",value:ie,onChange:Ye=>he(Ye.target.value),className:"w-full md:w-32 text-sm p-1.5 border rounded"}),c.jsx("button",{onClick:()=>Me(Ee),className:"p-1.5 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Valider le nom",children:c.jsx(bm,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"w-full md:w-auto",children:[c.jsx("label",{className:"block text-[10px] text-slate-400 font-bold mb-1",children:"Frquence"}),c.jsxs("select",{value:Ee.frequency,onChange:Ye=>l({...Ee,frequency:Ye.target.value}),className:"text-xs p-2 border rounded bg-white w-full md:w-36 cursor-pointer",children:[c.jsx("option",{value:"WEEKLY",children:"Hebdomadaire"}),c.jsx("option",{value:"BIWEEKLY",children:"1 Semaine sur 2"}),c.jsx("option",{value:"MONTHLY",children:"Mensuel (ex: 1er Lundi)"}),c.jsx("option",{value:"MANUAL",children:"Dates Manuelles"})]})]}),c.jsx("div",{className:"ml-auto",children:c.jsx("button",{onClick:()=>{window.confirm(`Supprimer dfinitivement la RCP "${Ee.name}" et tout son historique ?`)&&dt(Ee.id)},className:"p-2 text-red-400 hover:bg-red-50 hover:text-red-600 rounded border border-transparent hover:border-red-200 transition-colors",title:"Supprimer cette RCP",children:c.jsx(bi,{className:"w-5 h-5"})})})]}),Ee.frequency==="BIWEEKLY"&&c.jsxs("div",{className:"bg-slate-50 p-2 rounded border border-slate-200",children:[c.jsx("label",{className:"block text-[10px] text-slate-400 font-bold mb-1",children:"Parit Semaine (Annuelle)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>l({...Ee,weekParity:"ODD"}),className:`px-3 py-1 text-xs rounded border ${Ee.weekParity==="ODD"?"bg-white border-purple-300 text-purple-700 font-bold shadow-sm":"bg-transparent border-transparent text-slate-500 hover:bg-white"}`,children:"Impaire (Sem 1, 3...)"}),c.jsx("button",{onClick:()=>l({...Ee,weekParity:"EVEN"}),className:`px-3 py-1 text-xs rounded border ${Ee.weekParity==="EVEN"?"bg-white border-purple-300 text-purple-700 font-bold shadow-sm":"bg-transparent border-transparent text-slate-500 hover:bg-white"}`,children:"Paire (Sem 2, 4...)"})]})]}),Ee.frequency==="MONTHLY"&&c.jsxs("div",{className:"bg-slate-50 p-2 rounded border border-slate-200",children:[c.jsx("label",{className:"block text-[10px] text-slate-400 font-bold mb-1",children:"Occurrence dans le mois"}),c.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(Ye=>c.jsx("button",{onClick:()=>l({...Ee,monthlyWeekNumber:Ye}),className:`w-8 h-8 flex items-center justify-center text-xs rounded border ${Ee.monthlyWeekNumber===Ye?"bg-purple-600 border-purple-600 text-white font-bold":"bg-white border-slate-200 text-slate-600 hover:bg-slate-100"}`,children:Ye},Ye))}),c.jsx("p",{className:"text-[10px] text-slate-400 mt-1 italic",children:'Ex: Si le crneau est le Lundi, "1" = 1er Lundi du mois.'})]}),Ee.frequency==="MANUAL"&&c.jsxs("div",{className:"bg-slate-50 p-3 rounded border border-slate-200",children:[c.jsxs("h5",{className:"text-xs font-bold text-slate-700 mb-2 flex items-center",children:[c.jsx(pc,{className:"w-3 h-3 mr-1"})," Ajouter une date manuelle"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-slate-400 uppercase font-bold",children:"Date"}),c.jsx("input",{type:"date",className:`text-xs border rounded p-1 w-full ${He?"border-orange-300 bg-orange-50":"border-slate-300"}`,value:ue,onChange:Ye=>xt(Ye.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-slate-400 uppercase font-bold",children:"Heure"}),c.jsx("input",{type:"time",className:"text-xs border rounded p-1 w-full border-slate-300",value:Qe,onChange:Ye=>Pe(Ye.target.value)})]})]}),He&&c.jsxs("div",{className:"flex items-center text-[10px] text-orange-600 mb-2 bg-orange-50 p-1 rounded border border-orange-100",children:[c.jsx(Bn,{className:"w-3 h-3 mr-1"}),He]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-slate-400 uppercase font-bold",children:"Responsable"}),c.jsxs("select",{className:"w-full text-xs p-1 border rounded",value:ot,onChange:Ye=>ut(Ye.target.value),children:[c.jsx("option",{value:"",children:"-- Choisir --"}),e.map(Ye=>c.jsx("option",{value:Ye.id,children:Ye.name},Ye.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-slate-400 uppercase font-bold",children:"Backup (Supplant)"}),c.jsxs("select",{className:"w-full text-xs p-1 border rounded",value:Je,onChange:Ye=>fe(Ye.target.value),children:[c.jsx("option",{value:"",children:"-- Choisir --"}),e.map(Ye=>c.jsx("option",{value:Ye.id,children:Ye.name},Ye.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-slate-400 uppercase font-bold",children:"Intervenant 1"}),c.jsxs("select",{className:"w-full text-xs p-1 border rounded",value:Te,onChange:Ye=>se(Ye.target.value),children:[c.jsx("option",{value:"",children:"-- Choisir --"}),e.map(Ye=>c.jsx("option",{value:Ye.id,children:Ye.name},Ye.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[9px] text-slate-400 uppercase font-bold",children:"Intervenant 2"}),c.jsxs("select",{className:"w-full text-xs p-1 border rounded",value:Qt,onChange:Ye=>st(Ye.target.value),children:[c.jsx("option",{value:"",children:"-- Choisir --"}),e.map(Ye=>c.jsx("option",{value:Ye.id,children:Ye.name},Ye.id))]})]})]}),c.jsxs("button",{onClick:()=>_t(Ee),disabled:!ue||!Qe||!ot,className:"w-full bg-blue-600 text-white py-1.5 rounded text-xs font-bold hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center mt-2",children:[c.jsx(Sg,{className:"w-3 h-3 mr-1"})," Ajouter l'occurrence"]}),c.jsxs("div",{className:"mt-3 border-t pt-2",children:[c.jsx("label",{className:"text-[9px] text-slate-400 uppercase font-bold block mb-1",children:"Dates Programmes"}),c.jsxs("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto",children:[(Nt=Ee.manualInstances)==null?void 0:Nt.map(Ye=>c.jsxs("div",{className:"bg-white px-2 py-1 rounded border border-slate-200 text-[10px] flex items-center shadow-sm w-full justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-bold mr-2 text-slate-700",children:Ye.date.split("-").reverse().join("/")}),c.jsxs("span",{className:"text-slate-500 mr-2 flex items-center",children:[c.jsx(fl,{className:"w-3 h-3 mr-1"}),Ye.time]}),c.jsxs("span",{className:"text-slate-400",children:["(",Ye.doctorIds.length," md.)"]})]}),c.jsx("button",{onClick:()=>FA(Ee,Ye.id),className:"text-slate-400 hover:text-red-500 ml-2",children:c.jsx(Ys,{className:"w-3 h-3"})})]},Ye.id)),(!Ee.manualInstances||Ee.manualInstances.length===0)&&c.jsx("span",{className:"text-[10px] text-slate-400 italic",children:"Aucune occurrence planifie"})]})]})]})]}):null})()]})]})]})]}),ae===vt.RCP&&D==="CALENDAR"&&c.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-white p-3 rounded-lg border border-purple-200 mb-4 flex items-center justify-between shadow-sm",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>{const Ee=new Date(ce);Ee.setDate(Ee.getDate()-7),le(Ee)},className:"p-2 hover:bg-purple-100 rounded-lg transition-colors",children:c.jsx(ku,{className:"w-5 h-5 text-purple-600"})}),c.jsx("div",{className:"text-center",children:c.jsxs("h3",{className:"font-bold text-slate-800 text-sm capitalize",children:["Semaine du ",St.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})}),c.jsx("button",{onClick:()=>{const Ee=new Date(ce);Ee.setDate(Ee.getDate()+7),le(Ee)},className:"p-2 hover:bg-purple-100 rounded-lg transition-colors",children:c.jsx(gc,{className:"w-5 h-5 text-purple-600"})})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"text-xs text-slate-500 italic hidden md:block",children:"Cliquez sur une RCP pour modifier"}),c.jsx("button",{onClick:()=>N(!H),className:"p-2 hover:bg-purple-100 rounded-lg transition-colors text-purple-600",title:H?"Rduire":"Agrandir",children:H?c.jsx(Wd,{className:"w-5 h-5"}):c.jsx(t0,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:`${H?"fixed inset-0 z-50 p-4 bg-slate-100":"flex-1"} overflow-auto bg-white rounded-xl shadow border border-slate-200`,ref:re,children:[H&&c.jsxs("div",{className:"flex justify-between items-center mb-4 bg-gradient-to-r from-purple-600 to-purple-500 text-white p-4 rounded-lg shadow-lg",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold",children:"Vue RCP - Calendrier"}),c.jsxs("p",{className:"text-purple-100 text-sm",children:["Semaine du ",St.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>{const Ee=new Date(ce);Ee.setDate(Ee.getDate()-7),le(Ee)},className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg",children:c.jsx(ku,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>{const Ee=new Date(ce);Ee.setDate(Ee.getDate()+7),le(Ee)},className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg",children:c.jsx(gc,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>N(!1),className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg",children:c.jsx(Wd,{className:"w-5 h-5"})})]})]}),Ht.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-400",children:[c.jsx(ym,{className:"w-8 h-8 mb-2 opacity-50"}),c.jsx("p",{className:"text-sm",children:"Aucun lment  afficher."}),c.jsx("p",{className:"text-xs",children:"Utilisez le panneau ci-dessus pour ajouter des RCP ou des Postes."})]}):c.jsx("div",{className:`min-w-[800px] ${H?"bg-white rounded-lg p-2":""}`,children:c.jsxs("table",{className:"w-full border-collapse table-fixed",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:`p-3 border-b-2 border-r-2 bg-slate-100 w-44 text-left text-xs font-bold text-slate-500 uppercase sticky left-0 z-20 ${ae===vt.RCP?"border-purple-200":"border-blue-200"}`,children:ae===vt.RCP?"RCP / Priode":"Lieu / Priode"}),It.map(Ee=>c.jsxs("th",{className:`p-3 border-b-2 border-r bg-slate-50 text-slate-700 font-bold uppercase text-xs w-1/5 min-w-[160px] ${ae===vt.RCP?"border-purple-200":"border-blue-200"}`,children:[Ee,D==="CALENDAR"&&c.jsx("div",{className:"font-normal text-[10px] text-purple-500 mt-1 bg-purple-50 px-2 py-0.5 rounded inline-block",children:Ws(St,Ee).split("-").slice(1).reverse().join("/")})]},Ee))]})}),c.jsx("tbody",{children:Ht.map((Ee,Nt)=>c.jsxs(rf.Fragment,{children:[c.jsxs("tr",{className:Nt>0&&ae===vt.RCP?"border-t-4 border-purple-200":"",children:[c.jsxs("td",{className:`p-3 border-r-2 text-xs sticky left-0 z-10 group relative ${ae===vt.RCP?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:`font-bold ${ae===vt.RCP?"text-purple-800":"text-blue-800"}`,children:Ee.name}),Y&&Ee.type==="RCP"&&c.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),window.confirm(`Supprimer la RCP "${Ee.name}" ?`)&&dt(Ee.id)},className:"text-slate-300 hover:text-red-600 p-1 z-50 relative bg-white rounded-full shadow-sm",title:`Supprimer la ligne ${Ee.name}`,children:c.jsx(bi,{className:"w-3 h-3"})}),Y&&Ee.type==="POSTE"&&c.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),qA(Ee.id)},className:"text-slate-300 hover:text-red-600 p-1 z-50 relative bg-white rounded-full shadow-sm",title:`Supprimer la ligne ${Ee.name}`,children:c.jsx(bi,{className:"w-3 h-3"})})]}),c.jsx("span",{className:"block font-medium text-yellow-600 mt-1 bg-yellow-50 px-1.5 py-0.5 rounded text-[10px] inline-block",children:" Matin"})]}),It.map(Ye=>c.jsx("td",{className:"border-r border-b p-1 h-24 relative bg-white",children:D==="CALENDAR"?wA(Ye,vA.MORNING,Ee.name):LA(Ye,vA.MORNING,Ee.name)},`${Ye}-matin`))]}),c.jsxs("tr",{children:[c.jsx("td",{className:`p-3 border-r-2 text-xs sticky left-0 z-10 font-normal ${ae===vt.RCP?"bg-purple-50/50 border-purple-200":"bg-blue-50/50 border-blue-200"}`,children:c.jsx("span",{className:"block font-medium text-indigo-600 bg-indigo-50 px-1.5 py-0.5 rounded text-[10px] inline-block",children:" Aprs-midi"})}),It.map(Ye=>c.jsx("td",{className:"border-r p-1 h-24 bg-slate-50/50 relative",children:D==="CALENDAR"?wA(Ye,vA.AFTERNOON,Ee.name):LA(Ye,vA.AFTERNOON,Ee.name)},`${Ye}-apres-midi`))]})]},Ee.id))})]})})]}),Ne&&c.jsx(fI,{slot:Ne,doctors:e,existingException:E.find(Ee=>{const Nt=Ne.id.split("-"),Ye=Nt.slice(Nt.length-3).join("-"),ke=Nt.slice(0,Nt.length-3).join("-");return Ee.rcpTemplateId===ke&&Ee.originalDate===Ye}),onSave:uA,onClose:()=>te(null),onRemoveException:()=>{const Ee=Ne.id.split("-"),Nt=Ee.slice(Ee.length-3).join("-"),Ye=Ee.slice(0,Ee.length-3).join("-");_(Ye,Nt),te(null)}})]})},pI=()=>{const{template:A,doctors:e,rcpTypes:t,postes:n,activityDefinitions:a,unavailabilities:i,shiftHistory:l,manualOverrides:f,rcpAttendance:d,rcpExceptions:h,importConfiguration:g}=Z.useContext(Ni),b=()=>{const w={metadata:{version:"1.0",appName:"RadioPlan AI",exportDate:new Date().toISOString()},data:{doctors:e,template:A,rcpTypes:t,postes:n,activityDefinitions:a,unavailabilities:i,shiftHistory:l,manualOverrides:f,rcpAttendance:d,rcpExceptions:h}},S="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(w,null,2)),E=document.createElement("a");E.setAttribute("href",S),E.setAttribute("download",`radioplan_backup_${new Date().toISOString().split("T")[0]}.json`),document.body.appendChild(E),E.click(),E.remove()},x=w=>{var U;const S=(U=w.target.files)==null?void 0:U[0];if(!S)return;const E=new FileReader;E.onload=_=>{var Q;try{const L=JSON.parse((Q=_.target)==null?void 0:Q.result);g(L)}catch(L){alert("Fichier JSON invalide."),console.error(L)}},E.readAsText(S),w.target.value=""};return c.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center",children:[c.jsx(sx,{className:"w-6 h-6 mr-3 text-slate-600"}),"Administration des Donnes"]}),c.jsx("p",{className:"text-sm text-slate-500 mt-1 max-w-2xl",children:"Sauvegardez l'intgralit de la configuration et des donnes de l'application ou restaurez une sauvegarde prcdente."})]}),c.jsx("div",{className:"mt-8 bg-white rounded-xl border border-slate-200 p-8 shadow-sm max-w-4xl",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg mr-4",children:c.jsx(y3,{className:"w-6 h-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg text-slate-800",children:"Exporter la configuration"}),c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Sauvegardez l'tat complet (Mdecins, Plannings, Absences, Historique) dans un fichier JSON."})]})]}),c.jsxs("button",{onClick:b,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold text-sm flex items-center justify-center transition-colors shadow-sm",children:[c.jsx(E3,{className:"w-4 h-4 mr-2"}),"Tlcharger le Backup (.json)"]})]}),c.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200 relative overflow-hidden",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"p-3 bg-orange-100 rounded-lg mr-4",children:c.jsx(P2,{className:"w-6 h-6 text-orange-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg text-slate-800",children:"Restaurer / Migrer"}),c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Importez un fichier de configuration pour craser les donnes actuelles."})]})]}),c.jsxs("label",{className:"w-full py-3 bg-slate-800 hover:bg-slate-900 text-white rounded-lg font-bold text-sm flex items-center justify-center transition-colors cursor-pointer shadow-sm",children:[c.jsx(P2,{className:"w-4 h-4 mr-2"}),"Choisir un fichier...",c.jsx("input",{type:"file",className:"hidden",accept:".json",onChange:x})]}),c.jsxs("div",{className:"mt-4 flex items-start bg-orange-50 p-3 rounded-lg border border-orange-200",children:[c.jsx(Bn,{className:"w-4 h-4 text-orange-500 mr-2 mt-0.5"}),c.jsxs("p",{className:"text-xs text-orange-800 leading-tight",children:[c.jsx("strong",{children:"Attention :"})," L'importation remplacera dfinitivement toutes les donnes actuelles de l'application. Assurez-vous d'avoir une sauvegarde si ncessaire."]})]})]})]})})]})},yu=[{id:"unity_astreinte",name:"Unity + Astreinte",color:"bg-orange-100 text-orange-800"},{id:"workflow",name:"Supervision Workflow",color:"bg-emerald-100 text-emerald-800"},{id:"custom",name:"quit indpendante",color:"bg-purple-100 text-purple-800"}],gI=()=>{var Ls,$n,Is;const{activityDefinitions:A,addActivityDefinition:e,updateActivityDefinition:t,removeActivityDefinition:n,doctors:a,template:i,unavailabilities:l,shiftHistory:f,rcpTypes:d,manualOverrides:h,setManualOverrides:g,rcpAttendance:b,rcpExceptions:x,activitiesStartDate:w,validatedWeeks:S,validateWeek:E,unvalidateWeek:U,activitiesWeekOffset:_,setActivitiesWeekOffset:Q,activitiesActiveTab:L,setActivitiesActiveTab:W}=Z.useContext(Ni),{profile:X}=Bi(),re=(X==null?void 0:X.role)==="Admin"||(X==null?void 0:X.role_name)==="Admin",J=_,V=Q;console.log(" Activities render - weekOffset:",J);const ae=Z.useMemo(()=>{const pe=new Date,De=pe.getDay(),At=pe.getDate()-De+(De===0?-6:1);return pe.setDate(At+J*7),pe.setHours(0,0,0,0),console.log(" Computed currentWeekStart:",pe.toISOString().split("T")[0],"from offset:",J),pe},[J]),me=ae.toISOString().split("T")[0],D=(S==null?void 0:S.includes(me))||!1,O=Z.useMemo(()=>{if(!w)return!0;const pe=new Date(w),De=new Date(ae);return De.setDate(De.getDate()-7),De>=pe},[w,ae]),Y=Z.useMemo(()=>{if(w){const pe=new Date;return pe.setFullYear(pe.getFullYear()+5),vm(w,pe,i,l,a,A,d,h)}return f},[w,i,l,a,A,d,h,f]),Ae=Z.useMemo(()=>w?vm(w,ae,i,l,a,A,d,h):f,[w,ae,i,l,a,A,d,h,f]),Ce=Z.useMemo(()=>{const pe=new Date;pe.setHours(0,0,0,0);const De=new Date(ae);return De.setDate(De.getDate()+4),De.setHours(23,59,59,999),De<pe},[ae]),[ee,ce]=Z.useState(!1);Z.useEffect(()=>{ce(!1)},[ae]);const le=Z.useMemo(()=>lo(ae,i,l,a,A,d,!1,Ae,b,x).map(De=>{const At=h[De.id];if(At){if(At==="__CLOSED__")return{...De,assignedDoctorId:null,isLocked:!0,isClosed:!0};{const pt=At.startsWith("auto:"),it=pt?At.substring(5):At;return{...De,assignedDoctorId:it,isLocked:!0,isAutoAssigned:pt}}}return De}),[ae,i,l,a,A,d,Ae,b,x,h,Ce]),Ne=()=>{if(console.log(" handleRecalculateAuto CALLED - weekOffset before:",J),Ce){alert("Impossible de recalculer les semaines passes.");return}const pe=new Date(ae),De=(wt==null?void 0:wt.equityGroup)||"unity_astreinte",At=lo(pe,i,l,a,A,d,!0,Ae,b,x),pt={...h};At.forEach(it=>{if(it.type===vt.ACTIVITY&&it.assignedDoctorId&&it.activityId){const Ut=A.find(Yt=>Yt.id===it.activityId);if(((Ut==null?void 0:Ut.equityGroup)||"unity_astreinte")===De){const Yt=h[it.id];(!Yt||Yt.startsWith("auto:"))&&(pt[it.id]="auto:"+it.assignedDoctorId)}}}),console.log(" About to call setManualOverrides - weekOffset is:",J),console.log(" Recalcul pour groupe:",De),g(pt),ce(!0),console.log(" Auto-calcul effectu pour groupe",De,"- weekOffset should still be:",J)},te=()=>{const pe=(wt==null?void 0:wt.equityGroup)||"unity_astreinte";if(!confirm(`tes-vous sr de vouloir effacer tous les choix de ${pe==="workflow"?"Supervision Workflow":"Unity + Astreinte"} pour cette semaine ?`))return;const At=le.filter(it=>{if(it.type!==vt.ACTIVITY)return!1;const Ut=A.find(Yt=>Yt.id===it.activityId);return((Ut==null?void 0:Ut.equityGroup)||"unity_astreinte")===pe}).map(it=>it.id),pt={...h};At.forEach(it=>{delete pt[it]}),g(pt),ce(!1),console.log(" Choix effacs pour groupe:",pe,"- slots:",At.length)},H=Z.useMemo(()=>H0(le,l,a),[le,l,a,A]),N=L||((Ls=A[0])==null?void 0:Ls.id)||"",k=pe=>W(pe),[P,G]=Z.useState(!1),[z,ie]=Z.useState(""),[he,ue]=Z.useState("HALF_DAY"),[Be,Qe]=Z.useState("custom"),[Pe,ot]=Z.useState("WEEK"),[ut,Te]=Z.useState("AUTO"),[se,Qt]=Z.useState(!0),[st,Je]=Z.useState(!0),[fe,He]=Z.useState(!1),[Ge,at]=Z.useState(null),[ct,It]=Z.useState(null),[St,Pt]=Z.useState(null),[ht,Ct]=Z.useState(""),[zt,ze]=Z.useState("custom"),[be,Me]=Z.useState(null),[dt,xt]=Z.useState(!1),[_t,FA]=Z.useState(new Date().toISOString().split("T")[0]),[Xt,qA]=Z.useState(()=>{const pe=new Date;return pe.setMonth(pe.getMonth()+1),pe.toISOString().split("T")[0]}),[uA,LA]=Z.useState(!1),wA=Object.values(rr),wt=A.find(pe=>pe.id===N),Ht=(wt==null?void 0:wt.equityGroup)==="workflow";Z.useMemo(()=>{const pe=new Map;return A.forEach(De=>{const At=De.equityGroup||"custom";pe.has(At)||pe.set(At,[]),pe.get(At).push(De)}),pe},[A]);const Ee=Z.useMemo(()=>{if(Pe==="WEEK")return[];const pe=new Date(ae.getFullYear(),ae.getMonth(),1),De=pe.getDay(),At=pe.getDate()-De+(De===0?-6:1),pt=new Date(pe);return pt.setDate(At),qE(pt,i,l,a,A,d,Ae,{}).map(Ut=>{const qt=h[Ut.id];if(qt){if(qt==="__CLOSED__")return{...Ut,assignedDoctorId:null,isLocked:!0,isClosed:!0};{const Yt=qt.startsWith("auto:"),AA=Yt?qt.substring(5):qt;return{...Ut,assignedDoctorId:AA,isLocked:!0,isAutoAssigned:Yt}}}return Ut})},[Pe,ae,i,l,a,A,d,Ae,h]),Nt=Z.useMemo(()=>{const pe=le.filter(De=>De.activityId===N).map(De=>De.id);return H.filter(De=>pe.includes(De.slotId))},[H,le,N]),Ye=pe=>{pe.preventDefault(),z.trim()&&(e({id:`act_${Date.now()}`,name:z,granularity:he,allowDoubleBooking:!1,color:"bg-gray-100 text-gray-800",equityGroup:Be}),ie(""),Qe("custom"),G(!1))},ke=pe=>{var De;if(be===pe){if(n(pe),Me(null),N===pe){const At=A.filter(pt=>pt.id!==pe);k(((De=At[0])==null?void 0:De.id)||"")}}else Me(pe),setTimeout(()=>Me(null),3e3)},Se=pe=>{Pt(pe.id),Ct(pe.name),ze(pe.equityGroup||"custom")},$e=()=>{if(!St||!ht.trim())return;const pe=A.find(De=>De.id===St);pe&&t({...pe,name:ht.trim(),equityGroup:zt}),Pt(null)},Ot=(pe,De)=>{const At={...h};De===""?delete At[pe]:At[pe]=De,g(At),at(null),It(null)},Vt=pe=>{const De=le.filter(pt=>pt.activityId===N),At={...h};De.forEach(pt=>{pe===""?delete At[pt.id]:At[pt.id]=pe}),g(At),Te(pe!==""?"MANUAL":"AUTO")},bA=pe=>{const De=new Date(pe.target.value),At=De.getDay(),pt=De.getDate()-At+(At===0?-6:1);if(De.setDate(pt),De.setHours(0,0,0,0),w){const Mt=new Date(w);if(Mt.setHours(0,0,0,0),De<Mt){alert(`Navigation impossible: La date slectionne est antrieure  la date de dbut des activits (${new Date(w).toLocaleDateString("fr-FR")})`);return}}const it=new Date,Ut=it.getDay(),qt=new Date(it);qt.setDate(it.getDate()-Ut+(Ut===0?-6:1)),qt.setHours(0,0,0,0);const Yt=De.getTime()-qt.getTime(),AA=Math.round(Yt/(10080*60*1e3));V(AA)},iA=pe=>{if(Pe==="WEEK"){const De=J+(pe==="next"?1:-1);if(pe==="prev"&&w){const At=new Date,pt=At.getDay(),it=new Date(At);it.setDate(At.getDate()-pt+(pt===0?-6:1)),it.setHours(0,0,0,0);const Ut=new Date(it);Ut.setDate(Ut.getDate()+De*7);const qt=new Date(w);if(qt.setHours(0,0,0,0),Ut<qt)return}V(De)}else{const De=J+(pe==="next"?4:-4);V(De)}},Tt=()=>{if(re)if(D)window.confirm(` Dverrouiller cette semaine ?

Les affectations pourront tre modifies par l'algorithme automatique.

 Attention: Les affectations verrouilles resteront, mais de nouvelles peuvent tre gnres automatiquement.`)&&U(me);else{const pe=le.filter(At=>At.type===vt.ACTIVITY&&At.activityId),De=pe.filter(At=>At.assignedDoctorId).length;if(window.confirm(` Valider cette semaine ?

 ${De} affectations d'activits seront verrouilles.

Ces choix (automatiques ou manuels) seront sauvegards dfinitivement et ne changeront plus.

Confirmer la validation ?`)){const At={...h};pe.forEach(pt=>{if(pt.assignedDoctorId){const it=h[pt.id];it&&it!=="__CLOSED__"?At[pt.id]=it:pt.isAutoAssigned?At[pt.id]=`auto:${pt.assignedDoctorId}`:At[pt.id]=pt.assignedDoctorId}}),g(At),E(me)}}},EA=pe=>{const De=le.find(At=>At.id===pe.slotId);De&&(It(De),at(pe))},kr=pe=>{g({...h,[pe]:"__CLOSED__"}),at(null),It(null)},zA=(pe,De)=>{const At={},pt=A.filter(Mt=>Mt.equityGroup==="unity_astreinte"&&!Mt.name.toLowerCase().includes("astreinte")).map(Mt=>Mt.id),it=A.filter(Mt=>Mt.equityGroup==="unity_astreinte"&&Mt.name.toLowerCase().includes("astreinte")).map(Mt=>Mt.id),Ut=A.filter(Mt=>Mt.equityGroup==="workflow").map(Mt=>Mt.id);a.forEach(Mt=>{At[Mt.id]={unity:0,astreinte:0,workflow:0,weighted:0}});const qt=new Date(pe),Yt=new Date(De);return qt.setHours(0,0,0,0),Yt.setHours(23,59,59,999),[...le,...Ee].forEach(Mt=>{if(!Mt.assignedDoctorId||!Mt.date)return;const HA=new Date(Mt.date);HA<qt||HA>Yt||At[Mt.assignedDoctorId]&&(pt.includes(Mt.activityId)&&At[Mt.assignedDoctorId].unity++,it.includes(Mt.activityId)&&At[Mt.assignedDoctorId].astreinte++,Ut.includes(Mt.activityId)&&Mt.day===rr.MONDAY&&Mt.period===vA.MORNING&&At[Mt.assignedDoctorId].workflow++)}),a.forEach(Mt=>{const HA=Ae[Mt.id];HA&&(pt.forEach(vr=>{At[Mt.id].unity+=HA[vr]||0}),it.forEach(vr=>{At[Mt.id].astreinte+=HA[vr]||0}),Ut.forEach(vr=>{At[Mt.id].workflow+=HA[vr]||0}))}),a.forEach(Mt=>{const HA=Vs(Mt);At[Mt.id].weighted=(At[Mt.id].unity+At[Mt.id].astreinte)/HA}),At},IA=async()=>{try{LA(!0);const pe=zA(_t,Xt),De={};A.forEach(hA=>{De[hA.id]=[]});const At=new Date(_t),pt=new Date(Xt);let it=new Date(At);for(;it<=pt;)lo(new Date(it),i,l,a,A,d,!0,Ae,{},[]).forEach(nA=>{if(nA.assignedDoctorId&&nA.activityId){const sr=new Date(nA.date);if(sr>=At&&sr<=pt){const Tn=a.find(is=>is.id===nA.assignedDoctorId);if(Tn&&De[nA.activityId]){const is=De[nA.activityId].find(oA=>oA.doctor===Tn.name);is?is.count++:De[nA.activityId].push({doctor:Tn.name,count:1})}}}}),it.setDate(it.getDate()+7);const Ut=document.createElement("div");Ut.style.width="1200px",Ut.style.padding="40px",Ut.style.background="white",Ut.style.position="absolute",Ut.style.top="-9999px";const qt=[...a].sort((hA,nA)=>pe[hA.id].weighted-pe[nA.id].weighted),Yt=[...a].sort((hA,nA)=>pe[hA.id].workflow-pe[nA.id].workflow);let AA=`
            <div style="font-family: sans-serif; color: #1e293b;">
                <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #cbd5e1; padding-bottom: 20px; margin-bottom: 30px;">
                    <div>
                        <h1 style="font-size: 24px; font-weight: bold; margin: 0; color: #0f172a;"> Rapport d'quit par Priode</h1>
                        <p style="color: #64748b; margin: 5px 0 0 0;">Du <strong>${new Date(_t).toLocaleDateString("fr-FR")}</strong> au <strong>${new Date(Xt).toLocaleDateString("fr-FR")}</strong></p>
                        ${w?`<p style="color: #3b82f6; margin: 5px 0 0 0; font-size: 12px;"> quit calcule depuis le ${new Date(w).toLocaleDateString("fr-FR")}</p>`:""}
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 12px; color: #94a3b8;">Gnr le ${new Date().toLocaleDateString("fr-FR")}  ${new Date().toLocaleTimeString("fr-FR")}</div>
                        <div style="font-size: 14px; font-weight: bold; color: #3b82f6;">RadioPlan AI</div>
                    </div>
                </div>

                <h2 style="font-size: 18px; color: #ea580c; border-bottom: 2px solid #fdba74; padding-bottom: 5px; margin-top: 20px; margin-bottom: 10px;">1. Points d'quit : Unity & Astreinte</h2>
                <p style="font-size: 11px; color: #64748b; margin-bottom: 10px;">Points accumuls sur la priode slectionne. Score pondr = (Unity + Astreinte) / Taux de travail.</p>
                <table style="width: 100%; border-collapse: collapse; font-size: 12px; margin-bottom: 30px;">
                    <thead>
                        <tr style="background-color: #fff7ed; border-bottom: 2px solid #fed7aa;">
                            <th style="padding: 10px; text-align: left; color: #9a3412;">Mdecin</th>
                            <th style="padding: 10px; text-align: center; color: #9a3412;">Taux</th>
                            <th style="padding: 10px; text-align: center; color: #ea580c;">Unity</th>
                            <th style="padding: 10px; text-align: center; color: #dc2626;">Astreinte</th>
                            <th style="padding: 10px; text-align: center; color: #2563eb; font-weight: bold;">Score Pondr</th>
                        </tr>
                    </thead>
                    <tbody>
        `;qt.forEach(hA=>{const nA=pe[hA.id],sr=Vs(hA);AA+=`
                <tr style="border-bottom: 1px solid #e2e8f0;">
                    <td style="padding: 8px; font-weight: bold; color: #334155;">${hA.name}</td>
                    <td style="padding: 8px; text-align: center; color: #64748b;">${Math.round(sr*100)}%</td>
                    <td style="padding: 8px; text-align: center; font-weight: bold; color: #ea580c; background-color: #fff7ed;">${nA.unity}</td>
                    <td style="padding: 8px; text-align: center; font-weight: bold; color: #dc2626; background-color: #fef2f2;">${nA.astreinte}</td>
                    <td style="padding: 8px; text-align: center; font-weight: bold; color: #2563eb; background-color: #eff6ff; font-size: 14px;">${nA.weighted.toFixed(1)}</td>
                </tr>
            `}),AA+=`
                    </tbody>
                </table>

                <h2 style="font-size: 18px; color: #059669; border-bottom: 2px solid #6ee7b7; padding-bottom: 5px; margin-top: 20px; margin-bottom: 10px;">2. Points d'quit : Workflow</h2>
                <table style="width: 100%; border-collapse: collapse; font-size: 12px; margin-bottom: 30px;">
                    <thead>
                        <tr style="background-color: #ecfdf5; border-bottom: 2px solid #6ee7b7;">
                            <th style="padding: 10px; text-align: left; color: #065f46;">Mdecin</th>
                            <th style="padding: 10px; text-align: center; color: #065f46;">Semaines Workflow</th>
                        </tr>
                    </thead>
                    <tbody>
        `,Yt.forEach(hA=>{const nA=pe[hA.id];AA+=`
                <tr style="border-bottom: 1px solid #e2e8f0;">
                    <td style="padding: 8px; font-weight: bold; color: #334155;">${hA.name}</td>
                    <td style="padding: 8px; text-align: center; font-weight: bold; color: #059669; font-size: 14px;">${nA.workflow}</td>
                </tr>
            `}),AA+=`
                    </tbody>
                </table>

                <h2 style="font-size: 18px; color: #7c3aed; border-bottom: 2px solid #c4b5fd; padding-bottom: 5px; margin-top: 20px; margin-bottom: 10px;">3. Dtail des Affectations par Activit</h2>
            `,A.forEach(hA=>{const nA=De[hA.id]||[];nA.sort((sr,Tn)=>Tn.count-sr.count),nA.length>0&&(AA+=`
                    <div style="margin-bottom: 15px; padding: 10px; background-color: #faf5ff; border-radius: 8px; border: 1px solid #e9d5ff;">
                        <h4 style="margin: 0 0 8px 0; color: #7c3aed; font-size: 13px;">${hA.name}</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                    `,nA.forEach(sr=>{AA+=`<span style="background-color: white; padding: 4px 8px; border-radius: 4px; font-size: 11px; border: 1px solid #e9d5ff;">${sr.doctor}: <strong>${sr.count}</strong></span>`}),AA+=`
                        </div>
                    </div>
                    `)}),AA+=`
                <div style="margin-top: 30px; padding: 15px; background-color: #f1f5f9; border-radius: 8px; font-size: 11px; color: #64748b;">
                    <p style="margin: 0;"><strong>Note :</strong> Les points sont calculs uniquement sur la priode slectionne.</p>
                    <p style="margin: 5px 0 0 0;">Le score pondr permet de comparer quitablement les mdecins  temps partiel.</p>
                </div>
            </div>
        `,Ut.innerHTML=AA,document.body.appendChild(Ut);const Mt=await S0(Ut,{scale:2});document.body.removeChild(Ut);const HA=Mt.toDataURL("image/png"),vr=new Jt("p","mm","a4"),MA=vr.getImageProperties(HA),Yn=vr.internal.pageSize.getWidth(),pA=MA.height*Yn/MA.width;vr.addImage(HA,"PNG",0,0,Yn,pA),vr.save(`Rapport_quit_${_t}_${Xt}.pdf`),xt(!1)}catch(pe){console.error(pe),alert("Erreur lors de la gnration du rapport.")}finally{LA(!1)}},TA=async()=>{try{LA(!0);const pe=cr(),De=Pe==="WEEK"?`Semaine du ${ae.toLocaleDateString("fr-FR")}`:ae.toLocaleString("fr-FR",{month:"long",year:"numeric"}),pt=(Pe==="WEEK"?le:Ee).filter(pA=>pA.activityId===N),it=document.createElement("div");it.style.width="1200px",it.style.padding="40px",it.style.background="white",it.style.position="absolute",it.style.top="-9999px";let Ut="";wA.forEach(pA=>{[vA.MORNING,vA.AFTERNOON].forEach(hA=>{const nA=pt.find(sr=>sr.day===pA&&sr.period===hA);if(nA){const sr=a.find(Tn=>Tn.id===nA.assignedDoctorId);Ut+=`
                            <tr style="border-bottom: 1px solid #e2e8f0;">
                                <td style="padding: 8px; color: #334155;">${pA}</td>
                                <td style="padding: 8px; color: #64748b;">${hA===vA.MORNING?"Matin":"Aprs-midi"}</td>
                                <td style="padding: 8px; font-weight: bold; color: ${sr?"#059669":"#dc2626"};">
                                    ${sr?sr.name:"Non assign"}
                                    ${nA.isLocked?" ":""}
                                </td>
                            </tr>
                        `}})});const qt=[...a].sort((pA,hA)=>pe[pA.id].weighted-pe[hA.id].weighted);let Yt=`
            <div style="font-family: sans-serif; color: #1e293b;">
                <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #cbd5e1; padding-bottom: 20px; margin-bottom: 30px;">
                    <div>
                        <h1 style="font-size: 24px; font-weight: bold; margin: 0; color: #0f172a;"> Rapport d'Activit - Vue Actuelle</h1>
                        <p style="color: #64748b; margin: 5px 0 0 0;"><strong>${De}</strong></p>
                        ${wt?`<p style="color: #3b82f6; margin: 5px 0 0 0; font-weight: bold;">Activit: ${wt.name}</p>`:""}
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 12px; color: #94a3b8;">Gnr le ${new Date().toLocaleDateString("fr-FR")}  ${new Date().toLocaleTimeString("fr-FR")}</div>
                        <div style="font-size: 14px; font-weight: bold; color: #3b82f6;">RadioPlan AI</div>
                        ${D?'<div style="background-color: #dcfce7; color: #166534; padding: 4px 8px; border-radius: 4px; font-size: 11px; margin-top: 5px;"> SEMAINE VALIDE</div>':""}
                    </div>
                </div>

                <h2 style="font-size: 18px; color: #2563eb; border-bottom: 2px solid #93c5fd; padding-bottom: 5px; margin-top: 20px; margin-bottom: 10px;">1. Affectations de la ${Pe==="WEEK"?"semaine":"priode"}</h2>
                <table style="width: 100%; border-collapse: collapse; font-size: 12px; margin-bottom: 30px;">
                    <thead>
                        <tr style="background-color: #eff6ff; border-bottom: 2px solid #93c5fd;">
                            <th style="padding: 10px; text-align: left; color: #1e40af;">Jour</th>
                            <th style="padding: 10px; text-align: left; color: #1e40af;">Priode</th>
                            <th style="padding: 10px; text-align: left; color: #1e40af;">Mdecin assign</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${Ut||'<tr><td colspan="3" style="padding: 8px; color: #94a3b8; text-align: center;">Aucune affectation</td></tr>'}
                    </tbody>
                </table>

                <h2 style="font-size: 18px; color: #ea580c; border-bottom: 2px solid #fdba74; padding-bottom: 5px; margin-top: 20px; margin-bottom: 10px;">2. Points d'quit Actuels</h2>
                <table style="width: 100%; border-collapse: collapse; font-size: 12px; margin-bottom: 30px;">
                    <thead>
                        <tr style="background-color: #fff7ed; border-bottom: 2px solid #fed7aa;">
                            <th style="padding: 10px; text-align: left; color: #9a3412;">Mdecin</th>
                            <th style="padding: 10px; text-align: center; color: #9a3412;">Taux</th>
                            <th style="padding: 10px; text-align: center; color: #ea580c;">Cumul U+A</th>
                            <th style="padding: 10px; text-align: center; color: #059669;">Workflow</th>
                            <th style="padding: 10px; text-align: center; color: #2563eb; font-weight: bold;">Score Pondr</th>
                        </tr>
                    </thead>
                    <tbody>
            `;qt.forEach(pA=>{const hA=pe[pA.id],nA=Vs(pA);Yt+=`
                    <tr style="border-bottom: 1px solid #e2e8f0;">
                        <td style="padding: 8px; font-weight: bold; color: #334155;">${pA.name}</td>
                        <td style="padding: 8px; text-align: center; color: #64748b;">${Math.round(nA*100)}%</td>
                        <td style="padding: 8px; text-align: center; font-weight: bold; color: #ea580c; background-color: #fff7ed;">${hA.unityTotal+hA.astreinteTotal}</td>
                        <td style="padding: 8px; text-align: center; font-weight: bold; color: #059669; background-color: #ecfdf5;">${hA.workflowTotal}</td>
                        <td style="padding: 8px; text-align: center; font-weight: bold; color: #2563eb; background-color: #eff6ff; font-size: 14px;">${hA.weighted.toFixed(1)}</td>
                    </tr>
                `}),Yt+=`
                    </tbody>
                </table>

                <div style="margin-top: 30px; padding: 15px; background-color: #f1f5f9; border-radius: 8px; font-size: 11px; color: #64748b;">
                    <p style="margin: 0;"><strong>Note :</strong> Ce rapport reflte l'tat actuel des affectations et des points d'quit  la date de gnration.</p>
                    ${w?`<p style="margin: 5px 0 0 0;"> Calcul d'quit depuis le ${new Date(w).toLocaleDateString("fr-FR")}</p>`:""}
                </div>
            </div>
            `,it.innerHTML=Yt,document.body.appendChild(it);const AA=await S0(it,{scale:2});document.body.removeChild(it);const Mt=AA.toDataURL("image/png"),HA=new Jt("p","mm","a4"),vr=HA.getImageProperties(Mt),MA=HA.internal.pageSize.getWidth(),Yn=vr.height*MA/vr.width;HA.addImage(Mt,"PNG",0,0,MA,Yn),HA.save(`Activits_${(wt==null?void 0:wt.name)||"Rapport"}_${ae.toISOString().split("T")[0]}.pdf`)}catch(pe){console.error(pe),alert("Erreur lors de la gnration du rapport.")}finally{LA(!1)}},cr=()=>{const pe={},De=Pe==="WEEK"?le:Ee;return a.forEach(At=>{const it=A.filter(oA=>oA.equityGroup==="unity_astreinte"&&!oA.name.toLowerCase().includes("astreinte")).map(oA=>oA.id);let Ut=0;it.forEach(oA=>{Ut+=De.filter(JA=>JA.assignedDoctorId===At.id&&JA.activityId===oA).length});let qt=0;it.forEach(oA=>{var JA;qt+=((JA=Y[At.id])==null?void 0:JA[oA])||0});const AA=A.filter(oA=>oA.equityGroup==="unity_astreinte"&&oA.name.toLowerCase().includes("astreinte")).map(oA=>oA.id);let Mt=0;AA.forEach(oA=>{Mt+=De.filter(JA=>JA.assignedDoctorId===At.id&&JA.activityId===oA).length});let HA=0;AA.forEach(oA=>{var JA;HA+=((JA=Y[At.id])==null?void 0:JA[oA])||0});const MA=A.filter(oA=>oA.equityGroup==="workflow").map(oA=>oA.id),Yn=De.filter(oA=>oA.assignedDoctorId===At.id&&MA.includes(oA.activityId||"")),pA=new Set;Yn.forEach(oA=>{if(!oA.date)return;const JA=new Date(oA.date),Rr=new Date(JA),Hr=Rr.getDay();Rr.setDate(Rr.getDate()-Hr+(Hr===0?-6:1)),pA.add(Rr.toISOString().split("T")[0])});const hA=pA.size;let nA=0;MA.forEach(oA=>{var JA;nA+=((JA=Y[At.id])==null?void 0:JA[oA])||0});const sr=Vs(At),is=(qt+HA)/sr;pe[At.id]={unityWeek:Ut,unityTotal:qt,astreinteWeek:Mt,astreinteTotal:HA,workflowWeek:hA,workflowTotal:nA,weighted:is,rate:sr}}),pe},Ur=cr(),nn=(pe,De,At)=>{const pt=At?At.toISOString().split("T")[0]:Ws(ae,pe),it=oo(pt);if(it)return c.jsxs("div",{className:"h-full w-full bg-pink-50 flex items-center justify-center border border-pink-200 flex-col opacity-80 min-h-[60px]",children:[c.jsx("span",{className:"text-[10px] text-pink-400 font-bold uppercase tracking-wider",children:"Fri"}),c.jsx("span",{className:"text-[9px] text-pink-300 text-center px-1 leading-tight",children:it.name})]});const qt=(Pe==="WEEK"?le:Ee).find(MA=>MA.date===pt&&MA.period===De&&MA.activityId===N);if(!qt)return c.jsx("div",{className:"text-xs text-slate-300 p-2",children:"--"});const Yt=a.find(MA=>MA.id===qt.assignedDoctorId),AA=H.some(MA=>MA.slotId===qt.id);if(Pe==="MONTH")return c.jsx("div",{className:`text-[10px] p-1 border rounded truncate min-h-[1.5rem] flex items-center ${AA?"bg-red-50 border-red-300":"bg-slate-50"}`,children:Yt?c.jsx("span",{className:`font-bold ${AA?"text-red-700":"text-slate-700"}`,children:Yt.name}):c.jsx("span",{className:"text-slate-300",children:"--"})});const Mt=qt.isAutoAssigned,HA=AA?"border-red-400 bg-red-50":qt.isLocked?Mt?"border-green-400 bg-green-50":"border-blue-400 bg-blue-50":"border-dashed border-slate-300",vr=AA?"text-red-800":qt.isLocked?Mt?"text-green-800":"text-blue-800":"text-slate-700";return c.jsxs("div",{className:`p-2 rounded border h-full flex flex-col justify-center min-h-[60px] relative ${HA}`,children:[AA&&c.jsx("div",{className:"absolute top-1 right-1 text-red-500 animate-pulse",children:c.jsx(Bn,{className:"w-3 h-3"})}),qt.isLocked&&Yt&&c.jsx("div",{className:"absolute top-1 left-1",children:Mt?c.jsx("span",{className:"text-[8px] bg-green-200 text-green-700 px-1 rounded font-bold",children:"AUTO"}):c.jsx("span",{className:"text-[8px] bg-blue-200 text-blue-700 px-1 rounded font-bold",children:"MANUEL"})}),re&&!D?c.jsxs("select",{className:`w-full text-xs bg-transparent outline-none font-medium cursor-pointer ${vr}`,value:qt.isLocked&&qt.assignedDoctorId||"",onChange:MA=>Ot(qt.id,MA.target.value),children:[c.jsx("option",{value:"",children:"-- Choisir --"}),a.map(MA=>c.jsx("option",{value:MA.id,children:MA.name},MA.id))]}):c.jsxs("div",{className:`text-xs font-medium text-center ${vr}`,children:[Yt?Yt.name:c.jsx("span",{className:"text-slate-400 italic",children:"Non assign"}),D&&c.jsx(lc,{className:"w-3 h-3 inline ml-1 text-green-600"})]})]})},as=()=>{const pe=new Date(ae.getFullYear(),ae.getMonth(),1),De=pe.getDay(),At=pe.getDate()-De+(De===0?-6:1),pt=new Date(pe);pt.setDate(At);const it=[];let Ut=new Date(pt);for(let qt=0;qt<5;qt++){const Yt=[];for(let AA=0;AA<5;AA++)Yt.push(new Date(Ut)),Ut.setDate(Ut.getDate()+1);Ut.setDate(Ut.getDate()+2),it.push(Yt)}return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"grid grid-cols-5 gap-2 font-bold text-center text-slate-600 mb-2",children:wA.map(qt=>c.jsx("div",{children:qt},qt))}),it.map((qt,Yt)=>c.jsx("div",{className:"grid grid-cols-5 gap-2 border-b pb-4",children:qt.map(AA=>c.jsxs("div",{className:"border rounded p-2 bg-white min-h-[100px] flex flex-col",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 mb-1 border-b border-slate-100 pb-1",children:AA.getDate()}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-2",children:[c.jsxs("div",{className:"flex items-start text-[10px] text-slate-500",children:[c.jsx("span",{className:"w-6 text-[9px] uppercase font-bold pt-1",children:"Mat"}),c.jsx("div",{className:"flex-1 min-w-0",children:nn(rr.MONDAY,vA.MORNING,AA)})]}),c.jsxs("div",{className:"flex items-start text-[10px] text-slate-500",children:[c.jsx("span",{className:"w-6 text-[9px] uppercase font-bold pt-1",children:"ApM"}),c.jsx("div",{className:"flex-1 min-w-0",children:nn(rr.MONDAY,vA.AFTERNOON,AA)})]})]})]},AA.toISOString()))},Yt))]})};return c.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[c.jsx("div",{className:"mb-4 md:mb-0",children:c.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center",children:[c.jsx(M0,{className:"w-6 h-6 mr-3 text-orange-600"}),"Activits & Astreintes"]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[c.jsxs("div",{className:"flex bg-slate-200 p-1 rounded-lg mr-4",children:[c.jsx("button",{onClick:()=>ot("WEEK"),className:`px-3 py-1 text-xs font-bold rounded ${Pe==="WEEK"?"bg-white shadow text-slate-800":"text-slate-500"}`,children:"Semaine"}),c.jsx("button",{onClick:()=>ot("MONTH"),className:`px-3 py-1 text-xs font-bold rounded ${Pe==="MONTH"?"bg-white shadow text-slate-800":"text-slate-500"}`,children:"Mois"})]}),c.jsxs("div",{className:"flex items-center bg-white rounded-lg shadow-sm border border-slate-200 p-1 mr-4",children:[c.jsx("button",{onClick:()=>iA("prev"),disabled:!O,className:`p-1 rounded ${O?"hover:bg-slate-100":"opacity-30 cursor-not-allowed"}`,title:O?"Semaine prcdente":"Date minimum atteinte",children:c.jsx(ku,{className:"w-5 h-5 text-slate-600"})}),Pe==="WEEK"?c.jsx("input",{type:"date",className:"border-none text-slate-700 font-medium text-sm focus:ring-0 bg-transparent mx-2 w-32",value:`${ae.getFullYear()}-${String(ae.getMonth()+1).padStart(2,"0")}-${String(ae.getDate()).padStart(2,"0")}`,onChange:bA,min:w||void 0}):c.jsx("span",{className:"px-4 text-sm font-bold text-slate-700 capitalize w-32 text-center",children:ae.toLocaleString("default",{month:"long",year:"numeric"})}),c.jsx("button",{onClick:()=>iA("next"),className:"p-1 hover:bg-slate-100 rounded",children:c.jsx(gc,{className:"w-5 h-5 text-slate-600"})})]}),re&&Pe==="WEEK"&&c.jsx("button",{onClick:Tt,className:`flex items-center px-3 py-2 rounded text-sm font-bold mr-2 transition-all ${D?"bg-green-100 text-green-700 border border-green-300 hover:bg-green-200":"bg-orange-100 text-orange-700 border border-orange-300 hover:bg-orange-200"}`,title:D?"Semaine valide - Cliquer pour dverrouiller":"Cliquer pour valider cette semaine",children:D?c.jsxs(c.Fragment,{children:[c.jsx(lc,{className:"w-4 h-4 mr-2"}),"Semaine verrouille"]}):c.jsxs(c.Fragment,{children:[c.jsx(c3,{className:"w-4 h-4 mr-2"}),"Valider la semaine"]})}),!re&&D&&Pe==="WEEK"&&c.jsxs("div",{className:"flex items-center px-3 py-2 bg-green-50 text-green-700 rounded text-sm font-medium mr-2 border border-green-200",children:[c.jsx(lc,{className:"w-4 h-4 mr-2"}),"Semaine valide"]}),re&&Pe==="WEEK"&&!D&&!Ce&&c.jsxs("button",{onClick:Ne,className:`flex items-center px-3 py-2 rounded text-sm font-bold mr-2 transition-all ${ee?"bg-green-100 text-green-700 border border-green-300":"bg-blue-100 text-blue-700 border border-blue-300 hover:bg-blue-200"}`,title:"Recalculer les affectations automatiques pour cette semaine",children:[c.jsx(Ug,{className:"w-4 h-4 mr-2"}),ee?"Auto calcul ":"Recalculer Auto"]}),re&&Pe==="WEEK"&&!D&&!Ce&&c.jsxs("button",{onClick:te,className:"flex items-center px-3 py-2 bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 rounded text-sm font-medium mr-2 transition-all",title:"Effacer tous les choix de cette semaine",children:[c.jsx(bi,{className:"w-4 h-4 mr-1"}),"Effacer"]}),re&&c.jsxs("button",{onClick:()=>G(!P),className:"flex items-center px-3 py-2 bg-slate-200 hover:bg-slate-300 rounded text-slate-700 text-sm font-medium",children:[c.jsx(T1,{className:"w-4 h-4 mr-2"}),"Grer"]})]})]}),P&&c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-slate-200 mb-4 animate-in fade-in slide-in-from-top-2 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-sm mb-3 flex items-center",children:[c.jsx(p0,{className:"w-4 h-4 mr-2 text-blue-600"})," Crer une nouvelle activit"]}),c.jsxs("form",{onSubmit:Ye,className:"flex flex-wrap gap-4 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Nom"}),c.jsx("input",{type:"text",value:z,onChange:pe=>ie(pe.target.value),className:"border rounded px-2 py-1 text-sm",placeholder:"Ex: Consult Douleur",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Rythme"}),c.jsxs("select",{value:he,onChange:pe=>ue(pe.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"HALF_DAY",children:"Demi-journe"}),c.jsx("option",{value:"WEEKLY",children:"Semaine entire"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Groupe d'quit"}),c.jsx("select",{value:Be,onChange:pe=>Qe(pe.target.value),className:"border rounded px-2 py-1 text-sm",children:yu.map(pe=>c.jsx("option",{value:pe.id,children:pe.name},pe.id))})]}),c.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-3 py-1.5 rounded text-sm flex items-center font-bold hover:bg-blue-700 transition-colors",children:[c.jsx(p0,{className:"w-4 h-4 mr-1"})," Ajouter"]})]})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsxs("h3",{className:"font-bold text-sm mb-3 flex items-center",children:[c.jsx(O2,{className:"w-4 h-4 mr-2 text-purple-600"})," Grer les activits existantes"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:A.map(pe=>{const De=St===pe.id,At=be===pe.id,pt=yu.find(it=>it.id===(pe.equityGroup||"custom"));return c.jsx("div",{className:`p-3 border rounded-lg ${De?"bg-blue-50 border-blue-300":"bg-slate-50"}`,children:De?c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"text",value:ht,onChange:it=>Ct(it.target.value),className:"w-full border rounded px-2 py-1 text-sm",autoFocus:!0}),c.jsx("select",{value:zt,onChange:it=>ze(it.target.value),className:"w-full border rounded px-2 py-1 text-sm",children:yu.map(it=>c.jsx("option",{value:it.id,children:it.name},it.id))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:$e,className:"flex-1 bg-green-600 text-white px-2 py-1 rounded text-xs font-bold hover:bg-green-700",children:[c.jsx(cc,{className:"w-3 h-3 inline mr-1"})," Sauver"]}),c.jsx("button",{onClick:()=>Pt(null),className:"flex-1 bg-slate-300 text-slate-700 px-2 py-1 rounded text-xs",children:"Annuler"})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-sm text-slate-800",children:pe.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${(pt==null?void 0:pt.color)||"bg-gray-100 text-gray-600"}`,children:(pt==null?void 0:pt.name)||"Aucun groupe"}),c.jsx("span",{className:"text-[10px] text-slate-400",children:pe.granularity==="WEEKLY"?"Hebdo":" jour"})]})]}),pe.isSystem&&c.jsx("span",{className:"text-[9px] bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded font-bold uppercase",children:"Systme"})]}),c.jsxs("div",{className:"flex gap-2 mt-2",children:[c.jsxs("button",{onClick:()=>Se(pe),className:"flex-1 text-xs text-blue-600 hover:bg-blue-100 px-2 py-1 rounded flex items-center justify-center",children:[c.jsx(ox,{className:"w-3 h-3 mr-1"})," Modifier"]}),!pe.isSystem&&c.jsxs("button",{onClick:()=>ke(pe.id),className:`flex-1 text-xs px-2 py-1 rounded flex items-center justify-center transition-colors ${At?"bg-red-600 text-white font-bold":"text-red-600 hover:bg-red-100"}`,children:[c.jsx(bi,{className:"w-3 h-3 mr-1"}),At?"Confirmer ?":"Supprimer"]})]})]})},pe.id)})})]})]}),c.jsx("div",{className:"flex space-x-2 border-b border-slate-200 pb-1 overflow-x-auto shrink-0",children:A.map(pe=>{const De=yu.find(At=>At.id===(pe.equityGroup||"custom"));return c.jsxs("button",{onClick:()=>k(pe.id),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors border-t border-l border-r whitespace-nowrap ${N===pe.id?"bg-white border-slate-300 text-blue-700 -mb-px":"bg-slate-50 border-transparent text-slate-500 hover:bg-slate-100"}`,children:[c.jsx("span",{children:pe.name}),De&&De.id!=="custom"&&c.jsx("span",{className:`ml-2 text-[9px] px-1 py-0.5 rounded ${De.color}`,children:De.id==="unity_astreinte"?"":""})]},pe.id)})}),c.jsx("div",{className:"flex-1 bg-white border border-slate-300 rounded-b-lg p-4 shadow-sm overflow-auto min-h-0",children:Pe==="MONTH"?as():(wt==null?void 0:wt.granularity)==="WEEKLY"?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-full flex justify-end mb-2",children:c.jsx("button",{onClick:()=>Qt(!se),className:"text-slate-400 hover:text-slate-600",children:se?c.jsx(Wd,{className:"w-4 h-4"}):c.jsx(t0,{className:"w-4 h-4"})})}),se&&c.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col items-center justify-center max-w-md w-full transition-all",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-6 bg-white p-2 rounded-lg border border-slate-200",children:[c.jsxs("button",{onClick:()=>Te("AUTO"),disabled:Ce,className:`px-4 py-2 text-sm font-bold rounded transition-colors ${ut==="AUTO"&&!Ce?"bg-blue-100 text-blue-800":"text-slate-500 hover:bg-slate-50"} ${Ce?"opacity-50 cursor-not-allowed":""}`,title:Ce?"Le choix auto est dsactiv pour les semaines passes":"",children:[c.jsx(Ug,{className:"w-4 h-4 inline-block mr-1"})," Auto / IA"]}),c.jsxs("button",{onClick:()=>Te("MANUAL"),className:`px-4 py-2 text-sm font-bold rounded transition-colors ${ut==="MANUAL"||Ce?"bg-blue-100 text-blue-800":"text-slate-500 hover:bg-slate-50"}`,children:[c.jsx(D1,{className:"w-4 h-4 inline-block mr-1"})," Manuel"]})]}),Ce&&c.jsxs("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-700 flex items-center",children:[c.jsx(Bn,{className:"w-4 h-4 mr-2 flex-shrink-0"}),c.jsx("span",{children:"Cette semaine est passe. Seul le mode manuel est autoris pour viter de modifier l'historique."})]}),c.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Responsable de la Semaine"}),c.jsx("div",{className:"w-full",children:(()=>{const pe=le.find(De=>De.activityId===N);return pe?c.jsxs("select",{className:`w-full p-3 border rounded-lg text-lg text-center font-bold outline-none ring-2 ${pe.isLocked?"ring-blue-500 bg-white text-blue-800":"ring-transparent bg-slate-100 text-slate-500"}`,value:pe.isLocked&&pe.assignedDoctorId||"",onChange:De=>Vt(De.target.value),children:[c.jsxs("option",{value:"",children:["-- ",ut==="AUTO"?"Calcul Automatique":"Slectionner"," --"]}),a.map(De=>c.jsx("option",{value:De.id,children:De.name},De.id))]}):c.jsx("div",{children:"Pas de crneau gnr."})})()}),c.jsxs("div",{className:"mt-4 text-sm text-slate-500 text-center",children:[ut==="AUTO"?c.jsxs("p",{className:"flex items-center justify-center text-green-600 font-medium",children:[c.jsx(Ug,{className:"w-4 h-4 mr-1"}),"L'algorithme choisit automatiquement en quilibrant sur l'anne."]}):c.jsx("p",{className:"text-blue-600",children:"Vous avez la main. Cette affectation s'appliquera  toute la semaine et bloquera les choix auto."}),(()=>{const pe=le.find(De=>De.activityId===N);if(pe&&!pe.isLocked&&pe.assignedDoctorId){const De=a.find(At=>At.id===pe.assignedDoctorId);return c.jsxs("div",{className:"mt-2 text-slate-400 font-bold text-xs",children:["(Actuellement assign : ",De==null?void 0:De.name,")"]})}})()]}),ut==="AUTO"&&c.jsx("div",{className:"mt-2",children:c.jsx("button",{onClick:()=>Vt(""),className:"text-xs underline text-slate-400 hover:text-blue-600",children:"Forcer le recalcul Auto"})})]})]}):c.jsx("div",{className:"min-w-[700px]",children:c.jsxs("table",{className:"w-full border-collapse table-fixed",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 border bg-slate-100 text-xs font-bold text-slate-500 uppercase w-24",children:"Priode"}),wA.map(pe=>{const De=Ws(ae,pe),[At,pt,it]=De.split("-");return c.jsxs("th",{className:"p-2 border bg-slate-50 text-sm font-bold text-slate-700",children:[pe," ",c.jsxs("span",{className:"block text-xs font-normal text-slate-500",children:[it,"/",pt]})]},pe)})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border bg-slate-50 text-xs font-bold text-center align-middle",children:"Matin"}),wA.map(pe=>c.jsx("td",{className:"p-2 border align-top h-auto",children:nn(pe,vA.MORNING)},`m-${pe}`))]}),c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border bg-slate-50 text-xs font-bold text-center align-middle",children:"Aprs-midi"}),wA.map(pe=>c.jsx("td",{className:"p-2 border align-top h-auto",children:nn(pe,vA.AFTERNOON)},`am-${pe}`))]})]})]})})}),c.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-100 p-4 mt-4 shrink-0 shadow-sm",children:[c.jsxs("h3",{className:"font-bold text-red-800 text-sm flex items-center justify-between cursor-pointer",onClick:()=>He(!fe),children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx(Bn,{className:"w-5 h-5 mr-2 text-red-600"}),"Conflits Dtects (",wt==null?void 0:wt.name,")"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs bg-red-200 text-red-800 px-2 py-0.5 rounded-full",children:Nt.length}),fe?c.jsx(Wd,{className:"w-4 h-4 text-red-400"}):c.jsx(t0,{className:"w-4 h-4 text-red-400"})]})]}),fe&&c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1 mt-3",children:Nt.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center p-4 text-slate-500 italic",children:[c.jsx("span",{className:"text-sm",children:"Aucun conflit avec d'autres activits ou RCP pour le moment."}),c.jsx("span",{className:"text-xs opacity-70 mt-1",children:"L'application dtecte en temps rel les chevauchements avec les Postes, RCP confirmes et autres activits."})]}):Nt.map(pe=>{const De=a.find(pt=>pt.id===pe.doctorId),At=le.find(pt=>pt.id===pe.slotId);return c.jsxs("div",{onClick:()=>EA(pe),className:"group flex items-start bg-white p-3 rounded-lg border border-red-200 shadow-sm hover:shadow-md hover:border-red-400 cursor-pointer transition-all",children:[c.jsx("div",{className:"mr-3 mt-0.5",children:c.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center text-red-600",children:c.jsx(Bn,{className:"w-4 h-4"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:"font-bold text-red-700 text-sm",children:pe.type==="DOUBLE_BOOKING"?"DOUBLE RSERVATION":pe.type}),c.jsxs("span",{className:"text-[10px] bg-slate-100 text-slate-500 px-2 py-0.5 rounded font-mono",children:[At==null?void 0:At.day," ",(At==null?void 0:At.period)==="Matin"?"AM":"PM"]})]}),c.jsxs("div",{className:"text-xs text-slate-700 mt-1",children:[c.jsx("span",{className:"font-bold",children:De==null?void 0:De.name})," : ",pe.description]}),c.jsx("div",{className:"mt-2 opacity-0 group-hover:opacity-100 transition-opacity flex justify-end",children:c.jsxs("span",{className:"text-xs font-bold text-blue-600 flex items-center",children:["Rsoudre ",c.jsx(gc,{className:"w-3 h-3 ml-1"})]})})]})]},pe.id)})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-4 mt-4 shrink-0 transition-all",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("h3",{className:"font-bold text-slate-800 text-sm flex items-center cursor-pointer",onClick:()=>Je(!st),children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx(O2,{className:"w-4 h-4 mr-2 text-purple-600"}),"quit & Rpartition par Groupe"]}),c.jsxs("div",{className:"ml-3 flex items-center space-x-2",children:[(wt==null?void 0:wt.equityGroup)&&c.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${(($n=yu.find(pe=>pe.id===wt.equityGroup))==null?void 0:$n.color)||"bg-gray-100"}`,children:((Is=yu.find(pe=>pe.id===wt.equityGroup))==null?void 0:Is.name)||wt.equityGroup}),w&&c.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-bold",children:["Depuis ",new Date(w).toLocaleDateString()]}),st?c.jsx(Wd,{className:"w-4 h-4 text-slate-400"}):c.jsx(t0,{className:"w-4 h-4 text-slate-400"})]})]}),st&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:TA,disabled:uA,className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1.5 rounded flex items-center transition-colors disabled:opacity-50",title:"Tlcharger un snapshot de la vue actuelle",children:[uA?c.jsx(ol,{className:"w-3 h-3 mr-1 animate-spin"}):c.jsx(T2,{className:"w-3 h-3 mr-1"}),"Vue actuelle"]}),c.jsxs("button",{onClick:()=>xt(!0),className:"text-xs bg-slate-100 hover:bg-slate-200 text-slate-700 px-3 py-1.5 rounded flex items-center transition-colors",children:[c.jsx(Bm,{className:"w-3 h-3 mr-1"}),"Rapport priode"]})]})]}),st&&c.jsxs("div",{className:"space-y-6",children:[((wt==null?void 0:wt.equityGroup)==="unity_astreinte"||!(wt!=null&&wt.equityGroup))&&!Ht&&c.jsxs("div",{children:[c.jsxs("h4",{className:"text-xs font-bold text-orange-600 uppercase mb-2 border-b border-orange-200 pb-1 flex items-center justify-between",children:[c.jsx("span",{children:"quit : Groupe Unity + Astreinte"}),c.jsxs("span",{className:"text-[10px] normal-case font-normal text-slate-500",children:["Activits regroupes : ",A.filter(pe=>pe.equityGroup==="unity_astreinte").map(pe=>pe.name).join(", ")||"Astreinte, Unity"]})]}),c.jsx("div",{className:"overflow-x-auto max-h-48 transition-all",children:c.jsxs("table",{className:"min-w-full text-xs text-left",children:[c.jsx("thead",{className:"bg-orange-50 border-b sticky top-0 z-10",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 font-bold text-slate-600",children:"Mdecin"}),c.jsx("th",{className:"p-2 font-bold text-slate-500",children:"Taux"}),c.jsx("th",{className:"p-2 font-bold text-orange-500",title:"Points UNIQUEMENT dans la priode affiche (Sem./Mois)",children:"Sem./Mois"}),c.jsx("th",{className:"p-2 font-bold text-orange-700",title:"Points TOTAL depuis le dbut (inclut historique + priode actuelle)",children:"Total U+A"}),c.jsx("th",{className:"p-2 font-bold text-blue-600",title:"Score pondr = Total / Taux",children:"Score Pondr"})]})}),c.jsx("tbody",{children:[...a].sort((pe,De)=>{var it,Ut;const At=((it=Ur[pe.id])==null?void 0:it.weighted)||0,pt=((Ut=Ur[De.id])==null?void 0:Ut.weighted)||0;return At-pt}).map(pe=>{const De=Ur[pe.id],At=((De==null?void 0:De.unityWeek)||0)+((De==null?void 0:De.astreinteWeek)||0),pt=((De==null?void 0:De.unityTotal)||0)+((De==null?void 0:De.astreinteTotal)||0);return c.jsxs("tr",{className:"border-b hover:bg-slate-50",children:[c.jsxs("td",{className:"p-2 font-medium text-slate-700 flex items-center",children:[c.jsx("div",{className:`w-5 h-5 rounded-full mr-2 ${pe.color} flex items-center justify-center text-[8px]`,children:pe.name.substring(0,2)}),pe.name]}),c.jsxs("td",{className:"p-2 text-slate-500",children:[Math.round(((De==null?void 0:De.rate)||1)*100),"%"]}),c.jsx("td",{className:"p-2 text-orange-500 bg-orange-50/30",children:At}),c.jsx("td",{className:"p-2 font-bold text-orange-700 bg-orange-50/50",children:pt}),c.jsx("td",{className:"p-2 font-bold text-blue-600",children:((De==null?void 0:De.weighted)||0).toFixed(1)})]},pe.id)})})]})})]}),((wt==null?void 0:wt.equityGroup)==="workflow"||Ht)&&c.jsxs("div",{children:[c.jsxs("h4",{className:"text-xs font-bold text-emerald-600 uppercase mb-2 border-b border-emerald-200 pb-1 flex items-center justify-between",children:[c.jsx("span",{children:"quit : Supervision Workflow"}),c.jsxs("span",{className:"text-[10px] normal-case font-normal text-slate-500",children:["Activits regroupes : ",A.filter(pe=>pe.equityGroup==="workflow").map(pe=>pe.name).join(", ")||"Supervision Workflow"]})]}),c.jsx("div",{className:"overflow-x-auto max-h-48 transition-all",children:c.jsxs("table",{className:"min-w-full text-xs text-left",children:[c.jsx("thead",{className:"bg-emerald-50 border-b sticky top-0 z-10",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 font-bold text-slate-600",children:"Mdecin"}),c.jsx("th",{className:"p-2 font-bold text-slate-500",children:"Taux"}),c.jsx("th",{className:"p-2 font-bold text-emerald-500",title:"Cette semaine",children:"Sem."}),c.jsx("th",{className:"p-2 font-bold text-emerald-700",title:"Cumul total",children:"Cumul"})]})}),c.jsx("tbody",{children:[...a].sort((pe,De)=>{var it,Ut;const At=((it=Ur[pe.id])==null?void 0:it.workflowTotal)||0,pt=((Ut=Ur[De.id])==null?void 0:Ut.workflowTotal)||0;return At-pt}).map(pe=>{const De=Ur[pe.id];return c.jsxs("tr",{className:"border-b hover:bg-slate-50",children:[c.jsxs("td",{className:"p-2 font-medium text-slate-700 flex items-center",children:[c.jsx("div",{className:`w-5 h-5 rounded-full mr-2 ${pe.color} flex items-center justify-center text-[8px]`,children:pe.name.substring(0,2)}),pe.name]}),c.jsxs("td",{className:"p-2 text-slate-500",children:[Math.round(((De==null?void 0:De.rate)||1)*100),"%"]}),c.jsx("td",{className:"p-2 text-emerald-500 bg-emerald-50/30",children:(De==null?void 0:De.workflowWeek)||0}),c.jsx("td",{className:"p-2 font-bold text-emerald-700 bg-emerald-50/50",children:(De==null?void 0:De.workflowTotal)||0})]},pe.id)})})]})})]}),(wt==null?void 0:wt.equityGroup)==="custom"&&c.jsxs("div",{children:[c.jsxs("h4",{className:"text-xs font-bold text-purple-600 uppercase mb-2 border-b border-purple-200 pb-1 flex items-center justify-between",children:[c.jsxs("span",{children:["quit : ",wt.name," (Indpendante)"]}),c.jsx("span",{className:"text-[10px] normal-case font-normal text-slate-500",children:"Cette activit est comptabilise sparment"})]}),c.jsx("div",{className:"overflow-x-auto max-h-48 transition-all",children:c.jsxs("table",{className:"min-w-full text-xs text-left",children:[c.jsx("thead",{className:"bg-purple-50 border-b sticky top-0 z-10",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 font-bold text-slate-600",children:"Mdecin"}),c.jsx("th",{className:"p-2 font-bold text-slate-500",children:"Taux Travail"}),c.jsxs("th",{className:"p-2 font-bold text-purple-600",children:[wt.name," (Total)"]}),c.jsx("th",{className:"p-2 font-bold text-purple-800",children:"Score Pondr"})]})}),c.jsx("tbody",{children:[...a].sort((pe,De)=>{const At=Pe==="WEEK"?le:Ee,pt=At.filter(Yt=>Yt.assignedDoctorId===pe.id&&Yt.activityId===N).length,it=At.filter(Yt=>Yt.assignedDoctorId===De.id&&Yt.activityId===N).length,Ut=Vs(pe),qt=Vs(De);return pt/Ut-it/qt}).map(pe=>{var Yt;const At=(Pe==="WEEK"?le:Ee).filter(AA=>AA.assignedDoctorId===pe.id&&AA.activityId===N).length,pt=((Yt=Ae[pe.id])==null?void 0:Yt[N])||0,it=At+pt,Ut=Vs(pe),qt=it/Ut;return c.jsxs("tr",{className:"border-b hover:bg-slate-50",children:[c.jsxs("td",{className:"p-2 font-medium text-slate-700 flex items-center",children:[c.jsx("div",{className:`w-5 h-5 rounded-full mr-2 ${pe.color} flex items-center justify-center text-[8px]`,children:pe.name.substring(0,2)}),pe.name]}),c.jsxs("td",{className:"p-2 text-slate-500",children:[Math.round(Ut*100),"%"]}),c.jsx("td",{className:"p-2 font-bold text-purple-600 bg-purple-50/30",children:it}),c.jsx("td",{className:"p-2 font-bold text-purple-800",children:qt.toFixed(1)})]},pe.id)})})]})})]})]})]}),dt&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm p-6 border border-slate-200 animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center",children:[c.jsx(T2,{className:"w-5 h-5 mr-2 text-blue-600"}),"Gnrer Rapport PDF"]}),c.jsx("button",{onClick:()=>xt(!1),className:"text-slate-400 hover:text-slate-600",children:c.jsx(Ys,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Date de dbut"}),c.jsx("input",{type:"date",className:"w-full border rounded p-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:_t,onChange:pe=>FA(pe.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Date de fin"}),c.jsx("input",{type:"date",className:"w-full border rounded p-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:Xt,min:_t,onChange:pe=>qA(pe.target.value)})]}),c.jsx("div",{className:"text-xs text-slate-500 bg-slate-50 p-3 rounded italic",children:"Le rapport calculera les statistiques consolides (Unity, Astreinte, Supervision) sur cette priode prcise."})]}),c.jsxs("button",{onClick:IA,disabled:uA,className:"w-full py-2.5 bg-blue-600 text-white rounded-lg font-bold text-sm hover:bg-blue-700 flex items-center justify-center disabled:opacity-50 transition-all shadow-md",children:[uA?c.jsx(ol,{className:"w-4 h-4 mr-2 animate-spin"}):c.jsx(Bm,{className:"w-4 h-4 mr-2"}),uA?"Gnration...":"Tlcharger le Rapport"]})]})}),ct&&c.jsx(lx,{slot:ct,conflict:Ge||void 0,doctors:a,slots:le,unavailabilities:l,onClose:()=>{It(null),at(null)},onResolve:Ot,onCloseSlot:kr})]})},mI=({isOpen:A,onClose:e})=>{var S;const{currentUser:t,setCurrentUser:n,template:a,rcpAttendance:i,rcpTypes:l}=Z.useContext(Ni),{hasPermission:f,signOut:d,profile:h}=Bi(),g=gf(),b=Z.useMemo(()=>{const E=h==null?void 0:h.doctor_id;if(!E)return 0;let U=0;const _=new Date,Q=new Date(_),L=Q.getDay(),W=Q.getDate()-L+(L===0?-6:1);Q.setDate(W),Q.setHours(0,0,0,0);for(const X of[0,1]){const re=new Date(Q);re.setDate(re.getDate()+X*7);const J=new Date(re);J.setDate(J.getDate()+6);const V=re.toISOString().split("T")[0],ae=J.toISOString().split("T")[0];a.forEach(me=>{var D;if(me.type==="RCP"&&(me.doctorIds&&me.doctorIds.includes(E)||me.defaultDoctorId===E||me.secondaryDoctorIds&&me.secondaryDoctorIds.includes(E)||me.backupDoctorId===E)){const Y=Ws(re,me.day),Ae=`${me.id} -${Y} `;((D=i[Ae])==null?void 0:D[E])||U++}}),l.forEach(me=>{me.frequency==="MANUAL"&&me.manualInstances&&me.manualInstances.forEach(D=>{var O;if(D.date>=V&&D.date<=ae&&(D.doctorIds.includes(E)||D.backupDoctorId===E)){const Ae=`manual - rcp - ${me.id} -${D.id} `;((O=i[Ae])==null?void 0:O[E])||U++}})})}return U},[h==null?void 0:h.doctor_id,a,i,l]),x=[{to:"/",icon:Q3,label:"Tableau de bord",show:!0},{to:"/planning",icon:r3,label:"Planning Global",show:f("view_planning")},{to:"/activities",icon:M0,label:"Activits",show:!0},{to:"/configuration",icon:iS,label:"Rgles & Postes",show:f("manage_settings")},{to:"/profile",icon:p3,label:"Mon Profil",badge:b,show:!0}],w=[{to:"/admin/team",icon:sf,label:"Gestion d'quipe",show:f("manage_users")},{to:"/admin/roles",icon:Ru,label:"Gestion des rles",show:f("manage_users")},{to:"/data",icon:sx,label:"Donnes",show:f("manage_settings")}];return c.jsxs(c.Fragment,{children:[A&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),c.jsxs("aside",{className:`
            fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col transition-transform duration-300 ease-in-out
            md:relative md:translate-x-0 print:hidden
            ${A?"translate-x-0":"-translate-x-full"}
        `,children:[c.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold tracking-wider text-blue-400",children:"RadioPlan AI"}),c.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Oncologie & Radiothrapie"})]}),c.jsx("button",{onClick:e,className:"md:hidden text-slate-400 hover:text-white",children:c.jsx(Ys,{className:"w-6 h-6"})})]}),c.jsxs("nav",{className:"flex-1 py-6 space-y-2 px-3 overflow-y-auto",children:[x.filter(E=>E.show).map(E=>c.jsxs(wm,{to:E.to,onClick:e,className:({isActive:U})=>`flex items-center px-4 py-3 rounded-lg transition-colors relative ${U?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[c.jsx(E.icon,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"font-medium",children:E.label}),E.badge&&E.badge>0&&c.jsx("span",{className:"absolute right-3 top-3 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:E.badge})]},E.to)),w.some(E=>E.show)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-4 py-2 mt-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Administration"}),w.filter(E=>E.show).map(E=>c.jsxs(wm,{to:E.to,onClick:e,className:({isActive:U})=>`flex items-center px-4 py-3 rounded-lg transition-colors relative ${U?"bg-purple-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[c.jsx(E.icon,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"font-medium",children:E.label})]},E.to))]})]}),h?c.jsx("div",{className:"p-4 bg-slate-800 border-t border-slate-700",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold mr-3 bg-blue-600 text-white shadow-lg",children:((S=h.email)==null?void 0:S.substring(0,2).toUpperCase())||"U"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-white truncate",children:h.email}),c.jsx("p",{className:"text-xs text-slate-400",children:h.role_name||h.role}),c.jsxs("button",{onClick:async()=>{await d(),n(null),g("/login"),e()},className:"text-xs text-red-400 hover:text-red-300 flex items-center mt-2 bg-slate-700/50 px-2 py-1 rounded",children:[c.jsx(k2,{className:"w-3 h-3 mr-1"}),"Se dconnecter"]})]})]})}):c.jsx("div",{className:"p-4 border-t border-slate-800",children:c.jsxs("button",{onClick:()=>g("/login"),className:"w-full text-sm text-blue-400 hover:text-blue-300 flex items-center justify-center py-2 bg-slate-800 rounded",children:[c.jsx(k2,{className:"w-4 h-4 mr-2"}),"Se connecter"]})})]})]})},wI=()=>{const[A,e]=Z.useState(""),[t,n]=Z.useState(""),[a,i]=Z.useState(!1),[l,f]=Z.useState(null),d=gf(),{signInWithPassword:h}=Bi(),g=async b=>{b.preventDefault(),i(!0),f(null);try{const{error:x}=await h(A,t);if(x)throw x;d("/")}catch(x){f(x.message||"Une erreur est survenue lors de la connexion")}finally{i(!1)}};return c.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"RadioPlan AI"}),c.jsx("p",{className:"text-slate-500",children:"Connectez-vous pour accder au planning"})]}),l&&c.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 text-sm",children:l}),c.jsxs("form",{onSubmit:g,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(e0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),c.jsx("input",{type:"email",value:A,onChange:b=>e(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"votre@email.com",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),c.jsx("input",{type:"password",value:t,onChange:b=>n(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"",required:!0})]})]}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Connexion...":"Se connecter"})]})]})})},vI=()=>{const{hasPermission:A}=Bi(),[e,t]=Z.useState([]),[n,a]=Z.useState([]),[i,l]=Z.useState(!0),[f,d]=Z.useState({});Z.useEffect(()=>{h()},[]);const h=async()=>{l(!0);const{data:b}=await mt.from("app_roles").select("*").order("name"),{data:x}=await mt.from("app_permissions").select("*").order("code"),{data:w}=await mt.from("role_permissions").select("role_id, app_permissions(code)");t(b||[]),a(x||[]);const S={};w==null||w.forEach(E=>{S[E.role_id]||(S[E.role_id]=[]),S[E.role_id].push(E.app_permissions.code)}),d(S),l(!1)},g=async(b,x,w)=>{const S=f[b]||[];S.includes(x)?(await mt.from("role_permissions").delete().match({role_id:b,permission_id:w}),d({...f,[b]:S.filter(U=>U!==x)})):(await mt.from("role_permissions").insert({role_id:b,permission_id:w}),d({...f,[b]:[...S,x]}))};return A("manage_users")?i?c.jsx("div",{children:"Chargement..."}):c.jsxs("div",{className:"p-6",children:[c.jsxs("h1",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[c.jsx(Ru,{className:"w-6 h-6"})," Gestion des Rles"]}),c.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:c.jsxs("table",{className:"min-w-full border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 border-b text-left bg-gray-50",children:"Permission"}),e.map(b=>c.jsxs("th",{className:"p-4 border-b text-center bg-gray-50 min-w-[100px]",children:[c.jsx("div",{className:"font-bold",children:b.name}),c.jsx("div",{className:"text-xs text-gray-500 font-normal",children:b.description})]},b.id))]})}),c.jsx("tbody",{children:n.map(b=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"p-4 border-b",children:[c.jsx("div",{className:"font-medium",children:b.code}),c.jsx("div",{className:"text-sm text-gray-500",children:b.description})]}),e.map(x=>{const w=(f[x.id]||[]).includes(b.code);return c.jsx("td",{className:"p-4 border-b text-center",children:c.jsx("button",{onClick:()=>g(x.id,b.code,b.id),disabled:x.name==="Admin",className:`p-2 rounded-full transition-colors ${w?"bg-green-100 text-green-600":"bg-gray-100 text-gray-300"}`,children:w?c.jsx(bm,{className:"w-5 h-5"}):c.jsx(Ys,{className:"w-5 h-5"})})},`${x.id}-${b.id}`)})]},b.id))})]})})]}):c.jsx("div",{children:"Accs refus"})},bI=["Secrtariat","Secretariat","Secretary"],yI=()=>{const{hasPermission:A}=Bi(),{doctors:e,removeDoctor:t}=Z.useContext(Ni),[n,a]=Z.useState([]),[i,l]=Z.useState([]),[f,d]=Z.useState([]),[h,g]=Z.useState([]),[b,x]=Z.useState(!0),[w,S]=Z.useState(!1),[E,U]=Z.useState(()=>{const be=sessionStorage.getItem("teamManagement_activeView");return be==="doctors"||be==="specialties"?be:"users"}),_=be=>{sessionStorage.setItem("teamManagement_activeView",be),U(be)},[Q,L]=Z.useState(!1),[W,X]=Z.useState(!1),[re,J]=Z.useState(null),[V,ae]=Z.useState(!1),[me,D]=Z.useState(null),[O,Y]=Z.useState({name:"",color:"#3B82F6",selectedSpecialties:[]}),[Ae,Ce]=Z.useState(""),[ee,ce]=Z.useState("#3b82f6"),[le,Ne]=Z.useState(null),[te,H]=Z.useState({email:"",password:"",name:"",roleId:"",color:"#3B82F6",existingDoctorId:""}),[N,k]=Z.useState("new"),[P,G]=Z.useState(!1),[z,ie]=Z.useState(""),[he,ue]=Z.useState(""),[Be,Qe]=Z.useState(!1),[Pe,ot]=Z.useState(null),[ut,Te]=Z.useState(null);Z.useEffect(()=>{se()},[]);const se=async()=>{x(!0);try{const{data:be,error:Me}=await mt.from("profiles").select("*, app_roles(name), doctors(id, name, color)").order("email");Me&&console.error("Error fetching users:",Me);const{data:dt,error:xt}=await mt.from("app_roles").select("*");xt&&console.error("Error fetching roles:",xt);const{data:_t,error:FA}=await mt.from("doctors").select("id, name, color, specialty").order("name");FA&&console.error("Error fetching doctors:",FA);const{data:Xt,error:qA}=await mt.from("specialties").select("*").order("name");qA&&console.error("Error fetching specialties:",qA);const uA=(_t||[]).map(LA=>{const wA=(be||[]).find(wt=>wt.doctor_id===LA.id);return{...LA,specialty:LA.specialty||[],linkedUser:wA?{id:wA.id,email:wA.email}:null}});a(be||[]),l(dt||[]),d(uA),g(Xt||[])}catch(be){console.error("Error fetching data:",be)}finally{x(!1)}},Qt=async()=>{S(!0),await se(),S(!1)},st=()=>f.filter(be=>!be.linkedUser),Je=be=>{const Me=i.find(dt=>dt.id===be);return Me?bI.some(dt=>Me.name.toLowerCase().includes(dt.toLowerCase())):!1},fe=()=>{const be=i.find(Me=>Me.id===te.roleId);return(be==null?void 0:be.name)||""},He=async be=>{var dt;if(be.preventDefault(),ie(""),ue(""),Qe(!0),!te.email||!te.password||!te.roleId){ie("Email, mot de passe et rle sont obligatoires"),Qe(!1);return}const Me=Je(te.roleId);if(!Me&&N==="new"&&!te.name.trim()){ie("Le nom du mdecin est obligatoire pour ce rle"),Qe(!1);return}try{let xt=null;!Me&&N==="new"&&te.name.trim()&&(xt={name:te.name.startsWith("Dr")||te.name.startsWith("Pr")?te.name:`Dr ${te.name}`,color:te.color});const _t=await mt.functions.invoke("admin-create-user",{body:{action:"create",email:te.email,password:te.password,roleId:te.roleId,doctorData:xt,existingDoctorId:N==="existing"?te.existingDoctorId:null}});if(_t.error)throw new Error(_t.error.message||"Erreur lors de la cration");if((dt=_t.data)!=null&&dt.error)throw new Error(_t.data.error);ue("Compte cr avec succs !"),St(),setTimeout(()=>{L(!1),ue(""),se()},1e3)}catch(xt){console.error("Create user error:",xt),ie(xt.message||"Erreur lors de la cration")}finally{Qe(!1)}},Ge=async be=>{var Me,dt;if(be.preventDefault(),!!re){ie(""),ue(""),Qe(!0);try{const xt=Je(te.roleId);let _t=null;!xt&&N==="new"&&te.name.trim()&&(_t={name:te.name.startsWith("Dr")||te.name.startsWith("Pr")?te.name:`Dr ${te.name}`,color:te.color});const FA=await mt.functions.invoke("admin-create-user",{body:{action:"update",userId:re.id,roleId:te.roleId,doctorData:_t,existingDoctorId:N==="existing"?te.existingDoctorId:null,newPassword:te.password||void 0}});if(FA.error)throw new Error(FA.error.message||"Erreur lors de la mise  jour");if((Me=FA.data)!=null&&Me.error)throw new Error(FA.data.error);(dt=FA.data)!=null&&dt.warning?ue(FA.data.warning):ue("Profil mis  jour avec succs !"),setTimeout(()=>{X(!1),J(null),ue(""),se()},1e3)}catch(xt){console.error("Update user error:",xt),ie(xt.message||"Erreur lors de la mise  jour")}finally{Qe(!1)}}},at=async be=>{var Me;if(Pe!==be.id){ot(be.id),setTimeout(()=>ot(null),3e3);return}ot(null);try{const dt=await mt.functions.invoke("admin-create-user",{body:{action:"delete",userId:be.id,doctorId:be.doctor_id}});if(dt.error)throw new Error(dt.error.message||"Erreur lors de la suppression");if((Me=dt.data)!=null&&Me.error)throw new Error(dt.data.error);be.doctor_id&&t(be.doctor_id),se()}catch(dt){console.error("Delete user error:",dt),alert(`Erreur lors de la suppression: ${dt.message}`)}},ct=async be=>{if(ut!==be.id){Te(be.id),setTimeout(()=>Te(null),3e3);return}Te(null);try{if(be.linkedUser){const{error:dt}=await mt.from("profiles").update({doctor_id:null}).eq("id",be.linkedUser.id);if(dt)throw new Error("Erreur lors de la dissociation: "+dt.message)}const{error:Me}=await mt.from("doctors").delete().eq("id",be.id);if(Me)throw new Error("Erreur lors de la suppression: "+Me.message);t(be.id),se()}catch(Me){console.error("Delete doctor error:",Me),alert(`Erreur: ${Me.message}`)}},It=be=>{var Me,dt;J(be),H({email:be.email,password:"",name:((Me=be.doctors)==null?void 0:Me.name)||"",roleId:be.role_id||"",color:((dt=be.doctors)==null?void 0:dt.color)||"#3B82F6",existingDoctorId:be.doctor_id||""}),k(be.doctor_id?"existing":"new"),ie(""),ue(""),X(!0)},St=()=>{H({email:"",password:"",name:"",roleId:"",color:"#3B82F6",existingDoctorId:""}),k("new"),ie(""),ue("")},Pt=be=>{D(be),Y({name:be.name,color:be.color||"#3B82F6",selectedSpecialties:be.specialty||[]}),ie(""),ue(""),ae(!0)},ht=async be=>{if(be.preventDefault(),!!me){ie(""),ue(""),Qe(!0);try{const{error:Me}=await mt.from("doctors").update({name:O.name,color:O.color,specialty:O.selectedSpecialties}).eq("id",me.id);if(Me)throw new Error(Me.message);ue("Profil mdecin mis  jour !"),setTimeout(()=>{ae(!1),D(null),ue(""),se()},1e3)}catch(Me){console.error("Update doctor error:",Me),ie(Me.message||"Erreur lors de la mise  jour")}finally{Qe(!1)}}},Ct=async()=>{if(Ae.trim()){Qe(!0),ie("");try{const{error:be}=await mt.from("specialties").insert({name:Ae.trim(),color:ee});if(be)throw new Error(be.message);Ce(""),ce("#3b82f6"),ue("Spcialit cre !"),se(),setTimeout(()=>ue(""),2e3)}catch(be){console.error("Create specialty error:",be),ie(be.message||"Erreur lors de la cration")}finally{Qe(!1)}}},zt=async be=>{if(le!==be.id){Ne(be.id),setTimeout(()=>Ne(null),3e3);return}Ne(null);try{const{error:Me}=await mt.from("specialties").delete().eq("id",be.id);if(Me)throw new Error(Me.message);ue("Spcialit supprime"),se(),setTimeout(()=>ue(""),2e3)}catch(Me){console.error("Delete specialty error:",Me),ie(Me.message||"Erreur lors de la suppression")}},ze=be=>{Y(Me=>{const dt=Me.selectedSpecialties;return dt.includes(be)?{...Me,selectedSpecialties:dt.filter(xt=>xt!==be)}:{...Me,selectedSpecialties:[...dt,be]}})};return A("manage_users")?b?c.jsx("div",{className:"p-6 flex justify-center items-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2 text-slate-800",children:[c.jsx(sf,{className:"w-7 h-7 text-blue-600"})," Gestion d'quipe"]}),c.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[n.length," utilisateur",n.length>1?"s":"","  ",f.length," profil",f.length>1?"s":""," mdecin"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:Qt,disabled:w,className:"bg-slate-100 text-slate-700 px-3 py-2 rounded-lg flex items-center gap-2 hover:bg-slate-200 transition-colors",children:c.jsx(P0,{className:`w-4 h-4 ${w?"animate-spin":""}`})}),c.jsxs("button",{onClick:()=>{St(),L(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 shadow-md transition-colors",children:[c.jsx(K2,{className:"w-4 h-4"})," Nouvel Utilisateur"]})]})]}),c.jsxs("div",{className:"flex gap-2 mb-6",children:[c.jsxs("button",{onClick:()=>_("users"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors ${E==="users"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx(sf,{className:"w-4 h-4"})," Utilisateurs"]}),c.jsxs("button",{onClick:()=>_("doctors"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors ${E==="doctors"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx(H2,{className:"w-4 h-4"})," Profils Mdecins"]}),c.jsxs("button",{onClick:()=>_("specialties"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors ${E==="specialties"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx(Cm,{className:"w-4 h-4"})," Spcialits"]})]}),E==="users"&&c.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{className:"bg-slate-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 text-left text-sm font-semibold text-slate-600",children:"Email"}),c.jsx("th",{className:"p-4 text-left text-sm font-semibold text-slate-600",children:"Profil Mdecin"}),c.jsx("th",{className:"p-4 text-left text-sm font-semibold text-slate-600",children:"Rle"}),c.jsx("th",{className:"p-4 text-right text-sm font-semibold text-slate-600",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y",children:n.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:"Aucun utilisateur trouv."})}):n.map(be=>{var Me,dt,xt,_t;return c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(e0,{className:"w-4 h-4 text-slate-400"}),c.jsx("span",{className:"font-medium text-slate-800",children:be.email})]})}),c.jsx("td",{className:"p-4",children:be.doctors?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shadow",style:{backgroundColor:be.doctors.color||"#3B82F6"},children:be.doctors.name.substring(0,2)}),c.jsx("span",{className:"font-medium text-slate-700",children:be.doctors.name})]}):c.jsxs("span",{className:"text-slate-400 italic flex items-center gap-1",children:[c.jsx(M2,{className:"w-3 h-3"})," Non li"]})}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${((Me=be.app_roles)==null?void 0:Me.name)==="Admin"?"bg-purple-100 text-purple-700 border border-purple-200":((dt=be.app_roles)==null?void 0:dt.name)==="Docteur"||((xt=be.app_roles)==null?void 0:xt.name)==="Mdecin"?"bg-blue-100 text-blue-700 border border-blue-200":"bg-slate-100 text-slate-700 border border-slate-200"}`,children:((_t=be.app_roles)==null?void 0:_t.name)||"Sans rle"})}),c.jsx("td",{className:"p-4 text-right",children:c.jsxs("div",{className:"flex justify-end gap-1",children:[c.jsx("button",{className:"text-slate-400 hover:text-blue-600 p-2 rounded hover:bg-blue-50 transition-colors",onClick:()=>It(be),title:"Modifier",children:c.jsx(Ng,{className:"w-4 h-4"})}),c.jsx("button",{className:`p-2 rounded transition-colors ${Pe===be.id?"bg-red-600 text-white":"text-slate-400 hover:text-red-600 hover:bg-red-50"}`,onClick:()=>at(be),title:Pe===be.id?"Confirmer":"Supprimer",children:Pe===be.id?c.jsx(Bn,{className:"w-4 h-4"}):c.jsx(bi,{className:"w-4 h-4"})})]})})]},be.id)})})]})}),E==="doctors"&&c.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{className:"bg-slate-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 text-left text-sm font-semibold text-slate-600",children:"Profil Mdecin"}),c.jsx("th",{className:"p-4 text-left text-sm font-semibold text-slate-600",children:"Utilisateur Li"}),c.jsx("th",{className:"p-4 text-left text-sm font-semibold text-slate-600",children:"Statut"}),c.jsx("th",{className:"p-4 text-right text-sm font-semibold text-slate-600",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y",children:f.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:"Aucun profil mdecin trouv."})}):f.map(be=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold shadow",style:{backgroundColor:be.color||"#3B82F6"},children:be.name.substring(0,2)}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-800",children:be.name}),c.jsx("div",{className:"text-xs text-slate-400",children:be.specialty&&be.specialty.length>0?be.specialty.join(", "):c.jsx("span",{className:"italic",children:"Pas de spcialit"})})]})]})}),c.jsx("td",{className:"p-4",children:be.linkedUser?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_g,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"text-slate-700",children:be.linkedUser.email})]}):c.jsxs("span",{className:"text-slate-400 italic flex items-center gap-1",children:[c.jsx(M2,{className:"w-4 h-4"})," Aucun utilisateur"]})}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${be.linkedUser?"bg-green-100 text-green-700 border border-green-200":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:be.linkedUser?"Li":"Orphelin"})}),c.jsx("td",{className:"p-4 text-right",children:c.jsxs("div",{className:"flex justify-end gap-1",children:[c.jsx("button",{className:"text-slate-400 hover:text-blue-600 p-2 rounded hover:bg-blue-50 transition-colors",onClick:()=>Pt(be),title:"Modifier le profil",children:c.jsx(Ng,{className:"w-4 h-4"})}),c.jsx("button",{className:`p-2 rounded transition-colors ${ut===be.id?"bg-red-600 text-white":"text-slate-400 hover:text-red-600 hover:bg-red-50"}`,onClick:()=>ct(be),title:ut===be.id?"Confirmer la suppression":"Supprimer le profil",children:ut===be.id?c.jsx(Bn,{className:"w-4 h-4"}):c.jsx(bi,{className:"w-4 h-4"})})]})})]},be.id))})]})}),E==="specialties"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[c.jsxs("h3",{className:"font-bold text-lg text-slate-800 mb-4 flex items-center gap-2",children:[c.jsx(p0,{className:"w-5 h-5 text-blue-600"})," Crer une Spcialit"]}),c.jsxs("div",{className:"flex gap-4 items-end",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nom"}),c.jsx("input",{type:"text",value:Ae,onChange:be=>Ce(be.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Ex: Radiologie, Scanner, IRM..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Couleur"}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{type:"color",value:ee,onChange:be=>ce(be.target.value),className:"w-10 h-10 rounded cursor-pointer border"})})]}),c.jsxs("button",{onClick:Ct,disabled:Be||!Ae.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[Be?c.jsx(ol,{className:"w-4 h-4 animate-spin"}):c.jsx(p0,{className:"w-4 h-4"}),"Crer"]})]}),z&&c.jsx("p",{className:"text-red-600 text-sm mt-2",children:z}),he&&c.jsx("p",{className:"text-green-600 text-sm mt-2",children:he})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200",children:[c.jsx("div",{className:"p-4 bg-slate-50 border-b",children:c.jsxs("h3",{className:"font-bold text-slate-700",children:["Spcialits disponibles (",h.length,")"]})}),c.jsx("div",{className:"divide-y",children:h.length===0?c.jsx("div",{className:"p-8 text-center text-slate-400",children:"Aucune spcialit dfinie. Crez-en une ci-dessus."}):h.map(be=>{const Me=f.filter(dt=>dt.specialty.includes(be.name));return c.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:be.color}}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-800",children:be.name}),c.jsxs("div",{className:"text-xs text-slate-400",children:[Me.length," mdecin",Me.length!==1?"s":""]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[Me.length>0&&c.jsxs("div",{className:"flex -space-x-2",children:[Me.slice(0,3).map(dt=>c.jsx("div",{className:"w-7 h-7 rounded-full border-2 border-white flex items-center justify-center text-[9px] font-bold text-white",style:{backgroundColor:dt.color},title:dt.name,children:dt.name.substring(0,2)},dt.id)),Me.length>3&&c.jsxs("div",{className:"w-7 h-7 rounded-full border-2 border-white bg-slate-300 flex items-center justify-center text-[9px] font-bold text-slate-600",children:["+",Me.length-3]})]}),c.jsx("button",{className:`p-2 rounded transition-colors ${le===be.id?"bg-red-600 text-white":"text-slate-400 hover:text-red-600 hover:bg-red-50"}`,onClick:()=>zt(be),title:le===be.id?"Confirmer la suppression":"Supprimer",children:le===be.id?c.jsx(Bn,{className:"w-4 h-4"}):c.jsx(bi,{className:"w-4 h-4"})})]})]},be.id)})})]})]}),Q&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-200 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(K2,{className:"w-5 h-5 text-blue-600"})," Nouvel Utilisateur"]}),c.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-slate-600",children:c.jsx(Ys,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:He,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[c.jsx(e0,{className:"w-4 h-4 inline mr-1"})," Email *"]}),c.jsx("input",{type:"email",value:te.email,onChange:be=>H({...te,email:be.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"utilisateur@exemple.com",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[c.jsx(D2,{className:"w-4 h-4 inline mr-1"})," Mot de passe *"]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:P?"text":"password",value:te.password,onChange:be=>H({...te,password:be.target.value}),className:"w-full border rounded-lg px-3 py-2 pr-10 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Min. 6 caractres",required:!0,minLength:6}),c.jsx("button",{type:"button",onClick:()=>G(!P),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:P?c.jsx(I2,{className:"w-4 h-4"}):c.jsx(xm,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[c.jsx(Ru,{className:"w-4 h-4 inline mr-1"})," Rle *"]}),c.jsxs("select",{value:te.roleId,onChange:be=>H({...te,roleId:be.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",required:!0,children:[c.jsx("option",{value:"",children:"-- Slectionner --"}),i.map(be=>c.jsx("option",{value:be.id,children:be.name},be.id))]})]}),te.roleId&&!Je(te.roleId)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"button",onClick:()=>k("new"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${N==="new"?"bg-blue-100 text-blue-700 border-2 border-blue-400":"bg-slate-100 text-slate-600 border-2 border-transparent"}`,children:"Crer un nouveau profil"}),c.jsx("button",{type:"button",onClick:()=>k("existing"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${N==="existing"?"bg-blue-100 text-blue-700 border-2 border-blue-400":"bg-slate-100 text-slate-600 border-2 border-transparent"}`,children:"Lier  un profil existant"})]}),N==="new"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[c.jsx(Ha,{className:"w-4 h-4 inline mr-1"})," Nom du Mdecin *"]}),c.jsx("input",{type:"text",value:te.name,onChange:be=>H({...te,name:be.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Dr Dupont",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Couleur"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"color",value:te.color,onChange:be=>H({...te,color:be.target.value}),className:"w-10 h-10 rounded cursor-pointer border"}),c.jsx("span",{className:"text-slate-500 text-sm",children:te.color})]})]})]}),N==="existing"&&c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[c.jsx(_g,{className:"w-4 h-4 inline mr-1"})," Profil Mdecin Existant"]}),c.jsxs("select",{value:te.existingDoctorId,onChange:be=>H({...te,existingDoctorId:be.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",required:N==="existing",children:[c.jsx("option",{value:"",children:"-- Slectionner --"}),st().map(be=>c.jsx("option",{value:be.id,children:be.name},be.id))]}),st().length===0&&c.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Aucun profil mdecin disponible. Tous sont dj lis."})]})]}),te.roleId&&Je(te.roleId)&&c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm text-slate-600",children:[' Le rle "',fe(),`" n'a pas besoin de profil mdecin.`]}),z&&c.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm flex items-center gap-2",children:[c.jsx(Bn,{className:"w-4 h-4"})," ",z]}),he&&c.jsxs("div",{className:"bg-green-50 text-green-700 p-3 rounded-lg text-sm",children:[" ",he]}),c.jsx("button",{type:"submit",disabled:Be,className:"w-full bg-blue-600 text-white py-2.5 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2 transition-colors",children:Be?c.jsxs(c.Fragment,{children:[c.jsx(ol,{className:"w-4 h-4 animate-spin"})," Cration..."]}):c.jsxs(c.Fragment,{children:[c.jsx(cc,{className:"w-4 h-4"})," Crer le Compte"]})})]})]})}),W&&re&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-200 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(Ng,{className:"w-5 h-5 text-blue-600"})," Modifier l'Utilisateur"]}),c.jsx("button",{onClick:()=>{X(!1),J(null)},className:"text-slate-400 hover:text-slate-600",children:c.jsx(Ys,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:Ge,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[c.jsx(e0,{className:"w-4 h-4 inline mr-1"})," Email"]}),c.jsx("input",{type:"email",value:te.email,disabled:!0,className:"w-full border rounded-lg px-3 py-2 bg-slate-50 text-slate-500"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[c.jsx(D2,{className:"w-4 h-4 inline mr-1"})," Nouveau Mot de Passe",c.jsx("span",{className:"text-slate-400 font-normal ml-1",children:"(optionnel)"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:P?"text":"password",value:te.password,onChange:be=>H({...te,password:be.target.value}),className:"w-full border rounded-lg px-3 py-2 pr-10 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Laisser vide pour ne pas changer",minLength:6}),c.jsx("button",{type:"button",onClick:()=>G(!P),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:P?c.jsx(I2,{className:"w-4 h-4"}):c.jsx(xm,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[c.jsx(Ru,{className:"w-4 h-4 inline mr-1"})," Rle *"]}),c.jsxs("select",{value:te.roleId,onChange:be=>H({...te,roleId:be.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",required:!0,children:[c.jsx("option",{value:"",children:"-- Slectionner --"}),i.map(be=>c.jsx("option",{value:be.id,children:be.name},be.id))]})]}),te.roleId&&!Je(te.roleId)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>k("existing"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${N==="existing"?"bg-blue-100 text-blue-700 border-2 border-blue-400":"bg-slate-100 text-slate-600 border-2 border-transparent"}`,children:[c.jsx(_g,{className:"w-4 h-4 inline mr-1"})," Lier  un profil"]}),c.jsx("button",{type:"button",onClick:()=>k("new"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${N==="new"?"bg-blue-100 text-blue-700 border-2 border-blue-400":"bg-slate-100 text-slate-600 border-2 border-transparent"}`,children:"Crer nouveau"})]}),N==="existing"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Profil Mdecin"}),c.jsxs("select",{value:te.existingDoctorId,onChange:be=>H({...te,existingDoctorId:be.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",children:[c.jsx("option",{value:"",children:"-- Aucun --"}),re.doctors&&c.jsxs("option",{value:re.doctor_id,children:[re.doctors.name," (actuel)"]}),st().map(be=>c.jsx("option",{value:be.id,children:be.name},be.id))]})]}),N==="new"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[c.jsx(Ha,{className:"w-4 h-4 inline mr-1"})," Nom du Mdecin"]}),c.jsx("input",{type:"text",value:te.name,onChange:be=>H({...te,name:be.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Dr Dupont"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Couleur"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"color",value:te.color,onChange:be=>H({...te,color:be.target.value}),className:"w-10 h-10 rounded cursor-pointer border"}),c.jsx("span",{className:"text-slate-500 text-sm",children:te.color})]})]})]})]}),te.roleId&&Je(te.roleId)&&c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm text-slate-600",children:[' Le rle "',fe(),`" n'a pas besoin de profil mdecin.`]}),z&&c.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm flex items-center gap-2",children:[c.jsx(Bn,{className:"w-4 h-4"})," ",z]}),he&&c.jsxs("div",{className:"bg-green-50 text-green-700 p-3 rounded-lg text-sm",children:[" ",he]}),c.jsx("button",{type:"submit",disabled:Be,className:"w-full bg-blue-600 text-white py-2.5 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2 transition-colors",children:Be?c.jsxs(c.Fragment,{children:[c.jsx(ol,{className:"w-4 h-4 animate-spin"})," Mise  jour..."]}):c.jsxs(c.Fragment,{children:[c.jsx(cc,{className:"w-4 h-4"})," Enregistrer"]})})]})]})}),V&&me&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-200 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(H2,{className:"w-5 h-5 text-blue-600"})," Modifier le Profil Mdecin"]}),c.jsx("button",{onClick:()=>{ae(!1),D(null)},className:"text-slate-400 hover:text-slate-600",children:c.jsx(Ys,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:ht,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[c.jsx(Ha,{className:"w-4 h-4 inline mr-1"})," Nom"]}),c.jsx("input",{type:"text",value:O.name,onChange:be=>Y({...O,name:be.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Dr Dupont",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Couleur"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"color",value:O.color,onChange:be=>Y({...O,color:be.target.value}),className:"w-10 h-10 rounded cursor-pointer border"}),c.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:O.color},children:O.name.substring(0,2)}),c.jsx("span",{className:"text-slate-500 text-sm",children:O.color})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[c.jsx(Cm,{className:"w-4 h-4 inline mr-1"})," Spcialits"]}),h.length===0?c.jsx("p",{className:"text-sm text-slate-400 italic",children:`Aucune spcialit dfinie. Crez-en dans l'onglet "Spcialits".`}):c.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(be=>{const Me=O.selectedSpecialties.includes(be.name);return c.jsxs("button",{type:"button",onClick:()=>ze(be.name),className:`px-3 py-1.5 rounded-full text-sm font-medium border transition-all ${Me?"text-white border-transparent shadow-sm":"bg-white text-slate-600 border-slate-200 hover:border-slate-400"}`,style:Me?{backgroundColor:be.color}:{},children:[Me&&" ",be.name]},be.id)})}),O.selectedSpecialties.length>0&&c.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Slectionnes: ",O.selectedSpecialties.join(", ")]})]}),z&&c.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm flex items-center gap-2",children:[c.jsx(Bn,{className:"w-4 h-4"})," ",z]}),he&&c.jsxs("div",{className:"bg-green-50 text-green-700 p-3 rounded-lg text-sm",children:[" ",he]}),c.jsx("button",{type:"submit",disabled:Be,className:"w-full bg-blue-600 text-white py-2.5 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2 transition-colors",children:Be?c.jsxs(c.Fragment,{children:[c.jsx(ol,{className:"w-4 h-4 animate-spin"})," Mise  jour..."]}):c.jsxs(c.Fragment,{children:[c.jsx(cc,{className:"w-4 h-4"})," Enregistrer"]})})]})]})})]}):c.jsxs("div",{className:"p-6 text-center",children:[c.jsx("div",{className:"text-red-500 text-lg",children:" Accs refus"}),c.jsx("p",{className:"text-slate-500 mt-2",children:"Vous n'avez pas la permission de grer les utilisateurs."})]})},Yh={async getAll(){const{data:A,error:e}=await mt.from("doctors").select("*").order("name");if(e)throw e;return A.map(t=>({id:t.id,name:t.name,specialty:t.specialty,color:t.color,excludedDays:t.excluded_days,excludedActivities:t.excluded_activities,excludedSlotTypes:t.excluded_slot_types}))},async create(A){const{data:e,error:t}=await mt.from("doctors").insert({name:A.name,specialty:A.specialty,color:A.color,excluded_days:A.excludedDays,excluded_activities:A.excludedActivities,excluded_slot_types:A.excludedSlotTypes}).select().single();if(t)throw t;return{id:e.id,name:e.name,specialty:e.specialty,color:e.color,excludedDays:e.excluded_days,excludedActivities:e.excluded_activities,excludedSlotTypes:e.excluded_slot_types}},async update(A){const{data:e,error:t}=await mt.from("doctors").update({name:A.name,specialty:A.specialty,color:A.color,excluded_days:A.excludedDays,excluded_activities:A.excludedActivities,excluded_slot_types:A.excludedSlotTypes}).eq("id",A.id).select().single();if(t)throw t;return{id:e.id,name:e.name,specialty:e.specialty,color:e.color,excludedDays:e.excluded_days,excludedActivities:e.excluded_activities,excludedSlotTypes:e.excluded_slot_types}},async delete(A){const{error:e}=await mt.from("doctors").delete().eq("id",A);if(e)throw e}},Wh={async getAll(){const{data:A,error:e}=await mt.from("activities").select("*").order("name");if(e)throw e;return A.map(t=>({id:t.id,name:t.name,granularity:t.granularity,allowDoubleBooking:t.allow_double_booking,color:t.color,isSystem:t.is_system,equityGroup:t.equity_group}))},async create(A){const{data:e,error:t}=await mt.from("activities").insert({name:A.name,granularity:A.granularity,allow_double_booking:A.allowDoubleBooking,color:A.color,is_system:A.isSystem||!1,equity_group:A.equityGroup}).select().single();if(t)throw t;return{id:e.id,name:e.name,granularity:e.granularity,allowDoubleBooking:e.allow_double_booking,color:e.color,isSystem:e.is_system,equityGroup:e.equity_group}},async update(A){const{data:e,error:t}=await mt.from("activities").update({name:A.name,granularity:A.granularity,allow_double_booking:A.allowDoubleBooking,color:A.color,is_system:A.isSystem,equity_group:A.equityGroup}).eq("id",A.id).select().single();if(t)throw t;return{id:e.id,name:e.name,granularity:e.granularity,allowDoubleBooking:e.allow_double_booking,color:e.color,isSystem:e.is_system,equityGroup:e.equity_group}},async delete(A){const{error:e}=await mt.from("activities").delete().eq("id",A);if(e)throw e}},pm={async getAll(){const{data:A,error:e}=await mt.from("unavailabilities").select("*");if(e)throw e;return A.map(t=>({id:t.id,doctorId:t.doctor_id,startDate:t.start_date,endDate:t.end_date,period:t.period,reason:t.reason}))},async create(A){const{data:e,error:t}=await mt.from("unavailabilities").insert({doctor_id:A.doctorId,start_date:A.startDate,end_date:A.endDate,period:A.period,reason:A.reason}).select().single();if(t)throw t;return{id:e.id,doctorId:e.doctor_id,startDate:e.start_date,endDate:e.end_date,period:e.period,reason:e.reason}},async delete(A){const{error:e}=await mt.from("unavailabilities").delete().eq("id",A);if(e)throw e}},Jh={async getAll(){const{data:A,error:e}=await mt.from("rcp_definitions").select(`
        *,
        rcp_manual_instances (*)
      `).order("name");if(e)throw e;return A.map(t=>({id:t.id,name:t.name,frequency:t.frequency,weekParity:t.week_parity,monthlyWeekNumber:t.monthly_week_number,manualInstances:t.rcp_manual_instances.map(n=>({id:n.id,date:n.date,time:n.time,doctorIds:n.doctor_ids,backupDoctorId:n.backup_doctor_id}))}))},async create(A){const{data:e,error:t}=await mt.from("rcp_definitions").insert({name:A.name,frequency:A.frequency,week_parity:A.weekParity,monthly_week_number:A.monthlyWeekNumber}).select().single();if(t)throw t;return{id:e.id,name:e.name,frequency:e.frequency,weekParity:e.week_parity,monthlyWeekNumber:e.monthly_week_number,manualInstances:[]}},async update(A){var a;console.log(" Updating RCP:",A.id,"with",((a=A.manualInstances)==null?void 0:a.length)||0,"instances");const{data:e,error:t}=await mt.from("rcp_definitions").update({name:A.name,frequency:A.frequency,week_parity:A.weekParity,monthly_week_number:A.monthlyWeekNumber}).eq("id",A.id).select().single();if(t)throw console.error(" RCP update error:",t),t;console.log(" Deleting existing instances for RCP:",A.id);const{error:n}=await mt.from("rcp_manual_instances").delete().eq("rcp_definition_id",A.id);if(n&&console.error(" Delete instances error:",n),A.manualInstances&&A.manualInstances.length>0){const i=A.manualInstances.map(f=>({rcp_definition_id:A.id,date:f.date,time:f.time,doctor_ids:f.doctorIds||[],backup_doctor_id:f.backupDoctorId||null}));console.log(" Inserting",i.length,"instances");const{error:l}=await mt.from("rcp_manual_instances").insert(i);l?console.error(" Insert instances error:",l):console.log(" Saved",i.length,"manual instances")}else console.log(" No instances to save");return{id:e.id,name:e.name,frequency:e.frequency,weekParity:e.week_parity,monthlyWeekNumber:e.monthly_week_number,manualInstances:A.manualInstances||[]}},async delete(A){const{error:e}=await mt.from("rcp_definitions").delete().eq("id",A);if(e)throw e}},tl={async getTemplate(){const{data:A,error:e}=await mt.from("schedule_templates").select("*");if(e)throw e;return A.map(t=>({id:t.id,day:t.day,period:t.period,time:t.time,location:t.location,type:t.type,defaultDoctorId:t.default_doctor_id,secondaryDoctorIds:t.secondary_doctor_ids,doctorIds:t.doctor_ids,backupDoctorId:t.backup_doctor_id,subType:t.sub_type,isRequired:t.is_required,isBlocking:t.is_blocking,frequency:t.frequency}))},async saveTemplate(A){console.log(" Saving template to DB:",A.length,"items");const{data:e,error:t}=await mt.from("schedule_templates").select("id");if(t)throw console.error(" Fetch Error:",t),t;const n=new Set((e||[]).map(b=>b.id)),a=A.filter(b=>b.id.includes("tmp_")||b.id.includes("temp_")),i=A.filter(b=>!b.id.includes("tmp_")&&!b.id.includes("temp_")),l=new Set(i.map(b=>b.id)),f=[...n].filter(b=>!l.has(b)),d=b=>({id:b.id.includes("tmp_")||b.id.includes("temp_")?void 0:b.id,day:b.day,period:b.period,time:b.time||null,location:b.location,type:b.type,default_doctor_id:b.defaultDoctorId||null,secondary_doctor_ids:b.secondaryDoctorIds||[],doctor_ids:b.doctorIds||[],backup_doctor_id:b.backupDoctorId||null,sub_type:b.subType||null,is_required:b.isRequired??!0,is_blocking:b.isBlocking??!0,frequency:b.frequency||"WEEKLY"});if(f.length>0){console.log(" Deleting",f.length,"removed items:",f);const{error:b}=await mt.from("schedule_templates").delete().in("id",f);b?console.error(" Delete Error:",b):console.log(" Deleted",f.length,"items")}if(i.length>0){console.log(" Updating",i.length,"existing items");for(const b of i){const x=d(b),{error:w}=await mt.from("schedule_templates").update({day:x.day,period:x.period,time:x.time,location:x.location,type:x.type,default_doctor_id:x.default_doctor_id,secondary_doctor_ids:x.secondary_doctor_ids,doctor_ids:x.doctor_ids,backup_doctor_id:x.backup_doctor_id,sub_type:x.sub_type,is_required:x.is_required,is_blocking:x.is_blocking,frequency:x.frequency}).eq("id",b.id);w&&console.error(" Update Error for",b.id,":",w)}console.log(" Updated",i.length,"items")}let h=[],g=!1;if(a.length>0){console.log(" Upserting",a.length,"new items:",a.map(S=>({id:S.id,location:S.location,day:S.day,period:S.period,type:S.type,doctorIds:S.doctorIds})));const b=a.map(S=>({day:S.day,period:S.period,time:S.time||null,location:S.location,type:S.type,default_doctor_id:S.defaultDoctorId||null,secondary_doctor_ids:S.secondaryDoctorIds||[],doctor_ids:S.doctorIds||[],backup_doctor_id:S.backupDoctorId||null,sub_type:S.subType||null,is_required:S.isRequired??!0,is_blocking:S.isBlocking??!0,frequency:S.frequency||"WEEKLY"}));console.log(" Formatted for DB:",b);const{data:x,error:w}=await mt.from("schedule_templates").upsert(b,{onConflict:"day,period,location,type",ignoreDuplicates:!1}).select();w?(console.error(" Upsert Error:",w),console.error(" Upsert Error Details:",JSON.stringify(w,null,2)),g=!0):(console.log(" Upserted",a.length,"items, received:",(x==null?void 0:x.length)||0),h=(x||[]).map(S=>({id:S.id,day:S.day,period:S.period,time:S.time,location:S.location,type:S.type,defaultDoctorId:S.default_doctor_id,secondaryDoctorIds:S.secondary_doctor_ids,doctorIds:S.doctor_ids,backupDoctorId:S.backup_doctor_id,subType:S.sub_type,isRequired:S.is_required,isBlocking:S.is_blocking,frequency:S.frequency})))}return console.log(" Template save complete"),console.log(" Summary: existing:",i.length,"inserted:",h.length,"failed:",g),g?(console.warn(" Returning original template due to insert failure"),A):[...i,...h]},async deleteTemplateSlot(A){const{error:e}=await mt.from("schedule_templates").delete().eq("id",A);if(e)throw e},async getSlots(A,e){const{data:t,error:n}=await mt.from("schedule_slots").select("*").gte("date",A).lte("date",e);if(n)throw n;return t.map(a=>({id:a.id,date:a.date,day:a.day,period:a.period,time:a.time,location:a.location,type:a.type,assignedDoctorId:a.assigned_doctor_id,secondaryDoctorIds:a.secondary_doctor_ids,backupDoctorId:a.backup_doctor_id,subType:a.sub_type,isGenerated:a.is_generated,activityId:a.activity_id,isLocked:a.is_locked,isBlocking:a.is_blocking,isClosed:a.is_closed,isUnconfirmed:a.is_unconfirmed}))},async saveSlots(A){const e=A.map(n=>({id:n.id.includes("gen_")?void 0:n.id,date:n.date,day:n.day,period:n.period,time:n.time,location:n.location,type:n.type,assigned_doctor_id:n.assignedDoctorId,secondary_doctor_ids:n.secondaryDoctorIds,backup_doctor_id:n.backupDoctorId,sub_type:n.subType,is_generated:n.isGenerated,activity_id:n.activityId,is_locked:n.isLocked,is_blocking:n.isBlocking,is_closed:n.isClosed,is_unconfirmed:n.isUnconfirmed})),{error:t}=await mt.from("schedule_slots").upsert(e);if(t)throw t},async getRcpAttendance(){const{data:A,error:e}=await mt.from("rcp_attendance").select("*");if(e)throw e;const t={};return A.forEach(n=>{t[n.slot_id]||(t[n.slot_id]={}),t[n.slot_id][n.doctor_id]=n.status}),t},async updateRcpAttendance(A,e,t){const{error:n}=await mt.from("rcp_attendance").upsert({slot_id:A,doctor_id:e,status:t},{onConflict:"slot_id, doctor_id"});if(n)throw n},async getRcpExceptions(){const{data:A,error:e}=await mt.from("rcp_exceptions").select("*");if(e)throw e;return A.map(t=>({id:t.id,rcpTemplateId:t.rcp_template_id,originalDate:t.original_date,newDate:t.new_date,newPeriod:t.new_period,isCancelled:t.is_cancelled,newTime:t.new_time,customDoctorIds:t.custom_doctor_ids}))},async addRcpException(A){const e={rcp_template_id:A.rcpTemplateId,original_date:A.originalDate,new_date:A.newDate||null,new_period:A.newPeriod||null,is_cancelled:A.isCancelled||!1,new_time:A.newTime||null,custom_doctor_ids:A.customDoctorIds||[]};await mt.from("rcp_exceptions").delete().eq("rcp_template_id",A.rcpTemplateId).eq("original_date",A.originalDate);const{error:t}=await mt.from("rcp_exceptions").insert(e);if(t)throw console.error("Error saving RCP exception:",t),t},async deleteRcpException(A,e){const{error:t}=await mt.from("rcp_exceptions").delete().match({rcp_template_id:A,original_date:e});if(t)throw t}},xI={async exportData(){var g,b,x;const[{data:A},{data:e},{data:t},{data:n},{data:a},{data:i},{data:l},{data:f},{data:d},{data:h}]=await Promise.all([mt.from("doctors").select("*"),mt.from("activities").select("*"),mt.from("rcp_definitions").select("*, rcp_manual_instances(*)"),mt.from("schedule_templates").select("*"),mt.from("unavailabilities").select("*"),mt.from("schedule_slots").select("*"),mt.from("rcp_attendance").select("*"),mt.from("rcp_exceptions").select("*"),mt.from("app_settings").select("*"),mt.from("specialties").select("*")]);return{metadata:{version:"2.0",appName:"RadioPlan AI",exportDate:new Date().toISOString()},data:{doctors:(A||[]).map(w=>({id:w.id,name:w.name,specialty:w.specialty,color:w.color,excludedDays:w.excluded_days,excludedActivities:w.excluded_activities,excludedSlotTypes:w.excluded_slot_types})),activityDefinitions:(e||[]).map(w=>({id:w.id,name:w.name,granularity:w.granularity,allowDoubleBooking:w.allow_double_booking,color:w.color,isSystem:w.is_system,equityGroup:w.equity_group})),rcpTypes:(t||[]).map(w=>({id:w.id,name:w.name,frequency:w.frequency,weekParity:w.week_parity,monthlyWeekNumber:w.monthly_week_number,manualInstances:w.rcp_manual_instances.map(S=>({id:S.id,date:S.date,time:S.time,doctorIds:S.doctor_ids,backupDoctorId:S.backup_doctor_id}))})),template:(n||[]).map(w=>({id:w.id,day:w.day,period:w.period,time:w.time,location:w.location,type:w.type,defaultDoctorId:w.default_doctor_id,secondaryDoctorIds:w.secondary_doctor_ids,doctorIds:w.doctor_ids,backupDoctorId:w.backup_doctor_id,subType:w.sub_type,isRequired:w.is_required,isBlocking:w.is_blocking,frequency:w.frequency})),unavailabilities:(a||[]).map(w=>({id:w.id,doctorId:w.doctor_id,startDate:w.start_date,endDate:w.end_date,period:w.period,reason:w.reason})),rcpAttendance:(l||[]).reduce((w,S)=>(w[S.slot_id]||(w[S.slot_id]={}),w[S.slot_id][S.doctor_id]=S.status,w),{}),rcpExceptions:(f||[]).map(w=>({id:w.id,rcpTemplateId:w.rcp_template_id,originalDate:w.original_date,newDate:w.new_date,newPeriod:w.new_period,isCancelled:w.is_cancelled,newTime:w.new_time,customDoctorIds:w.custom_doctor_ids})),postes:((g=d==null?void 0:d[0])==null?void 0:g.postes)||[],shiftHistory:{},manualOverrides:((b=d==null?void 0:d[0])==null?void 0:b.manual_overrides)||{},activitiesStartDate:((x=d==null?void 0:d[0])==null?void 0:x.activities_start_date)||null,specialties:(h||[]).map(w=>({id:w.id,name:w.name,color:w.color}))}}},async importData(A){const e=A.data||A;if(e.doctors&&e.doctors.length>0){const n=e.doctors.map(a=>({id:a.id,name:a.name,specialty:a.specialty,color:a.color,excluded_days:a.excludedDays,excluded_activities:a.excludedActivities,excluded_slot_types:a.excludedSlotTypes}));await mt.from("doctors").upsert(n)}if(e.activityDefinitions){const n=e.activityDefinitions.map(a=>({id:a.id,name:a.name,granularity:a.granularity,allow_double_booking:a.allowDoubleBooking,color:a.color,is_system:a.isSystem}));await mt.from("activities").upsert(n)}if(e.rcpTypes){const n=e.rcpTypes.map(a=>({id:a.id,name:a.name,frequency:a.frequency,week_parity:a.weekParity,monthly_week_number:a.monthlyWeekNumber}));await mt.from("rcp_definitions").upsert(n);for(const a of e.rcpTypes)if(a.manualInstances&&a.manualInstances.length>0){const i=a.manualInstances.map(l=>({id:l.id,rcp_definition_id:a.id,date:l.date,time:l.time,doctor_ids:l.doctorIds,backup_doctor_id:l.backupDoctorId}));await mt.from("rcp_manual_instances").upsert(i)}}if(e.template){const n=e.template.map(a=>({id:a.id,day:a.day,period:a.period,time:a.time,location:a.location,type:a.type,default_doctor_id:a.defaultDoctorId,secondary_doctor_ids:a.secondaryDoctorIds,doctor_ids:a.doctorIds,backup_doctor_id:a.backupDoctorId,sub_type:a.subType,is_required:a.isRequired,is_blocking:a.isBlocking,frequency:a.frequency}));await mt.from("schedule_templates").upsert(n)}if(e.unavailabilities){const n=e.unavailabilities.map(a=>({id:a.id,doctor_id:a.doctorId,start_date:a.startDate,end_date:a.endDate,period:a.period,reason:a.reason}));await mt.from("unavailabilities").upsert(n)}if(e.rcpExceptions){const n=e.rcpExceptions.map(a=>({id:a.id,rcp_template_id:a.rcpTemplateId,original_date:a.originalDate,new_date:a.newDate,new_period:a.newPeriod,is_cancelled:a.isCancelled,new_time:a.newTime,custom_doctor_ids:a.customDoctorIds}));await mt.from("rcp_exceptions").upsert(n)}if(e.rcpAttendance){const n=[];Object.keys(e.rcpAttendance).forEach(a=>{Object.keys(e.rcpAttendance[a]).forEach(i=>{n.push({slot_id:a,doctor_id:i,status:e.rcpAttendance[a][i]})})}),n.length>0&&await mt.from("rcp_attendance").upsert(n,{onConflict:"slot_id, doctor_id"})}const t={id:1};if(e.postes&&e.postes.length>0&&(t.postes=e.postes),e.activitiesStartDate&&(t.activities_start_date=e.activitiesStartDate),e.manualOverrides&&Object.keys(e.manualOverrides).length>0&&(t.manual_overrides=e.manualOverrides),Object.keys(t).length>1&&await mt.from("app_settings").upsert(t),e.specialties&&e.specialties.length>0){const n=e.specialties.map(a=>({id:a.id,name:a.name,color:a.color}));await mt.from("specialties").upsert(n)}}},Jl={async get(){const{data:A,error:e}=await mt.from("app_settings").select("*").single();return e?(console.warn("Settings not found, using defaults:",e.message),{postes:["Box 1","Box 2","Box 3"],activitiesStartDate:null,validatedWeeks:[],manualOverrides:{}}):{postes:(A==null?void 0:A.postes)||["Box 1","Box 2","Box 3"],activitiesStartDate:(A==null?void 0:A.activities_start_date)||null,validatedWeeks:(A==null?void 0:A.validated_weeks)||[],manualOverrides:(A==null?void 0:A.manual_overrides)||{}}},async update(A){const e={};A.postes!==void 0&&(e.postes=A.postes),A.activitiesStartDate!==void 0&&(e.activities_start_date=A.activitiesStartDate),A.validatedWeeks!==void 0&&(e.validated_weeks=A.validatedWeeks),A.manualOverrides!==void 0&&(e.manual_overrides=A.manualOverrides);const{error:t}=await mt.from("app_settings").upsert({id:1,...e,updated_at:new Date().toISOString()});t&&console.error("Failed to update settings:",t)}},Al=({children:A})=>{const{session:e,loading:t}=Bi();return t?c.jsx("div",{className:"flex items-center justify-center h-screen",children:"Chargement..."}):e?c.jsx(c.Fragment,{children:A}):c.jsx(F1,{to:"/login",replace:!0})},Hy=({permission:A,children:e})=>{const{hasPermission:t,loading:n}=Bi();return n?c.jsx("div",{children:"Chargement..."}):t(A)?c.jsx(c.Fragment,{children:e}):c.jsx(F1,{to:"/",replace:!0})},Ni=rf.createContext({}),BI=()=>{const[A]=Z.useState(new Date),{session:e,profile:t}=Bi(),[n,a]=Z.useState(null),[i,l]=Z.useState(!1),[f,d]=Z.useState(!0),[h,g]=Z.useState([]),[b,x]=Z.useState([]),[w,S]=Z.useState(["Box 1","Box 2","Box 3"]),[E,U]=Z.useState([]),[_,Q]=Z.useState([]),[L,W]=Z.useState([]),[X,re]=Z.useState({}),[J,V]=Z.useState({}),[ae,me]=Z.useState([]),[D,O]=Z.useState(null),[Y,Ae]=Z.useState([]),[Ce,ee]=Z.useState({}),[ce,le]=Z.useState(()=>{const ke=sessionStorage.getItem("activities_weekOffset");return ke?parseInt(ke,10):0}),Ne=ke=>{sessionStorage.setItem("activities_weekOffset",String(ke)),le(ke)},[te,H]=Z.useState(()=>sessionStorage.getItem("activities_activeTab")||""),N=ke=>{sessionStorage.setItem("activities_activeTab",ke),H(ke)},[k,P]=Z.useState(()=>{const ke=sessionStorage.getItem("profile_rcpWeekOffset");return ke?parseInt(ke,10):0}),G=ke=>{sessionStorage.setItem("profile_rcpWeekOffset",String(ke)),P(ke)},[z,ie]=Z.useState(()=>sessionStorage.getItem("dashboard_viewMode")==="WEEK"?"WEEK":"DAY"),he=ke=>{sessionStorage.setItem("dashboard_viewMode",ke),ie(ke)},[ue,Be]=Z.useState(()=>{const ke=sessionStorage.getItem("dashboard_weekOffset");return ke?parseInt(ke,10):0}),Qe=ke=>{sessionStorage.setItem("dashboard_weekOffset",String(ke)),Be(ke)},[Pe,ot]=Z.useState(()=>sessionStorage.getItem("config_activeTab")||"CONSULTATION"),ut=ke=>{sessionStorage.setItem("config_activeTab",ke),ot(ke)},[Te,se]=Z.useState(()=>{const ke=sessionStorage.getItem("config_rcpWeekOffset");return ke?parseInt(ke,10):0}),Qt=ke=>{sessionStorage.setItem("config_rcpWeekOffset",String(ke)),se(ke)},[st,Je]=Z.useState([]),fe=Z.useRef(!1);Z.useEffect(()=>{if(!e){fe.current=!1;return}if(fe.current)return;(async()=>{d(!0);try{const[Se,$e,Ot,Vt,bA,iA,Tt,EA]=await Promise.all([Yh.getAll(),Wh.getAll(),Jh.getAll(),tl.getTemplate(),pm.getAll(),tl.getRcpAttendance(),tl.getRcpExceptions(),Jl.get()]);g(Se),Q($e),U(Ot),x(Vt),W(bA),V(iA),me(Tt),EA&&(S(EA.postes),O(EA.activitiesStartDate),Ae(EA.validatedWeeks||[]),re(EA.manualOverrides||{})),fe.current=!0}catch(Se){console.error("Error fetching data:",Se)}finally{d(!1)}})()},[e]),Z.useEffect(()=>{if(t!=null&&t.doctor_id&&h.length>0){const ke=h.find(Se=>Se.id===t.doctor_id);a(ke||null)}else a(null)},[t,h]);const He=Z.useMemo(()=>D?vm(D,A,b,L,h,_,E,X):Ce,[D,A,b,L,h,_,E,X,Ce]);Z.useEffect(()=>{e&&!f&&(async()=>{if(!h||h.length===0){Je([]);return}const Se=lo(A,b,L,h,_,E,!0,He,J,ae),$e=new Date(A),Ot=$e.getDay(),Vt=$e.getDate()-Ot+(Ot===0?-6:1);$e.setDate(Vt);const bA=new Date($e);bA.setDate(bA.getDate()+6);const iA=$e.toISOString().split("T")[0],Tt=bA.toISOString().split("T")[0];try{const EA=await tl.getSlots(iA,Tt),kr=Se.map(zA=>{const IA=EA.find(cr=>cr.id===zA.id);if(IA)return{...zA,...IA};const TA=X[zA.id];if(TA){if(TA==="__CLOSED__")return{...zA,assignedDoctorId:null,isLocked:!0,isClosed:!0};{const cr=TA.startsWith("auto:"),Ur=cr?TA.substring(5):TA;return{...zA,assignedDoctorId:Ur,isLocked:!0,isAutoAssigned:cr}}}return zA});Je(kr)}catch(EA){console.error("Error loading schedule slots:",EA),Je(Se)}})()},[A,b,L,h,_,E,He,X,J,ae,e,f]);const Ge=Z.useMemo(()=>!st||st.length===0?[]:H0(st,L,h),[st,L,h,_]),at=async ke=>{Je(ke);try{await tl.saveSlots(ke)}catch(Se){console.error("Failed to save schedule",Se)}},ct=async ke=>{console.log(" Saving template:",ke.length,"slots"),x(ke);try{const Se=await tl.saveTemplate(ke);x(Se),console.log(" Template saved successfully, updated with",Se.length,"items")}catch(Se){console.error(" Failed to save template:",Se),alert("Erreur lors de la sauvegarde du template. Vrifiez la console.")}},It=async ke=>{try{const Se=await pm.create(ke);W([...L,Se])}catch(Se){console.error(Se)}},St=async ke=>{try{await pm.delete(ke),W(L.filter(Se=>Se.id!==ke))}catch(Se){console.error(Se)}},Pt=async ke=>{const Se=ke.trim();if(!E.find($e=>$e.name===Se))try{const $e=await Jh.create({name:Se,frequency:"WEEKLY"});U([...E,$e])}catch($e){console.error($e)}},ht=async ke=>{try{await Jh.delete(ke),U($e=>$e.filter(Ot=>Ot.id!==ke));const Se=E.find($e=>$e.id===ke);Se&&(x($e=>$e.filter(Ot=>Ot.location!==Se.name&&Ot.subType!==Se.name)),Je($e=>$e.filter(Ot=>Ot.location!==Se.name&&Ot.subType!==Se.name)))}catch(Se){console.error(Se)}},Ct=async ke=>{try{const Se=await Jh.update(ke);U(E.map($e=>$e.id===ke.id?Se:$e))}catch(Se){console.error(Se)}},zt=async(ke,Se)=>{const $e=E.find(Ot=>Ot.name===ke);$e&&await Ct({...$e,name:Se})},ze=async ke=>{try{const Se=await Yh.create(ke);g([...h,Se])}catch(Se){console.error(Se)}},be=async ke=>{try{const Se=await Yh.update(ke);g(h.map($e=>$e.id===ke.id?Se:$e)),n&&n.id===ke.id&&a(Se)}catch(Se){console.error(Se)}},Me=async ke=>{try{await Yh.delete(ke),g(Se=>Se.filter($e=>$e.id!==ke)),x(Se=>Se.map($e=>{const Ot={...$e};return Ot.defaultDoctorId===ke&&(Ot.defaultDoctorId=null),Ot.doctorIds&&(Ot.doctorIds=Ot.doctorIds.filter(Vt=>Vt!==ke)),Ot.secondaryDoctorIds&&(Ot.secondaryDoctorIds=Ot.secondaryDoctorIds.filter(Vt=>Vt!==ke)),Ot.backupDoctorId===ke&&(Ot.backupDoctorId=null),Ot})),W(Se=>Se.filter($e=>$e.doctorId!==ke)),n&&n.id===ke&&a(null)}catch(Se){console.error("Error deleting doctor:",Se),alert("Une erreur est survenue lors de la suppression.")}},dt=async ke=>{try{const Se=await Wh.create(ke);Q([..._,Se])}catch(Se){console.error(Se)}},xt=async ke=>{try{const Se=await Wh.update(ke);Q(_.map($e=>$e.id===ke.id?Se:$e))}catch(Se){console.error(Se)}},_t=async ke=>{try{const Se=_.find($e=>$e.id===ke);if(Se!=null&&Se.isSystem){alert("Impossible de supprimer une activit systme.");return}await Wh.delete(ke),Q(_.filter($e=>$e.id!==ke)),h.forEach($e=>{var Ot;if((Ot=$e.excludedActivities)!=null&&Ot.includes(ke)){const Vt={...$e,excludedActivities:$e.excludedActivities.filter(bA=>bA!==ke)};be(Vt)}})}catch(Se){console.error(Se),alert("Erreur lors de la suppression de l'activit.")}},FA=async ke=>{const Se=ke.trim();if(!w.includes(Se)){const $e=[...w,Se];S($e),await Jl.update({postes:$e})}},Xt=async ke=>{const Se=w.filter($e=>$e!==ke);S(Se),await Jl.update({postes:Se})},qA=async ke=>{O(ke),await Jl.update({activitiesStartDate:ke})},uA=async ke=>{if(!Y.includes(ke)){const Se=[...Y,ke];Ae(Se),await Jl.update({validatedWeeks:Se})}},LA=async ke=>{const Se=Y.filter($e=>$e!==ke);Ae(Se),await Jl.update({validatedWeeks:Se})},wA=async ke=>{re(ke),await Jl.update({manualOverrides:ke})},wt=async ke=>{try{await tl.addRcpException(ke);const Se=ae.filter($e=>!($e.rcpTemplateId===ke.rcpTemplateId&&$e.originalDate===ke.originalDate));me([...Se,ke])}catch(Se){console.error("addRcpException failed:",Se)}},Ht=async(ke,Se)=>{try{await tl.deleteRcpException(ke,Se),me($e=>$e.filter(Ot=>!(Ot.rcpTemplateId===ke&&Ot.originalDate===Se)))}catch($e){console.error($e)}},Ee=async ke=>{V(ke)},Nt=async ke=>{try{d(!0),await xI.importData(ke),alert("Configuration importe avec succs ! Rechargez la page."),window.location.reload()}catch(Se){console.error("Import failed",Se),alert("Erreur lors de l'importation.")}finally{d(!1)}};if(f&&e)return c.jsx("div",{className:"flex items-center justify-center h-screen",children:"Chargement des donnes..."});const Ye=({children:ke})=>{const{session:Se}=Bi(),[$e,Ot]=Z.useState(!1);return Se?c.jsxs("div",{className:"flex h-screen overflow-hidden print:overflow-visible print:h-auto print:block",children:[c.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-14 bg-slate-900 text-white flex items-center justify-between px-4 z-50 shadow-md",children:[c.jsx("span",{className:"font-bold tracking-wider text-blue-400",children:"RadioPlan AI"}),c.jsx("button",{onClick:()=>Ot(!$e),className:"p-2 rounded hover:bg-slate-800",children:c.jsx($3,{className:"w-6 h-6"})})]}),c.jsx(mI,{isOpen:$e,onClose:()=>Ot(!1)}),c.jsx("div",{className:"flex-1 flex flex-col overflow-hidden print:overflow-visible print:h-auto print:block pt-14 md:pt-0 transition-all duration-300",children:c.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-slate-50 p-4 md:p-6 print:overflow-visible print:h-auto print:bg-white print:p-0",children:ke})})]}):c.jsx(c.Fragment,{children:ke})};return c.jsx(Ni.Provider,{value:{doctors:h,addDoctor:ze,updateDoctor:be,removeDoctor:Me,currentUser:n,schedule:st,template:b,unavailabilities:L,conflicts:Ge,rcpTypes:E,postes:w,addPoste:FA,removePoste:Xt,activityDefinitions:_,addActivityDefinition:dt,updateActivityDefinition:xt,removeActivityDefinition:_t,updateSchedule:at,updateTemplate:ct,addUnavailability:It,removeUnavailability:St,setCurrentUser:a,addRcpType:Pt,updateRcpDefinition:Ct,removeRcpType:ht,renameRcpType:zt,shiftHistory:Ce,manualOverrides:X,setManualOverrides:wA,importConfiguration:Nt,rcpAttendance:J,setRcpAttendance:Ee,rcpExceptions:ae,addRcpException:wt,removeRcpException:Ht,activitiesStartDate:D,setActivitiesStartDate:qA,validatedWeeks:Y,validateWeek:uA,unvalidateWeek:LA,activitiesWeekOffset:ce,setActivitiesWeekOffset:Ne,activitiesActiveTab:te,setActivitiesActiveTab:N,profileRcpWeekOffset:k,setProfileRcpWeekOffset:G,dashboardViewMode:z,setDashboardViewMode:he,dashboardWeekOffset:ue,setDashboardWeekOffset:Qe,configActiveTab:Pe,setConfigActiveTab:ut,configRcpWeekOffset:Te,setConfigRcpWeekOffset:Qt},children:c.jsx(NE,{children:c.jsxs(sE,{children:[c.jsx(Ta,{path:"/login",element:c.jsx(wI,{})}),c.jsx(Ta,{path:"/",element:c.jsx(Al,{children:c.jsx(Ye,{children:c.jsx(_S,{})})})}),c.jsx(Ta,{path:"/planning",element:c.jsx(Al,{children:c.jsx(Ye,{children:c.jsx(X6,{})})})}),c.jsx(Ta,{path:"/activities",element:c.jsx(Al,{children:c.jsx(Ye,{children:c.jsx(gI,{})})})}),c.jsx(Ta,{path:"/configuration",element:c.jsx(Al,{children:c.jsx(Ye,{children:c.jsx(hI,{})})})}),c.jsx(Ta,{path:"/data",element:c.jsx(Al,{children:c.jsx(Ye,{children:c.jsx(pI,{})})})}),c.jsx(Ta,{path:"/profile",element:c.jsx(Al,{children:c.jsx(Ye,{children:c.jsx(dI,{})})})}),c.jsx(Ta,{path:"/admin/roles",element:c.jsx(Al,{children:c.jsx(Ye,{children:c.jsx(Hy,{permission:"manage_users",children:c.jsx(vI,{})})})})}),c.jsx(Ta,{path:"/admin/team",element:c.jsx(Al,{children:c.jsx(Ye,{children:c.jsx(Hy,{permission:"manage_users",children:c.jsx(yI,{})})})})}),c.jsx(Ta,{path:"*",element:c.jsx(F1,{to:"/",replace:!0})})]})})})},$5=document.getElementById("root");if(!$5)throw new Error("Could not find root element to mount to");const CI=fC.createRoot($5);CI.render(c.jsx(rf.StrictMode,{children:c.jsx(uI,{children:c.jsx(BI,{})})}));export{WA as _,EI as c,C1 as g};
